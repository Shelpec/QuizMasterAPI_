2025-02-13 12:16:17.485 +05:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 12:16:17.560 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 12:16:17.674 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 12:16:17.834 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 12:16:17.905 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 12:16:17.906 +05:00 [INF] Hosting environment: Development
2025-02-13 12:16:17.906 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-13 12:16:18.763 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 12:16:18.763 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 12:16:18.766 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 937.8908ms
2025-02-13 12:16:18.774 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.5033ms
2025-02-13 12:16:18.843 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.0713ms
2025-02-13 12:16:18.888 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 12:16:18.946 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.6144ms
2025-02-13 12:16:26.090 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:16:26.100 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:26.157 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 12:16:26.160 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 12:16:26.161 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 71.3601ms
2025-02-13 12:16:29.575 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-13 12:16:29.578 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:29.579 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 3.4599ms
2025-02-13 12:16:29.580 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-13 12:16:29.581 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:29.584 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 12:16:29.600 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 12:16:29.628 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-13 12:16:29.674 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 12:16:29.801 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 12:16:29.820 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-13 12:16:29.825 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 12:16:29.831 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 227.0798ms
2025-02-13 12:16:29.831 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 12:16:29.834 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 253.9788ms
2025-02-13 12:16:29.845 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:16:29.845 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:29.846 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.0975ms
2025-02-13 12:16:29.848 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:16:29.848 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:29.882 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 12:16:29.885 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 12:16:29.980 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 12:16:29.981 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 12:16:30.006 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 12:16:30.064 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 12:16:30.112 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:16:30.119 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 233.7082ms
2025-02-13 12:16:30.120 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 12:16:30.121 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 273.0329ms
2025-02-13 12:16:33.346 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:16:33.346 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:33.347 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.978ms
2025-02-13 12:16:33.362 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:16:33.362 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:33.364 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:16:33.367 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:16:33.369 +05:00 [INF] GetAll Topics
2025-02-13 12:16:33.378 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:16:33.383 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:16:33.384 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 16.8512ms
2025-02-13 12:16:33.384 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:16:33.385 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 23.1923ms
2025-02-13 12:16:40.358 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:16:40.359 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:40.359 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.773ms
2025-02-13 12:16:40.361 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:16:40.361 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:40.362 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:16:40.362 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:16:40.363 +05:00 [INF] GetAll Topics
2025-02-13 12:16:40.365 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:16:40.366 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:16:40.367 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.9543ms
2025-02-13 12:16:40.367 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:16:40.367 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 6.4517ms
2025-02-13 12:16:44.032 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:16:44.032 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:16:44.033 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:16:44.033 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:16:44.036 +05:00 [INF] GetAll Topics
2025-02-13 12:16:44.038 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:16:44.039 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:16:44.040 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 6.8739ms
2025-02-13 12:16:44.040 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:16:44.040 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 8.6765ms
2025-02-13 12:17:52.897 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:17:52.898 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:17:52.898 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.5777ms
2025-02-13 12:17:52.900 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:17:52.901 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:17:52.901 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:17:52.902 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:17:52.903 +05:00 [INF] GetAll Topics
2025-02-13 12:17:52.906 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:17:52.937 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:17:52.937 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 35.2596ms
2025-02-13 12:17:52.937 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:17:52.937 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 36.932ms
2025-02-13 12:17:56.062 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions/1005 - null null
2025-02-13 12:17:56.063 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:17:56.063 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions/1005 - 204 null null 0.9096ms
2025-02-13 12:17:56.065 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/questions/1005 - application/json 294
2025-02-13 12:17:56.065 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:17:56.067 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.UpdateQuestion (QuizMasterAPI)'
2025-02-13 12:17:56.070 +05:00 [INF] Route matched with {action = "UpdateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestion(Int32, QuizMasterAPI.Models.DTOs.UpdateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 12:17:56.083 +05:00 [INF] Вход в UpdateQuestion(Id=1005)
2025-02-13 12:17:56.083 +05:00 [INF] UpdateQuestion(Id=1005)
2025-02-13 12:17:56.084 +05:00 [INF] GetQuestion(Id=1005)
2025-02-13 12:17:56.119 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id0], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name]
FROM (
    SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id] AS [Id0], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
    FROM [Questions] AS [q]
    LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
    WHERE [q].[Id] = @__id_0
) AS [s]
LEFT JOIN [AnswerOptions] AS [a] ON [s].[Id] = [a].[QuestionId]
ORDER BY [s].[Id], [s].[Id0]
2025-02-13 12:17:56.226 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p7='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p11='?' (DbType = Int32), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p16='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AnswerOptions] SET [IsCorrect] = @p0, [QuestionId] = @p1, [Text] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [AnswerOptions] SET [IsCorrect] = @p4, [QuestionId] = @p5, [Text] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [AnswerOptions] SET [IsCorrect] = @p8, [QuestionId] = @p9, [Text] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [Questions] SET [CorrectTextAnswer] = @p12, [QuestionType] = @p13, [Text] = @p14, [TopicId] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-02-13 12:17:56.240 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-13 12:17:56.243 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.UpdateQuestion (QuizMasterAPI) in 173.0495ms
2025-02-13 12:17:56.244 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.UpdateQuestion (QuizMasterAPI)'
2025-02-13 12:17:56.244 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/questions/1005 - 200 null application/json; charset=utf-8 178.9521ms
2025-02-13 12:17:56.248 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:17:56.248 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:17:56.248 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3826ms
2025-02-13 12:17:56.249 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:17:56.249 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:17:56.250 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 12:17:56.250 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 12:17:56.252 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 12:17:56.252 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 12:17:56.253 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 12:17:56.255 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 12:17:56.256 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:17:56.256 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.4846ms
2025-02-13 12:17:56.256 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 12:17:56.257 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.3969ms
2025-02-13 12:18:03.607 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:18:03.607 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:18:03.607 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.7291ms
2025-02-13 12:18:03.609 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:18:03.609 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:18:03.610 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:18:03.610 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:18:03.611 +05:00 [INF] GetAll Topics
2025-02-13 12:18:03.614 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:18:03.619 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:18:03.620 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 9.385ms
2025-02-13 12:18:03.620 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:18:03.620 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 10.9992ms
2025-02-13 12:18:19.757 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions/1004 - null null
2025-02-13 12:18:19.757 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:18:19.758 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions/1004 - 204 null null 0.9221ms
2025-02-13 12:18:19.760 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/questions/1004 - application/json 253
2025-02-13 12:18:19.760 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:18:19.761 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.UpdateQuestion (QuizMasterAPI)'
2025-02-13 12:18:19.761 +05:00 [INF] Route matched with {action = "UpdateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestion(Int32, QuizMasterAPI.Models.DTOs.UpdateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 12:18:19.762 +05:00 [INF] Вход в UpdateQuestion(Id=1004)
2025-02-13 12:18:19.762 +05:00 [INF] UpdateQuestion(Id=1004)
2025-02-13 12:18:19.762 +05:00 [INF] GetQuestion(Id=1004)
2025-02-13 12:18:19.764 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id0], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name]
FROM (
    SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id] AS [Id0], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
    FROM [Questions] AS [q]
    LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
    WHERE [q].[Id] = @__id_0
) AS [s]
LEFT JOIN [AnswerOptions] AS [a] ON [s].[Id] = [a].[QuestionId]
ORDER BY [s].[Id], [s].[Id0]
2025-02-13 12:18:19.778 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p7='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p11='?' (DbType = Int32), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p15='?' (DbType = Int32), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p20='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (Size = 4000), @p19='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AnswerOptions] SET [IsCorrect] = @p0, [QuestionId] = @p1, [Text] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [AnswerOptions] SET [IsCorrect] = @p4, [QuestionId] = @p5, [Text] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [AnswerOptions] SET [IsCorrect] = @p8, [QuestionId] = @p9, [Text] = @p10
OUTPUT 1
WHERE [Id] = @p11;
UPDATE [AnswerOptions] SET [IsCorrect] = @p12, [QuestionId] = @p13, [Text] = @p14
OUTPUT 1
WHERE [Id] = @p15;
UPDATE [Questions] SET [CorrectTextAnswer] = @p16, [QuestionType] = @p17, [Text] = @p18, [TopicId] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-02-13 12:18:19.790 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-13 12:18:19.791 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.UpdateQuestion (QuizMasterAPI) in 30.6027ms
2025-02-13 12:18:19.791 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.UpdateQuestion (QuizMasterAPI)'
2025-02-13 12:18:19.792 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/questions/1004 - 200 null application/json; charset=utf-8 31.9878ms
2025-02-13 12:18:19.794 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:18:19.795 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:18:19.795 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3575ms
2025-02-13 12:18:19.796 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:18:19.796 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:18:19.796 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 12:18:19.796 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 12:18:19.797 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 12:18:19.797 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 12:18:19.798 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 12:18:19.800 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 12:18:19.801 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:18:19.801 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5ms
2025-02-13 12:18:19.802 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 12:18:19.802 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8964ms
2025-02-13 12:19:09.537 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:19:09.538 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:09.538 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.9583ms
2025-02-13 12:19:09.541 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:19:09.542 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:09.542 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:19:09.542 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:19:09.544 +05:00 [INF] GetAll Topics
2025-02-13 12:19:09.581 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:19:09.585 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:19:09.585 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 42.5874ms
2025-02-13 12:19:09.585 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:19:09.585 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 44.2696ms
2025-02-13 12:19:14.667 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 12:19:14.667 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:14.668 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.9384ms
2025-02-13 12:19:14.674 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 12:19:14.675 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:14.675 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 12:19:14.678 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 12:19:14.681 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 12:19:14.682 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 12:19:14.688 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 12:19:14.699 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 12:19:14.720 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:19:14.727 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 49.1559ms
2025-02-13 12:19:14.728 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 12:19:14.728 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 53.758ms
2025-02-13 12:19:15.639 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:19:15.639 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:15.639 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.4445ms
2025-02-13 12:19:15.640 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:19:15.640 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:15.641 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:19:15.641 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:19:15.642 +05:00 [INF] GetAll Topics
2025-02-13 12:19:15.643 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:19:15.644 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:19:15.644 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.4448ms
2025-02-13 12:19:15.644 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:19:15.645 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.3158ms
2025-02-13 12:19:27.917 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:19:27.917 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:27.917 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.4879ms
2025-02-13 12:19:27.919 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:19:27.919 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:27.919 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:19:27.920 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:19:27.921 +05:00 [INF] GetAll Topics
2025-02-13 12:19:27.922 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:19:27.923 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:19:27.924 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.9773ms
2025-02-13 12:19:27.924 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:19:27.924 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.2134ms
2025-02-13 12:19:30.813 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:19:30.814 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:30.815 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.3704ms
2025-02-13 12:19:30.818 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 12:19:30.819 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:30.820 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 12:19:30.820 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 12:19:30.821 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 12:19:30.821 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 12:19:30.823 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 12:19:30.826 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 12:19:30.827 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:19:30.827 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.1263ms
2025-02-13 12:19:30.827 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 12:19:30.828 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.6782ms
2025-02-13 12:19:33.010 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:19:33.010 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:33.010 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3991ms
2025-02-13 12:19:33.012 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 12:19:33.012 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:19:33.013 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:19:33.013 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:19:33.014 +05:00 [INF] GetAll Topics
2025-02-13 12:19:33.015 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 12:19:33.016 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 12:19:33.017 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.6295ms
2025-02-13 12:19:33.017 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-13 12:19:33.017 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.8584ms
2025-02-13 12:20:17.524 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 12:20:17.524 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:20:17.525 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.7544ms
2025-02-13 12:20:17.527 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/topic - application/json 40
2025-02-13 12:20:17.527 +05:00 [INF] CORS policy execution successful.
2025-02-13 12:20:17.527 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI)'
2025-02-13 12:20:17.530 +05:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Create(QuizMasterAPI.Models.DTOs.CreateTopicDto) on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-13 12:20:17.556 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([CategoryId], [IsSurveyTopic], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-13 12:20:17.597 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'QuizDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:964b8a5a-775e-43b4-8e75-f2ae401a5150
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:964b8a5a-775e-43b4-8e75-f2ae401a5150
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-13 12:20:17.690 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI) in 160.178ms
2025-02-13 12:20:17.690 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI)'
2025-02-13 12:20:17.737 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:964b8a5a-775e-43b4-8e75-f2ae401a5150
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.GenericRepository`1.SaveChangesAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\GenericRepository.cs:line 55
   at QuizMasterAPI.Services.TopicService.CreateTopicAsync(CreateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 46
   at QuizMasterAPI.Controllers.TopicController.Create(CreateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 52
   at lambda_method622(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 12:20:17.752 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/topic - 500 null application/json 225.4921ms
2025-02-13 13:11:13.714 +05:00 [WRN] The foreign key property 'Question.TopicId1' was created in shadow state because a conflicting property with the simple name 'TopicId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-02-13 13:11:14.295 +05:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:11:14.360 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:11:14.460 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 13:11:14.579 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 13:11:14.649 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 13:11:14.649 +05:00 [INF] Hosting environment: Development
2025-02-13 13:11:14.649 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-13 13:11:14.757 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 187.8071ms
2025-02-13 13:11:14.760 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:11:14.789 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 23.3725ms
2025-02-13 13:11:14.822 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 13:11:14.850 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4022ms
2025-02-13 13:11:14.891 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:11:14.918 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.1424ms
2025-02-13 13:13:40.559 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-13 13:13:40.600 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:13:40.650 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 13:13:40.665 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 13:13:40.696 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-13 13:13:40.744 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 13:13:40.873 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 13:13:40.893 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-13 13:13:40.898 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 13:13:40.905 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 236.2516ms
2025-02-13 13:13:40.905 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 13:13:40.908 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 352.2603ms
2025-02-13 13:20:38.295 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Topic - application/json 65
2025-02-13 13:20:38.299 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:20:38.331 +05:00 [INF] Executing endpoint 'TopicController.Create (QuizMasterAPI)'
2025-02-13 13:20:38.346 +05:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Create(QuizMasterAPI.Models.DTOs.CreateTopicDto) on controller TopicController (QuizMasterAPI).
2025-02-13 13:20:38.541 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([CategoryId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 13:20:38.568 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.DTOs.TopicDto'.
2025-02-13 13:20:38.585 +05:00 [INF] Executed action TopicController.Create (QuizMasterAPI) in 239.1624ms
2025-02-13 13:20:38.585 +05:00 [INF] Executed endpoint 'TopicController.Create (QuizMasterAPI)'
2025-02-13 13:20:38.586 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Topic - 201 null application/json; charset=utf-8 313.8769ms
2025-02-13 13:23:32.473 +05:00 [WRN] The foreign key property 'Question.TopicId1' was created in shadow state because a conflicting property with the simple name 'TopicId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-02-13 13:24:30.184 +05:00 [WRN] The foreign key property 'Question.TopicId1' was created in shadow state because a conflicting property with the simple name 'TopicId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-02-13 13:24:30.503 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 13:24:30.515 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-13 13:24:30.533 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-13 13:24:30.582 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-13 13:24:30.597 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 13:24:30.604 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-13 13:24:30.611 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-13 13:24:30.621 +05:00 [INF] Applying migration '20250213082332_RemoveIsSurveyTopicFromTopic'.
2025-02-13 13:24:30.671 +05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Topics]') AND [c].[name] = N'IsSurveyTopic');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Topics] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Topics] DROP COLUMN [IsSurveyTopic];
2025-02-13 13:24:30.681 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Questions] ADD [TopicId1] int NULL;
2025-02-13 13:24:30.699 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Questions_TopicId1] ON [Questions] ([TopicId1]);
2025-02-13 13:24:30.709 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Questions] ADD CONSTRAINT [FK_Questions_Topics_TopicId1] FOREIGN KEY ([TopicId1]) REFERENCES [Topics] ([Id]);
2025-02-13 13:24:30.717 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250213082332_RemoveIsSurveyTopicFromTopic', N'9.0.1');
2025-02-13 13:24:30.729 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-13 13:24:57.814 +05:00 [WRN] The foreign key property 'Question.TopicId1' was created in shadow state because a conflicting property with the simple name 'TopicId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-02-13 13:24:58.404 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:24:58.460 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:24:58.574 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 13:24:58.715 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 13:24:58.798 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 13:24:58.798 +05:00 [INF] Hosting environment: Development
2025-02-13 13:24:58.798 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-13 13:24:58.891 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 186.1421ms
2025-02-13 13:24:58.893 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:24:58.905 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.2671ms
2025-02-13 13:24:58.951 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 13:24:58.982 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.7601ms
2025-02-13 13:24:59.043 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:24:59.075 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.5743ms
2025-02-13 13:25:00.215 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:25:00.219 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.683ms
2025-02-13 13:25:00.328 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:25:00.354 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.5439ms
2025-02-13 13:25:59.748 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Topic - application/json 69
2025-02-13 13:25:59.761 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:25:59.835 +05:00 [INF] Executing endpoint 'TopicController.Create (QuizMasterAPI)'
2025-02-13 13:25:59.850 +05:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Create(QuizMasterAPI.Models.DTOs.CreateTopicDto) on controller TopicController (QuizMasterAPI).
2025-02-13 13:26:00.097 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([CategoryId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 13:26:00.131 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.DTOs.TopicDto'.
2025-02-13 13:26:00.148 +05:00 [INF] Executed action TopicController.Create (QuizMasterAPI) in 294.8647ms
2025-02-13 13:26:00.148 +05:00 [INF] Executed endpoint 'TopicController.Create (QuizMasterAPI)'
2025-02-13 13:26:00.152 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Topic - 201 null application/json; charset=utf-8 403.7348ms
2025-02-13 13:29:45.993 +05:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:29:46.085 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:29:46.182 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 13:29:46.310 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 13:29:46.388 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 13:29:46.388 +05:00 [INF] Hosting environment: Development
2025-02-13 13:29:46.388 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-13 13:29:46.485 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 185.6872ms
2025-02-13 13:29:46.498 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:29:46.502 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.3702ms
2025-02-13 13:29:46.541 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 13:29:46.577 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.5318ms
2025-02-13 13:29:46.612 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:29:46.646 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.3858ms
2025-02-13 13:30:26.867 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 13:30:26.895 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-13 13:30:26.911 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-13 13:30:26.958 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-13 13:30:26.972 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-13 13:30:26.977 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-13 13:30:26.989 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-13 13:30:26.998 +05:00 [INF] Applying migration '20250213083019_RemoveIsSurveyTopicFromTopic_2'.
2025-02-13 13:30:27.025 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Questions] DROP CONSTRAINT [FK_Questions_Topics_TopicId1];
2025-02-13 13:30:27.036 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Questions_TopicId1] ON [Questions];
2025-02-13 13:30:27.062 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'TopicId1');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Questions] DROP COLUMN [TopicId1];
2025-02-13 13:30:27.071 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250213083019_RemoveIsSurveyTopicFromTopic_2', N'9.0.1');
2025-02-13 13:30:27.083 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-13 13:30:57.211 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:30:57.297 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:30:57.412 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 13:30:57.547 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 13:30:57.625 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 13:30:57.625 +05:00 [INF] Hosting environment: Development
2025-02-13 13:30:57.625 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-13 13:30:57.718 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 182.8939ms
2025-02-13 13:30:57.720 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:30:57.730 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.4473ms
2025-02-13 13:30:57.780 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 13:30:57.810 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.5067ms
2025-02-13 13:30:57.846 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:30:57.872 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.3873ms
2025-02-13 13:31:20.394 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Topic - null null
2025-02-13 13:31:20.486 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:31:20.499 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 13:31:20.628 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 13:31:20.664 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:31:20.672 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 168.7218ms
2025-02-13 13:31:20.672 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:31:20.676 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Topic - 200 null application/json; charset=utf-8 282.2309ms
2025-02-13 13:32:14.157 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/Topic/1 - application/json 87
2025-02-13 13:32:14.160 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:32:14.162 +05:00 [INF] Executing endpoint 'TopicController.Update (QuizMasterAPI)'
2025-02-13 13:32:14.171 +05:00 [INF] Route matched with {action = "Update", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Update(Int32, QuizMasterAPI.Models.DTOs.UpdateTopicDto) on controller TopicController (QuizMasterAPI).
2025-02-13 13:32:14.217 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 13:32:14.292 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Topics] SET [CategoryId] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-13 13:32:14.301 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TopicDto'.
2025-02-13 13:32:14.302 +05:00 [INF] Executed action TopicController.Update (QuizMasterAPI) in 130.6075ms
2025-02-13 13:32:14.302 +05:00 [INF] Executed endpoint 'TopicController.Update (QuizMasterAPI)'
2025-02-13 13:32:14.303 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/Topic/1 - 200 null application/json; charset=utf-8 145.8866ms
2025-02-13 13:33:11.737 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 13:33:11.754 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 17.0447ms
2025-02-13 13:33:11.775 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 13:33:11.775 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:33:11.780 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.8645ms
2025-02-13 13:33:11.799 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.647ms
2025-02-13 13:33:11.921 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:33:11.960 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.2552ms
2025-02-13 13:33:24.365 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:33:24.366 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:24.368 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 3.0506ms
2025-02-13 13:33:24.380 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:33:24.381 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:24.411 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:33:24.416 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:33:24.426 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 13:33:24.431 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 13:33:24.479 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:33:24.563 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:33:24.598 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:33:24.605 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 189.2041ms
2025-02-13 13:33:24.605 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:33:24.606 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 226.1983ms
2025-02-13 13:33:29.746 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:33:29.747 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:29.753 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 13:33:29.758 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 13:33:29.761 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 15.7392ms
2025-02-13 13:33:31.481 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-13 13:33:31.482 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:31.482 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 1.1859ms
2025-02-13 13:33:31.485 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-13 13:33:31.486 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:31.486 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 13:33:31.488 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 13:33:31.495 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-13 13:33:31.506 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 13:33:31.605 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 13:33:31.612 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-13 13:33:31.613 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 13:33:31.616 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 127.0381ms
2025-02-13 13:33:31.616 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 13:33:31.616 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 131.2964ms
2025-02-13 13:33:31.630 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:33:31.630 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:31.630 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.6876ms
2025-02-13 13:33:31.635 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:33:31.636 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:31.638 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:33:31.639 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:33:31.642 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 13:33:31.642 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 13:33:31.644 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:33:31.648 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:33:31.652 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:33:31.653 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 13.7153ms
2025-02-13 13:33:31.653 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:33:31.653 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 18.0422ms
2025-02-13 13:33:33.531 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 13:33:33.531 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:33.531 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.7278ms
2025-02-13 13:33:33.534 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 13:33:33.534 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:33.535 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:33:33.535 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 13:33:33.540 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 13:33:33.541 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:33:33.542 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 6.668ms
2025-02-13 13:33:33.542 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:33:33.542 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 8.0589ms
2025-02-13 13:33:42.410 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 13:33:42.411 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:42.411 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.87ms
2025-02-13 13:33:42.413 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/topic - application/json 33
2025-02-13 13:33:42.413 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:33:42.414 +05:00 [INF] Executing endpoint 'TopicController.Create (QuizMasterAPI)'
2025-02-13 13:33:42.417 +05:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Create(QuizMasterAPI.Models.DTOs.CreateTopicDto) on controller TopicController (QuizMasterAPI).
2025-02-13 13:33:42.466 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([CategoryId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 13:33:42.487 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'QuizDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d783019b-4723-49c3-a8c4-96dd5f08c535
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d783019b-4723-49c3-a8c4-96dd5f08c535
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-13 13:33:42.576 +05:00 [INF] Executed action TopicController.Create (QuizMasterAPI) in 158.863ms
2025-02-13 13:33:42.576 +05:00 [INF] Executed endpoint 'TopicController.Create (QuizMasterAPI)'
2025-02-13 13:33:42.624 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d783019b-4723-49c3-a8c4-96dd5f08c535
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.GenericRepository`1.SaveChangesAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\GenericRepository.cs:line 55
   at QuizMasterAPI.Services.TopicService.CreateTopicAsync(CreateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 45
   at TopicController.Create(CreateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 42
   at lambda_method424(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 13:33:42.639 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/topic - 500 null application/json 226.0177ms
2025-02-13 13:34:37.496 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic/4009 - null null
2025-02-13 13:34:37.496 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:34:37.496 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic/4009 - 204 null null 0.8279ms
2025-02-13 13:34:37.501 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/topic/4009 - application/json 61
2025-02-13 13:34:37.501 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:34:37.501 +05:00 [INF] Executing endpoint 'TopicController.Update (QuizMasterAPI)'
2025-02-13 13:34:37.501 +05:00 [INF] Route matched with {action = "Update", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Update(Int32, QuizMasterAPI.Models.DTOs.UpdateTopicDto) on controller TopicController (QuizMasterAPI).
2025-02-13 13:34:37.516 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 13:34:37.527 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Topics] SET [CategoryId] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-13 13:34:37.530 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'QuizDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d783019b-4723-49c3-a8c4-96dd5f08c535
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d783019b-4723-49c3-a8c4-96dd5f08c535
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-13 13:34:37.596 +05:00 [INF] Executed action TopicController.Update (QuizMasterAPI) in 94.1471ms
2025-02-13 13:34:37.596 +05:00 [INF] Executed endpoint 'TopicController.Update (QuizMasterAPI)'
2025-02-13 13:34:37.632 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Topics_Categories_CategoryId". The conflict occurred in database "QuizMDb", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d783019b-4723-49c3-a8c4-96dd5f08c535
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.GenericRepository`1.SaveChangesAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\GenericRepository.cs:line 55
   at QuizMasterAPI.Services.TopicService.UpdateTopicAsync(Int32 id, UpdateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 60
   at TopicController.Update(Int32 id, UpdateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 51
   at lambda_method116(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 13:34:37.635 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/topic/4009 - 500 null application/json 134.5676ms
2025-02-13 13:35:19.369 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 13:35:19.375 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 5.7936ms
2025-02-13 13:35:19.392 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 13:35:19.400 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:35:19.407 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.4398ms
2025-02-13 13:35:19.410 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.8827ms
2025-02-13 13:35:19.681 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:35:19.703 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.5608ms
2025-02-13 13:55:34.352 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:55:34.353 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:55:34.353 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.0021ms
2025-02-13 13:55:34.356 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:55:34.357 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:55:34.358 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:55:34.358 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:55:34.362 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 13:55:34.362 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 13:55:34.380 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:55:34.386 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:55:34.388 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:55:34.389 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 30.7428ms
2025-02-13 13:55:34.389 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:55:34.389 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 33.3917ms
2025-02-13 13:55:53.064 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 13:55:53.103 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 38.8752ms
2025-02-13 13:55:53.135 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:55:53.136 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.9438ms
2025-02-13 13:55:53.147 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 13:55:53.153 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.9781ms
2025-02-13 13:55:53.326 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:55:53.341 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.6277ms
2025-02-13 13:56:47.579 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:56:47.654 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 13:56:47.764 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 13:56:47.905 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 13:56:47.977 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 13:56:47.977 +05:00 [INF] Hosting environment: Development
2025-02-13 13:56:47.977 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-13 13:56:48.075 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 13:56:48.076 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 180.9688ms
2025-02-13 13:56:48.084 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.7854ms
2025-02-13 13:56:48.127 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 13:56:48.157 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.8033ms
2025-02-13 13:56:48.199 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 13:56:48.227 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.9376ms
2025-02-13 13:57:23.022 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:57:23.055 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:23.058 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 46.2812ms
2025-02-13 13:57:23.075 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:57:23.079 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:23.192 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:57:23.212 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:57:23.353 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 13:57:23.354 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 13:57:23.389 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:57:23.476 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:57:23.536 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:57:23.549 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 332.59ms
2025-02-13 13:57:23.549 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:57:23.553 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 478.2938ms
2025-02-13 13:57:26.847 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:57:26.849 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:26.853 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:57:26.854 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:57:26.878 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 13:57:26.878 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 13:57:26.883 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:57:26.898 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:57:26.906 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:57:26.907 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 52.5603ms
2025-02-13 13:57:26.907 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:57:26.908 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 60.612ms
2025-02-13 13:57:28.251 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:57:28.252 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:28.260 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 13:57:28.268 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 13:57:28.271 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 19.8448ms
2025-02-13 13:57:30.802 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-13 13:57:30.803 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:30.803 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 1.6577ms
2025-02-13 13:57:30.807 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-13 13:57:30.808 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:30.808 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 13:57:30.812 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 13:57:30.833 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-13 13:57:30.844 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 13:57:30.946 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 13:57:30.953 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-13 13:57:30.954 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 13:57:30.956 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 143.8932ms
2025-02-13 13:57:30.957 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 13:57:30.957 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 149.4453ms
2025-02-13 13:57:30.975 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:57:30.975 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:30.976 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.8132ms
2025-02-13 13:57:30.981 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:57:30.981 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:30.982 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:57:30.982 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:57:30.988 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 13:57:30.988 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 13:57:30.991 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:57:30.997 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:57:31.000 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:57:31.001 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 18.1815ms
2025-02-13 13:57:31.001 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:57:31.002 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 21.0357ms
2025-02-13 13:57:36.678 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/categories - null null
2025-02-13 13:57:36.678 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:36.678 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/categories - 204 null null 0.65ms
2025-02-13 13:57:36.680 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/categories - null null
2025-02-13 13:57:36.681 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:36.681 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 13:57:36.684 +05:00 [INF] Route matched with {action = "GetAll", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.Dto.CategoryDto]]] GetAll() on controller QuizMasterAPI.Controllers.CategoriesController (QuizMasterAPI).
2025-02-13 13:57:36.694 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-02-13 13:57:36.698 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.Dto.CategoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:57:36.699 +05:00 [INF] Executed action QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI) in 14.7124ms
2025-02-13 13:57:36.699 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 13:57:36.699 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/categories - 200 null application/json; charset=utf-8 18.7253ms
2025-02-13 13:57:44.127 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 13:57:44.128 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:44.128 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/categories - null null
2025-02-13 13:57:44.128 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:44.128 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.8575ms
2025-02-13 13:57:44.128 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/categories - 204 null null 0.3703ms
2025-02-13 13:57:44.131 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/categories - null null
2025-02-13 13:57:44.131 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 13:57:44.132 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:44.132 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:57:44.132 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:57:44.132 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 13:57:44.132 +05:00 [INF] Route matched with {action = "GetAll", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.Dto.CategoryDto]]] GetAll() on controller QuizMasterAPI.Controllers.CategoriesController (QuizMasterAPI).
2025-02-13 13:57:44.136 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 13:57:44.136 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-02-13 13:57:44.141 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.Dto.CategoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:57:44.141 +05:00 [INF] Executed action QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI) in 8.736ms
2025-02-13 13:57:44.141 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 13:57:44.141 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/categories - 200 null application/json; charset=utf-8 10.6556ms
2025-02-13 13:57:44.150 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 13:57:44.156 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:57:44.157 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 18.4172ms
2025-02-13 13:57:44.157 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:57:44.157 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 26.6086ms
2025-02-13 13:58:15.999 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic/1 - null null
2025-02-13 13:58:15.999 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:16.000 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic/1 - 204 null null 1.0476ms
2025-02-13 13:58:16.002 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/topic/1 - application/json 60
2025-02-13 13:58:16.002 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:16.002 +05:00 [INF] Executing endpoint 'TopicController.Update (QuizMasterAPI)'
2025-02-13 13:58:16.005 +05:00 [INF] Route matched with {action = "Update", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Update(Int32, QuizMasterAPI.Models.DTOs.UpdateTopicDto) on controller TopicController (QuizMasterAPI).
2025-02-13 13:58:16.024 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 13:58:16.101 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Topics] SET [CategoryId] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-13 13:58:16.110 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TopicDto'.
2025-02-13 13:58:16.110 +05:00 [INF] Executed action TopicController.Update (QuizMasterAPI) in 104.9036ms
2025-02-13 13:58:16.110 +05:00 [INF] Executed endpoint 'TopicController.Update (QuizMasterAPI)'
2025-02-13 13:58:16.111 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/topic/1 - 200 null application/json; charset=utf-8 108.9878ms
2025-02-13 13:58:16.114 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 13:58:16.114 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:16.114 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3912ms
2025-02-13 13:58:16.116 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 13:58:16.116 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:16.117 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:58:16.117 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 13:58:16.119 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 13:58:16.120 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:58:16.121 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 4.0438ms
2025-02-13 13:58:16.121 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:58:16.121 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.1061ms
2025-02-13 13:58:52.978 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 13:58:52.978 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:52.978 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.6528ms
2025-02-13 13:58:52.979 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/topic - application/json 56
2025-02-13 13:58:52.980 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:52.980 +05:00 [INF] Executing endpoint 'TopicController.Create (QuizMasterAPI)'
2025-02-13 13:58:52.982 +05:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Create(QuizMasterAPI.Models.DTOs.CreateTopicDto) on controller TopicController (QuizMasterAPI).
2025-02-13 13:58:53.013 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([CategoryId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 13:58:53.027 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.DTOs.TopicDto'.
2025-02-13 13:58:53.041 +05:00 [INF] Executed action TopicController.Create (QuizMasterAPI) in 58.3853ms
2025-02-13 13:58:53.041 +05:00 [INF] Executed endpoint 'TopicController.Create (QuizMasterAPI)'
2025-02-13 13:58:53.041 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/topic - 201 null application/json; charset=utf-8 61.8279ms
2025-02-13 13:58:53.044 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 13:58:53.044 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:53.044 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:58:53.044 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 13:58:53.047 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 13:58:53.052 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:58:53.053 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 8.3271ms
2025-02-13 13:58:53.053 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:58:53.053 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 9.204ms
2025-02-13 13:58:58.627 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 13:58:58.627 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:58.627 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.7316ms
2025-02-13 13:58:58.630 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 13:58:58.630 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:58:58.630 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:58:58.630 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 13:58:58.632 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 13:58:58.634 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:58:58.634 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.3969ms
2025-02-13 13:58:58.634 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 13:58:58.634 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.7277ms
2025-02-13 13:59:36.226 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-13 13:59:36.226 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:36.226 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.6521ms
2025-02-13 13:59:36.228 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 207
2025-02-13 13:59:36.229 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:36.230 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 13:59:36.233 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:59:36.250 +05:00 [INF] Вход в CreateQuestion для Log(1)
2025-02-13 13:59:36.251 +05:00 [INF] CreateQuestion(Text=Log(1))
2025-02-13 13:59:36.279 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 13:59:36.294 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1),
(@p10, @p11, @p12, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 13:59:36.302 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-13 13:59:36.306 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 72.6318ms
2025-02-13 13:59:36.306 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 13:59:36.306 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 77.598ms
2025-02-13 13:59:36.311 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:59:36.311 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:36.311 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.375ms
2025-02-13 13:59:36.312 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 13:59:36.313 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:36.313 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:36.313 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:59:36.314 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 13:59:36.314 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 13:59:36.316 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:59:36.322 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:59:36.323 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:59:36.323 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 10.0626ms
2025-02-13 13:59:36.323 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:36.324 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.317ms
2025-02-13 13:59:48.963 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-13 13:59:48.963 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:48.964 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - 204 null null 0.668ms
2025-02-13 13:59:48.968 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-13 13:59:48.968 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:48.969 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:48.969 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:59:48.970 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=2, pageSize=5
2025-02-13 13:59:48.970 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=2, pageSize=5)
2025-02-13 13:59:48.972 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:59:48.996 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:59:48.998 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:59:48.998 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 29.2755ms
2025-02-13 13:59:48.998 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:48.999 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - 200 null application/json; charset=utf-8 30.5438ms
2025-02-13 13:59:49.238 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-13 13:59:49.239 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:49.239 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.6399ms
2025-02-13 13:59:49.241 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-13 13:59:49.242 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:49.242 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:49.243 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:59:49.244 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-13 13:59:49.244 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-13 13:59:49.245 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:59:49.249 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:59:49.250 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:59:49.250 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.7845ms
2025-02-13 13:59:49.250 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:49.251 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 9.3783ms
2025-02-13 13:59:49.427 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=4&pageSize=5 - null null
2025-02-13 13:59:49.427 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:49.428 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=4&pageSize=5 - 204 null null 0.7103ms
2025-02-13 13:59:49.429 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=4&pageSize=5 - null null
2025-02-13 13:59:49.430 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:49.430 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:49.430 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:59:49.432 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=4, pageSize=5
2025-02-13 13:59:49.432 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=4, pageSize=5)
2025-02-13 13:59:49.433 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:59:49.435 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:59:49.436 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:59:49.436 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.1018ms
2025-02-13 13:59:49.436 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:49.436 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=4&pageSize=5 - 200 null application/json; charset=utf-8 6.6851ms
2025-02-13 13:59:49.623 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=5&pageSize=5 - null null
2025-02-13 13:59:49.623 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:49.623 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=5&pageSize=5 - 204 null null 0.4278ms
2025-02-13 13:59:49.625 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=5&pageSize=5 - null null
2025-02-13 13:59:49.625 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:49.625 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:49.625 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:59:49.626 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=5, pageSize=5
2025-02-13 13:59:49.626 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=5, pageSize=5)
2025-02-13 13:59:49.627 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:59:49.629 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:59:49.630 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:59:49.630 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.8306ms
2025-02-13 13:59:49.630 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:49.630 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=5&pageSize=5 - 200 null application/json; charset=utf-8 5.9443ms
2025-02-13 13:59:49.834 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=6&pageSize=5 - null null
2025-02-13 13:59:49.834 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:49.834 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=6&pageSize=5 - 204 null null 0.4414ms
2025-02-13 13:59:49.836 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=6&pageSize=5 - null null
2025-02-13 13:59:49.836 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:49.837 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:49.837 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:59:49.838 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=6, pageSize=5
2025-02-13 13:59:49.838 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=6, pageSize=5)
2025-02-13 13:59:49.840 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:59:49.841 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:59:49.842 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:59:49.842 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.4899ms
2025-02-13 13:59:49.842 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:49.842 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=6&pageSize=5 - 200 null application/json; charset=utf-8 6.5147ms
2025-02-13 13:59:50.176 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=7&pageSize=5 - null null
2025-02-13 13:59:50.176 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:50.176 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=7&pageSize=5 - 204 null null 0.6563ms
2025-02-13 13:59:50.179 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=7&pageSize=5 - null null
2025-02-13 13:59:50.179 +05:00 [INF] CORS policy execution successful.
2025-02-13 13:59:50.180 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:50.180 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 13:59:50.181 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=7, pageSize=5
2025-02-13 13:59:50.181 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=7, pageSize=5)
2025-02-13 13:59:50.183 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 13:59:50.185 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 13:59:50.186 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 13:59:50.187 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.9126ms
2025-02-13 13:59:50.187 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 13:59:50.187 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=7&pageSize=5 - 200 null application/json; charset=utf-8 8.4966ms
2025-02-13 14:00:00.516 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/categories - null null
2025-02-13 14:00:00.516 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:00:00.517 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/categories - 204 null null 0.4337ms
2025-02-13 14:00:00.523 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/categories - null null
2025-02-13 14:00:00.524 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:00:00.524 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 14:00:00.524 +05:00 [INF] Route matched with {action = "GetAll", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.Dto.CategoryDto]]] GetAll() on controller QuizMasterAPI.Controllers.CategoriesController (QuizMasterAPI).
2025-02-13 14:00:00.527 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-02-13 14:00:00.528 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.Dto.CategoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:00:00.528 +05:00 [INF] Executed action QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI) in 3.962ms
2025-02-13 14:00:00.528 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 14:00:00.528 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/categories - 200 null application/json; charset=utf-8 5.1274ms
2025-02-13 14:04:40.003 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:04:40.025 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:04:40.027 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 24.4737ms
2025-02-13 14:04:40.028 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:04:40.028 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:04:40.028 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:04:40.028 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:04:40.035 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:04:40.039 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:04:40.039 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 10.8119ms
2025-02-13 14:04:40.039 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:04:40.040 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 11.8702ms
2025-02-13 14:04:50.496 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-13 14:04:50.497 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:04:50.498 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 1.4418ms
2025-02-13 14:04:50.502 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-13 14:04:50.504 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:04:50.506 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-13 14:04:50.510 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:04:50.514 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-13 14:04:50.525 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-13 14:04:50.542 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 14:04:50.622 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[EndTime], [u0].[ExpireTime], [u0].[IsPassed], [u0].[StartTime], [u0].[TestId], [u0].[TimeSpentSeconds], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[UserTextAnswer], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [u2].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-13 14:04:50.678 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:04:50.689 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 178.5239ms
2025-02-13 14:04:50.689 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-13 14:04:50.689 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 187.0674ms
2025-02-13 14:17:14.976 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:17:14.980 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:17:14.982 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 5.826ms
2025-02-13 14:17:14.987 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:17:14.987 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:17:14.988 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:17:14.988 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 14:17:14.993 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 14:17:14.993 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 14:17:15.006 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 14:17:15.009 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 14:17:15.011 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:17:15.011 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 22.4623ms
2025-02-13 14:17:15.011 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:17:15.011 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 24.4361ms
2025-02-13 14:17:15.901 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:17:15.902 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:17:15.902 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4873ms
2025-02-13 14:17:15.907 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:17:15.908 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:17:15.908 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:17:15.912 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:17:15.915 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:17:15.916 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:17:15.921 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:17:15.935 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:17:15.940 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:17:15.945 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 33.0062ms
2025-02-13 14:17:15.945 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:17:15.945 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 37.7683ms
2025-02-13 14:17:16.752 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:17:16.752 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:17:16.752 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3559ms
2025-02-13 14:17:16.754 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:17:16.754 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:17:16.755 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:17:16.755 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:17:16.757 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:17:16.758 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:17:16.758 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.4993ms
2025-02-13 14:17:16.758 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:17:16.759 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.5155ms
2025-02-13 14:17:32.450 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:17:32.450 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:17:32.451 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.4286ms
2025-02-13 14:17:32.453 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:17:32.453 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:17:32.454 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:17:32.454 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:17:32.456 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:17:32.457 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:17:32.457 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.248ms
2025-02-13 14:17:32.457 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:17:32.457 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.3347ms
2025-02-13 14:18:01.678 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%BC%D0%B0%D1%82%D2%9A%D0%BE%D1%81%D1%83%D0%90%D0%BC%D0%B0%D0%BB%D0%B4%D0%B0%D1%80%D1%8B%D0%A0%D0%BA1&countOfQuestions=3&isPrivate=false&topicId=4008 - null null
2025-02-13 14:18:01.679 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:01.679 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%BC%D0%B0%D1%82%D2%9A%D0%BE%D1%81%D1%83%D0%90%D0%BC%D0%B0%D0%BB%D0%B4%D0%B0%D1%80%D1%8B%D0%A0%D0%BA1&countOfQuestions=3&isPrivate=false&topicId=4008 - 204 null null 0.9601ms
2025-02-13 14:18:01.681 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%BC%D0%B0%D1%82%D2%9A%D0%BE%D1%81%D1%83%D0%90%D0%BC%D0%B0%D0%BB%D0%B4%D0%B0%D1%80%D1%8B%D0%A0%D0%BA1&countOfQuestions=3&isPrivate=false&topicId=4008 - null 0
2025-02-13 14:18:01.681 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:01.682 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:18:01.685 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:01.704 +05:00 [INF] CreateTemplate: матҚосуАмалдарыРк1, count=3, topic=4008, isPrivate=false, isRandom=false, testType=null
2025-02-13 14:18:01.706 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 14:18:01.723 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TimeLimitMinutes], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-13 14:18:01.727 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 14:18:01.728 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 42.8396ms
2025-02-13 14:18:01.728 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:18:01.728 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%BC%D0%B0%D1%82%D2%9A%D0%BE%D1%81%D1%83%D0%90%D0%BC%D0%B0%D0%BB%D0%B4%D0%B0%D1%80%D1%8B%D0%A0%D0%BA1&countOfQuestions=3&isPrivate=false&topicId=4008 - 200 null application/json; charset=utf-8 46.8139ms
2025-02-13 14:18:01.734 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:18:01.734 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:01.734 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4633ms
2025-02-13 14:18:01.736 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:18:01.736 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:01.737 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:01.737 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:01.739 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:18:01.739 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:18:01.741 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:18:01.743 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:18:01.744 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:18:01.744 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.3684ms
2025-02-13 14:18:01.744 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:01.744 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.4579ms
2025-02-13 14:18:04.335 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 14:18:04.335 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:04.336 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3384ms
2025-02-13 14:18:04.337 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 14:18:04.338 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:04.338 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:04.338 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:04.340 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 14:18:04.340 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:18:04.341 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:18:04.349 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:18:04.350 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:18:04.350 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 11.9644ms
2025-02-13 14:18:04.350 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:04.351 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 13.255ms
2025-02-13 14:18:04.925 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=3&pageSize=5 - null null
2025-02-13 14:18:04.925 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:04.926 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=3&pageSize=5 - 204 null null 0.4084ms
2025-02-13 14:18:04.928 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=3&pageSize=5 - null null
2025-02-13 14:18:04.928 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:04.928 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:04.929 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:04.930 +05:00 [INF] Вход в GetAllTests c пагинацией: page=3, pageSize=5
2025-02-13 14:18:04.930 +05:00 [INF] GetAllTestsPaginatedAsync(page=3, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:18:04.931 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:18:04.933 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:18:04.933 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:18:04.933 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8031ms
2025-02-13 14:18:04.933 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:04.934 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=3&pageSize=5 - 200 null application/json; charset=utf-8 6.2399ms
2025-02-13 14:18:05.462 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=4&pageSize=5 - null null
2025-02-13 14:18:05.462 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:05.462 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=4&pageSize=5 - 204 null null 0.5179ms
2025-02-13 14:18:05.464 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=4&pageSize=5 - null null
2025-02-13 14:18:05.464 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:05.464 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:05.464 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:05.465 +05:00 [INF] Вход в GetAllTests c пагинацией: page=4, pageSize=5
2025-02-13 14:18:05.465 +05:00 [INF] GetAllTestsPaginatedAsync(page=4, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:18:05.466 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:18:05.468 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:18:05.469 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:18:05.469 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.5665ms
2025-02-13 14:18:05.469 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:05.469 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=4&pageSize=5 - 200 null application/json; charset=utf-8 5.6681ms
2025-02-13 14:18:05.804 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=5&pageSize=5 - null null
2025-02-13 14:18:05.804 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:05.804 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=5&pageSize=5 - 204 null null 0.4171ms
2025-02-13 14:18:05.807 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=5&pageSize=5 - null null
2025-02-13 14:18:05.807 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:05.808 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:05.808 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:05.809 +05:00 [INF] Вход в GetAllTests c пагинацией: page=5, pageSize=5
2025-02-13 14:18:05.809 +05:00 [INF] GetAllTestsPaginatedAsync(page=5, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:18:05.810 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:18:05.812 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:18:05.813 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:18:05.813 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8476ms
2025-02-13 14:18:05.813 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:05.813 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=5&pageSize=5 - 200 null application/json; charset=utf-8 6.1545ms
2025-02-13 14:18:06.118 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=6&pageSize=5 - null null
2025-02-13 14:18:06.119 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:06.119 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=6&pageSize=5 - 204 null null 0.3462ms
2025-02-13 14:18:06.120 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=6&pageSize=5 - null null
2025-02-13 14:18:06.121 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:06.121 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:06.121 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:06.122 +05:00 [INF] Вход в GetAllTests c пагинацией: page=6, pageSize=5
2025-02-13 14:18:06.122 +05:00 [INF] GetAllTestsPaginatedAsync(page=6, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:18:06.123 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:18:06.124 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:18:06.125 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:18:06.125 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9213ms
2025-02-13 14:18:06.125 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:06.125 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=6&pageSize=5 - 200 null application/json; charset=utf-8 4.7622ms
2025-02-13 14:18:06.406 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=7&pageSize=5 - null null
2025-02-13 14:18:06.406 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:06.406 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=7&pageSize=5 - 204 null null 0.3833ms
2025-02-13 14:18:06.408 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=7&pageSize=5 - null null
2025-02-13 14:18:06.408 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:06.408 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:06.408 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:06.409 +05:00 [INF] Вход в GetAllTests c пагинацией: page=7, pageSize=5
2025-02-13 14:18:06.409 +05:00 [INF] GetAllTestsPaginatedAsync(page=7, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:18:06.410 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:18:06.412 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:18:06.413 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:18:06.413 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3115ms
2025-02-13 14:18:06.413 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:06.413 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=7&pageSize=5 - 200 null application/json; charset=utf-8 5.1742ms
2025-02-13 14:18:06.697 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=8&pageSize=5 - null null
2025-02-13 14:18:06.698 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:06.698 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=8&pageSize=5 - 204 null null 0.3875ms
2025-02-13 14:18:06.700 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=8&pageSize=5 - null null
2025-02-13 14:18:06.700 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:06.700 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:06.700 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:18:06.701 +05:00 [INF] Вход в GetAllTests c пагинацией: page=8, pageSize=5
2025-02-13 14:18:06.701 +05:00 [INF] GetAllTestsPaginatedAsync(page=8, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:18:06.702 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:18:06.704 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:18:06.705 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:18:06.705 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.7922ms
2025-02-13 14:18:06.705 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:18:06.705 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=8&pageSize=5 - 200 null application/json; charset=utf-8 5.5415ms
2025-02-13 14:18:08.994 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16019 - null null
2025-02-13 14:18:08.994 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:08.994 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16019 - 204 null null 0.4113ms
2025-02-13 14:18:08.998 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - application/json 2
2025-02-13 14:18:08.998 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:18:08.999 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:18:09.002 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:18:09.005 +05:00 [INF] Вход в StartTest(TestId=16019)
2025-02-13 14:18:09.007 +05:00 [INF] Старт теста 16019 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:18:09.016 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 14:18:09.051 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:18:09.120 +05:00 [ERR] Ошибка в StartTest(TestId=16019)
System.Exception: В тесте ID=16019 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 14:18:09.154 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 152.3288ms
2025-02-13 14:18:09.155 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:18:09.194 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=16019 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 14:18:09.200 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - 500 null application/json 201.6951ms
2025-02-13 14:31:27.664 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16019 - null null
2025-02-13 14:31:27.665 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:31:27.665 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16019 - 204 null null 1.1572ms
2025-02-13 14:31:27.670 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - application/json 2
2025-02-13 14:31:27.670 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:31:27.671 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:31:27.671 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:31:27.675 +05:00 [INF] Вход в StartTest(TestId=16019)
2025-02-13 14:31:27.675 +05:00 [INF] Старт теста 16019 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:31:27.694 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:31:27.731 +05:00 [ERR] Ошибка в StartTest(TestId=16019)
System.Exception: В тесте ID=16019 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 14:31:27.761 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 89.0647ms
2025-02-13 14:31:27.761 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:31:27.797 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=16019 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 14:31:27.800 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - 500 null application/json 129.8336ms
2025-02-13 14:32:27.476 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16019 - null null
2025-02-13 14:32:27.476 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:32:27.477 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16019 - 204 null null 0.7073ms
2025-02-13 14:32:27.488 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - application/json 2
2025-02-13 14:32:27.490 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:32:27.491 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:32:27.491 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:32:27.493 +05:00 [INF] Вход в StartTest(TestId=16019)
2025-02-13 14:32:27.494 +05:00 [INF] Старт теста 16019 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:32:27.510 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:32:27.572 +05:00 [ERR] Ошибка в StartTest(TestId=16019)
System.Exception: В тесте ID=16019 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 14:32:27.595 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 104.156ms
2025-02-13 14:32:27.596 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:32:27.629 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=16019 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 14:32:27.631 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - 500 null application/json 142.6714ms
2025-02-13 14:32:38.079 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 14:32:38.090 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 10.7653ms
2025-02-13 14:32:38.108 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 14:32:38.108 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 14:32:38.110 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7492ms
2025-02-13 14:32:38.127 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.4713ms
2025-02-13 14:32:38.204 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 14:32:38.225 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.5126ms
2025-02-13 14:33:42.318 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16019 - null null
2025-02-13 14:33:42.318 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:42.319 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16019 - 204 null null 1.0762ms
2025-02-13 14:33:42.353 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - application/json 2
2025-02-13 14:33:42.354 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:42.354 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:33:42.354 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:33:42.356 +05:00 [INF] Вход в StartTest(TestId=16019)
2025-02-13 14:33:42.356 +05:00 [INF] Старт теста 16019 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:33:42.364 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:33:42.407 +05:00 [ERR] Ошибка в StartTest(TestId=16019)
System.Exception: В тесте ID=16019 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 14:33:42.428 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 73.2973ms
2025-02-13 14:33:42.428 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:33:42.464 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=16019 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 14:33:42.466 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - 500 null application/json 112.3504ms
2025-02-13 14:33:43.399 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - application/json 2
2025-02-13 14:33:43.399 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:43.400 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 14:33:43.400 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 14:33:43.401 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16019 - 401 null null 1.993ms
2025-02-13 14:33:45.176 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-13 14:33:45.177 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:45.177 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.3382ms
2025-02-13 14:33:45.179 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-13 14:33:45.180 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:45.180 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 14:33:45.180 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 14:33:45.190 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-13 14:33:45.193 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 14:33:45.247 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 14:33:45.247 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-13 14:33:45.247 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 14:33:45.247 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 67.544ms
2025-02-13 14:33:45.247 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 14:33:45.247 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 68.2549ms
2025-02-13 14:33:45.269 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:33:45.269 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:45.270 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3541ms
2025-02-13 14:33:45.273 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:33:45.274 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:45.275 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:33:45.275 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 14:33:45.276 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 14:33:45.276 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 14:33:45.279 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 14:33:45.308 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 14:33:45.308 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:33:45.309 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 33.5317ms
2025-02-13 14:33:45.309 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:33:45.309 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 35.2759ms
2025-02-13 14:33:46.485 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:33:46.486 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:46.486 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4216ms
2025-02-13 14:33:46.488 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:33:46.488 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:46.489 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:33:46.489 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:33:46.490 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:33:46.490 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:33:46.494 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:33:46.497 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:33:46.498 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:33:46.498 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 9.2975ms
2025-02-13 14:33:46.498 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:33:46.499 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.6572ms
2025-02-13 14:33:54.585 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:33:54.585 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:54.585 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2653ms
2025-02-13 14:33:54.587 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:33:54.587 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:33:54.588 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:33:54.588 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:33:54.590 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:33:54.591 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:33:54.591 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.481ms
2025-02-13 14:33:54.591 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:33:54.592 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.496ms
2025-02-13 14:34:12.124 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8010 - null null
2025-02-13 14:34:12.124 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:12.125 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8010 - 204 null null 0.4043ms
2025-02-13 14:34:12.128 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8010 - null null
2025-02-13 14:34:12.128 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:12.129 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:12.136 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:12.139 +05:00 [INF] Вход в DeleteTest(Id=8010)
2025-02-13 14:34:12.139 +05:00 [INF] DeleteTestAsync(Id=8010)
2025-02-13 14:34:12.148 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:12.171 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:12.177 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:12.177 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 41.3669ms
2025-02-13 14:34:12.178 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:12.178 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8010 - 204 null null 50.2933ms
2025-02-13 14:34:12.190 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:12.190 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:12.191 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3493ms
2025-02-13 14:34:12.193 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:12.193 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:12.193 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:12.193 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:12.194 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:12.195 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:12.196 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:12.198 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:12.199 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:12.199 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.3788ms
2025-02-13 14:34:12.199 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:12.199 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.4687ms
2025-02-13 14:34:13.765 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8011 - null null
2025-02-13 14:34:13.766 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:13.766 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8011 - 204 null null 0.4647ms
2025-02-13 14:34:13.769 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8011 - null null
2025-02-13 14:34:13.770 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:13.770 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:13.770 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:13.771 +05:00 [INF] Вход в DeleteTest(Id=8011)
2025-02-13 14:34:13.771 +05:00 [INF] DeleteTestAsync(Id=8011)
2025-02-13 14:34:13.773 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:13.793 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:13.793 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:13.793 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 23.1226ms
2025-02-13 14:34:13.793 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:13.794 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8011 - 204 null null 24.3007ms
2025-02-13 14:34:13.798 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:13.798 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:13.798 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:13.798 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:13.799 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:13.799 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:13.800 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:13.802 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:13.802 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:13.802 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9555ms
2025-02-13 14:34:13.802 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:13.802 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.7381ms
2025-02-13 14:34:15.587 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8012 - null null
2025-02-13 14:34:15.587 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:15.587 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8012 - 204 null null 0.43ms
2025-02-13 14:34:15.590 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8012 - null null
2025-02-13 14:34:15.591 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:15.591 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:15.591 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:15.592 +05:00 [INF] Вход в DeleteTest(Id=8012)
2025-02-13 14:34:15.592 +05:00 [INF] DeleteTestAsync(Id=8012)
2025-02-13 14:34:15.593 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:15.597 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:15.597 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:15.597 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 6.4669ms
2025-02-13 14:34:15.598 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:15.598 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8012 - 204 null null 7.4088ms
2025-02-13 14:34:15.610 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:15.610 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:15.610 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:15.610 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:15.611 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:15.611 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:15.613 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:15.615 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:15.615 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:15.616 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.2566ms
2025-02-13 14:34:15.616 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:15.616 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.3708ms
2025-02-13 14:34:16.446 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8013 - null null
2025-02-13 14:34:16.446 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:16.446 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8013 - 204 null null 0.4038ms
2025-02-13 14:34:16.449 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8013 - null null
2025-02-13 14:34:16.450 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:16.450 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:16.450 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:16.451 +05:00 [INF] Вход в DeleteTest(Id=8013)
2025-02-13 14:34:16.451 +05:00 [INF] DeleteTestAsync(Id=8013)
2025-02-13 14:34:16.452 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:16.467 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:16.468 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:16.468 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 17.7011ms
2025-02-13 14:34:16.468 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:16.468 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8013 - 204 null null 18.5974ms
2025-02-13 14:34:16.473 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:16.474 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:16.474 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:16.474 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:16.475 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:16.475 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:16.476 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:16.477 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:16.477 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:16.478 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.5061ms
2025-02-13 14:34:16.478 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:16.478 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.4706ms
2025-02-13 14:34:17.073 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8014 - null null
2025-02-13 14:34:17.074 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:17.074 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8014 - 204 null null 0.3406ms
2025-02-13 14:34:17.077 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8014 - null null
2025-02-13 14:34:17.077 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:17.078 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:17.078 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:17.078 +05:00 [INF] Вход в DeleteTest(Id=8014)
2025-02-13 14:34:17.079 +05:00 [INF] DeleteTestAsync(Id=8014)
2025-02-13 14:34:17.080 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:17.083 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:17.083 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:17.083 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 4.9833ms
2025-02-13 14:34:17.083 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:17.083 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8014 - 204 null null 5.8437ms
2025-02-13 14:34:17.089 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:17.089 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:17.090 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:17.090 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:17.091 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:17.091 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:17.092 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:17.094 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:17.095 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:17.095 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.1297ms
2025-02-13 14:34:17.095 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:17.095 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.3044ms
2025-02-13 14:34:17.629 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8015 - null null
2025-02-13 14:34:17.630 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:17.630 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8015 - 204 null null 0.3234ms
2025-02-13 14:34:17.632 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8015 - null null
2025-02-13 14:34:17.632 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:17.632 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:17.633 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:17.633 +05:00 [INF] Вход в DeleteTest(Id=8015)
2025-02-13 14:34:17.633 +05:00 [INF] DeleteTestAsync(Id=8015)
2025-02-13 14:34:17.635 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:17.650 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:17.651 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:17.651 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 18.1006ms
2025-02-13 14:34:17.651 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:17.651 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8015 - 204 null null 19.3518ms
2025-02-13 14:34:17.657 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:17.657 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:17.657 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2752ms
2025-02-13 14:34:17.659 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:17.659 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:17.660 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:17.660 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:17.661 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:17.661 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:17.662 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:17.663 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:17.664 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:17.664 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9508ms
2025-02-13 14:34:17.664 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:17.664 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.0954ms
2025-02-13 14:34:18.174 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8016 - null null
2025-02-13 14:34:18.175 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:18.175 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8016 - 204 null null 0.5269ms
2025-02-13 14:34:18.178 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8016 - null null
2025-02-13 14:34:18.179 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:18.179 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:18.179 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:18.180 +05:00 [INF] Вход в DeleteTest(Id=8016)
2025-02-13 14:34:18.180 +05:00 [INF] DeleteTestAsync(Id=8016)
2025-02-13 14:34:18.182 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:18.200 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:18.201 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:18.201 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 22.0392ms
2025-02-13 14:34:18.201 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:18.202 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8016 - 204 null null 23.2834ms
2025-02-13 14:34:18.208 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:18.208 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:18.208 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:18.208 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:18.209 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:18.210 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:18.211 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:18.213 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:18.215 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:18.215 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.4457ms
2025-02-13 14:34:18.215 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:18.215 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.752ms
2025-02-13 14:34:18.690 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8019 - null null
2025-02-13 14:34:18.690 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:18.691 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8019 - 204 null null 0.6917ms
2025-02-13 14:34:18.694 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8019 - null null
2025-02-13 14:34:18.694 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:18.695 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:18.695 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:18.696 +05:00 [INF] Вход в DeleteTest(Id=8019)
2025-02-13 14:34:18.696 +05:00 [INF] DeleteTestAsync(Id=8019)
2025-02-13 14:34:18.697 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:18.711 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:18.711 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:18.711 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 16.1265ms
2025-02-13 14:34:18.711 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:18.711 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8019 - 204 null null 17.0906ms
2025-02-13 14:34:18.717 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:18.718 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:18.718 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:18.718 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:18.719 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:18.719 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:18.720 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:18.722 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:18.723 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:18.723 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.1775ms
2025-02-13 14:34:18.724 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:18.729 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.9508ms
2025-02-13 14:34:19.467 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9019 - null null
2025-02-13 14:34:19.467 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:19.467 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9019 - 204 null null 0.3372ms
2025-02-13 14:34:19.470 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9019 - null null
2025-02-13 14:34:19.470 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:19.470 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:19.470 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:19.471 +05:00 [INF] Вход в DeleteTest(Id=9019)
2025-02-13 14:34:19.471 +05:00 [INF] DeleteTestAsync(Id=9019)
2025-02-13 14:34:19.473 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:19.484 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:19.485 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:19.485 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 14.6598ms
2025-02-13 14:34:19.485 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:19.485 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9019 - 204 null null 15.6552ms
2025-02-13 14:34:19.492 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:19.492 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:19.492 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:19.492 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:19.493 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:19.493 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:19.494 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:19.496 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:19.496 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:19.496 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.2067ms
2025-02-13 14:34:19.497 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:19.497 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.0785ms
2025-02-13 14:34:19.907 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9020 - null null
2025-02-13 14:34:19.907 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:19.908 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9020 - 204 null null 0.6297ms
2025-02-13 14:34:19.911 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9020 - null null
2025-02-13 14:34:19.911 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:19.911 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:19.911 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:19.912 +05:00 [INF] Вход в DeleteTest(Id=9020)
2025-02-13 14:34:19.912 +05:00 [INF] DeleteTestAsync(Id=9020)
2025-02-13 14:34:19.913 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:19.927 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:19.927 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:19.927 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 16.0909ms
2025-02-13 14:34:19.928 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:19.928 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9020 - 204 null null 17.0543ms
2025-02-13 14:34:19.934 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:19.934 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:19.934 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:19.934 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:19.935 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:19.935 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:19.936 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:19.938 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:19.939 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:19.939 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.6448ms
2025-02-13 14:34:19.939 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:19.939 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.5641ms
2025-02-13 14:34:20.355 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9022 - null null
2025-02-13 14:34:20.355 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:20.355 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9022 - 204 null null 0.2633ms
2025-02-13 14:34:20.357 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9022 - null null
2025-02-13 14:34:20.357 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:20.358 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:20.358 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:20.358 +05:00 [INF] Вход в DeleteTest(Id=9022)
2025-02-13 14:34:20.358 +05:00 [INF] DeleteTestAsync(Id=9022)
2025-02-13 14:34:20.359 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:20.372 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:20.373 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:20.373 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 15.0531ms
2025-02-13 14:34:20.373 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:20.373 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9022 - 204 null null 15.9157ms
2025-02-13 14:34:20.379 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:20.380 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:20.380 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:20.380 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:20.381 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:20.381 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:20.382 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:20.384 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:20.384 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:20.384 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.1681ms
2025-02-13 14:34:20.384 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:20.385 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.3527ms
2025-02-13 14:34:20.875 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9023 - null null
2025-02-13 14:34:20.875 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:20.875 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9023 - 204 null null 0.2937ms
2025-02-13 14:34:20.880 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9023 - null null
2025-02-13 14:34:20.880 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:20.880 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:20.880 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:20.881 +05:00 [INF] Вход в DeleteTest(Id=9023)
2025-02-13 14:34:20.881 +05:00 [INF] DeleteTestAsync(Id=9023)
2025-02-13 14:34:20.882 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:20.895 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:20.896 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:20.896 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 15.6429ms
2025-02-13 14:34:20.896 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:20.896 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9023 - 204 null null 16.6725ms
2025-02-13 14:34:20.903 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:20.903 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:20.904 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:20.904 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:20.905 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:20.905 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:20.906 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:20.908 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:20.908 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:20.908 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8089ms
2025-02-13 14:34:20.909 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:20.909 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8093ms
2025-02-13 14:34:21.399 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9024 - null null
2025-02-13 14:34:21.399 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:21.399 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9024 - 204 null null 0.3046ms
2025-02-13 14:34:21.403 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9024 - null null
2025-02-13 14:34:21.403 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:21.403 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:21.403 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:21.404 +05:00 [INF] Вход в DeleteTest(Id=9024)
2025-02-13 14:34:21.404 +05:00 [INF] DeleteTestAsync(Id=9024)
2025-02-13 14:34:21.405 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:21.408 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:21.409 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:21.409 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 5.3216ms
2025-02-13 14:34:21.409 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:21.409 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9024 - 204 null null 6.3027ms
2025-02-13 14:34:21.422 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:21.422 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:21.422 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:21.422 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:21.423 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:21.423 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:21.425 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:21.427 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:21.427 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:21.428 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.3459ms
2025-02-13 14:34:21.428 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:21.428 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.7332ms
2025-02-13 14:34:21.839 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9025 - null null
2025-02-13 14:34:21.839 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:21.839 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9025 - 204 null null 0.2969ms
2025-02-13 14:34:21.842 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9025 - null null
2025-02-13 14:34:21.843 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:21.843 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:21.843 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:21.844 +05:00 [INF] Вход в DeleteTest(Id=9025)
2025-02-13 14:34:21.844 +05:00 [INF] DeleteTestAsync(Id=9025)
2025-02-13 14:34:21.845 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:21.847 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:21.848 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:21.848 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 4.5443ms
2025-02-13 14:34:21.848 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:21.848 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9025 - 204 null null 5.499ms
2025-02-13 14:34:21.856 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:21.856 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:21.857 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:21.857 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:21.857 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:21.857 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:21.858 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:21.860 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:21.861 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:21.861 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.4127ms
2025-02-13 14:34:21.861 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:21.861 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.2998ms
2025-02-13 14:34:22.326 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9026 - null null
2025-02-13 14:34:22.326 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:22.326 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9026 - 204 null null 0.5293ms
2025-02-13 14:34:22.329 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9026 - null null
2025-02-13 14:34:22.330 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:22.330 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:22.330 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:22.331 +05:00 [INF] Вход в DeleteTest(Id=9026)
2025-02-13 14:34:22.331 +05:00 [INF] DeleteTestAsync(Id=9026)
2025-02-13 14:34:22.333 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:22.346 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:22.346 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:22.346 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 16.4665ms
2025-02-13 14:34:22.347 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:22.347 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9026 - 204 null null 17.3632ms
2025-02-13 14:34:22.353 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:22.353 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:22.354 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:22.354 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:22.354 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:22.354 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:22.356 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:22.357 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:22.358 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:22.358 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.366ms
2025-02-13 14:34:22.358 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:22.358 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.2145ms
2025-02-13 14:34:22.836 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9027 - null null
2025-02-13 14:34:22.836 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:22.836 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9027 - 204 null null 0.3216ms
2025-02-13 14:34:22.839 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9027 - null null
2025-02-13 14:34:22.839 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:22.839 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:22.839 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:22.840 +05:00 [INF] Вход в DeleteTest(Id=9027)
2025-02-13 14:34:22.840 +05:00 [INF] DeleteTestAsync(Id=9027)
2025-02-13 14:34:22.842 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:22.856 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:22.857 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:22.857 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 17.3638ms
2025-02-13 14:34:22.857 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:22.857 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9027 - 204 null null 18.2867ms
2025-02-13 14:34:22.870 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:22.870 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:22.870 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3715ms
2025-02-13 14:34:22.875 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:22.876 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:22.876 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:22.876 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:22.878 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:22.878 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:22.878 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:22.880 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:22.880 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:22.880 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.8632ms
2025-02-13 14:34:22.880 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:22.881 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.2525ms
2025-02-13 14:34:23.348 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9029 - null null
2025-02-13 14:34:23.348 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:23.348 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9029 - 204 null null 0.41ms
2025-02-13 14:34:23.352 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9029 - null null
2025-02-13 14:34:23.352 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:23.352 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:23.352 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:23.353 +05:00 [INF] Вход в DeleteTest(Id=9029)
2025-02-13 14:34:23.353 +05:00 [INF] DeleteTestAsync(Id=9029)
2025-02-13 14:34:23.354 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:23.367 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:23.368 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:23.368 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 15.5038ms
2025-02-13 14:34:23.368 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:23.368 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9029 - 204 null null 16.2444ms
2025-02-13 14:34:23.376 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:23.376 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:23.376 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:23.376 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:23.377 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:23.377 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:23.378 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:23.380 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:23.380 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:23.380 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3618ms
2025-02-13 14:34:23.381 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:23.381 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.2225ms
2025-02-13 14:34:23.826 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/9030 - null null
2025-02-13 14:34:23.826 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:23.826 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/9030 - 204 null null 0.3644ms
2025-02-13 14:34:23.829 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/9030 - null null
2025-02-13 14:34:23.829 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:23.829 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:23.829 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:23.830 +05:00 [INF] Вход в DeleteTest(Id=9030)
2025-02-13 14:34:23.830 +05:00 [INF] DeleteTestAsync(Id=9030)
2025-02-13 14:34:23.832 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:23.840 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:23.840 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:23.840 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 10.7953ms
2025-02-13 14:34:23.840 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:23.840 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/9030 - 204 null null 11.5587ms
2025-02-13 14:34:23.847 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:23.847 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:23.847 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:23.847 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:23.848 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:23.848 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:23.850 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:23.852 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:23.852 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:23.852 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8971ms
2025-02-13 14:34:23.853 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:23.853 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.7234ms
2025-02-13 14:34:24.295 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/10018 - null null
2025-02-13 14:34:24.295 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:24.295 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/10018 - 204 null null 0.3986ms
2025-02-13 14:34:24.301 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/10018 - null null
2025-02-13 14:34:24.301 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:24.302 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:24.302 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:24.303 +05:00 [INF] Вход в DeleteTest(Id=10018)
2025-02-13 14:34:24.303 +05:00 [INF] DeleteTestAsync(Id=10018)
2025-02-13 14:34:24.304 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:24.318 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:24.319 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:24.319 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 16.8122ms
2025-02-13 14:34:24.319 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:24.319 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/10018 - 204 null null 17.7368ms
2025-02-13 14:34:24.325 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:24.326 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:24.326 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:24.326 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:24.327 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:24.327 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:24.328 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:24.330 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:24.330 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:24.331 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8357ms
2025-02-13 14:34:24.331 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:24.331 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.7566ms
2025-02-13 14:34:24.758 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/11018 - null null
2025-02-13 14:34:24.758 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:24.758 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/11018 - 204 null null 0.3178ms
2025-02-13 14:34:24.761 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/11018 - null null
2025-02-13 14:34:24.761 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:24.761 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:24.761 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:24.763 +05:00 [INF] Вход в DeleteTest(Id=11018)
2025-02-13 14:34:24.763 +05:00 [INF] DeleteTestAsync(Id=11018)
2025-02-13 14:34:24.765 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:24.767 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:24.767 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:24.767 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 5.2791ms
2025-02-13 14:34:24.767 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:24.767 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/11018 - 204 null null 6.2481ms
2025-02-13 14:34:24.775 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:24.775 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:24.775 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:24.775 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:24.776 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:24.776 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:24.777 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:24.779 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:24.780 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:24.780 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.9357ms
2025-02-13 14:34:24.780 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:24.781 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.866ms
2025-02-13 14:34:25.268 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/11019 - null null
2025-02-13 14:34:25.269 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:25.269 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/11019 - 204 null null 0.393ms
2025-02-13 14:34:25.272 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/11019 - null null
2025-02-13 14:34:25.272 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:25.273 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:25.273 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:25.274 +05:00 [INF] Вход в DeleteTest(Id=11019)
2025-02-13 14:34:25.274 +05:00 [INF] DeleteTestAsync(Id=11019)
2025-02-13 14:34:25.275 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:25.278 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:25.278 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:25.278 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 5.1506ms
2025-02-13 14:34:25.278 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:25.279 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/11019 - 204 null null 6.5968ms
2025-02-13 14:34:25.287 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:25.287 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:25.287 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:25.287 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:25.288 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:25.288 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:25.290 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:25.292 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:25.292 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:25.292 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.9293ms
2025-02-13 14:34:25.292 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:25.293 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.0127ms
2025-02-13 14:34:25.668 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/11020 - null null
2025-02-13 14:34:25.668 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:25.668 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/11020 - 204 null null 0.4107ms
2025-02-13 14:34:25.674 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/11020 - null null
2025-02-13 14:34:25.674 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:25.674 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:25.674 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:25.675 +05:00 [INF] Вход в DeleteTest(Id=11020)
2025-02-13 14:34:25.675 +05:00 [INF] DeleteTestAsync(Id=11020)
2025-02-13 14:34:25.676 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:25.691 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:25.691 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:25.691 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 17.3202ms
2025-02-13 14:34:25.692 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:25.692 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/11020 - 204 null null 18.0923ms
2025-02-13 14:34:25.698 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:25.698 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:25.698 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:25.698 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:25.699 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:25.699 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:25.700 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:25.702 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:25.702 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:25.703 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.0837ms
2025-02-13 14:34:25.703 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:25.703 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.8109ms
2025-02-13 14:34:26.131 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/11021 - null null
2025-02-13 14:34:26.131 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.131 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/11021 - 204 null null 0.4305ms
2025-02-13 14:34:26.133 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/11021 - null null
2025-02-13 14:34:26.133 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.133 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:26.133 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:26.134 +05:00 [INF] Вход в DeleteTest(Id=11021)
2025-02-13 14:34:26.134 +05:00 [INF] DeleteTestAsync(Id=11021)
2025-02-13 14:34:26.135 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:26.154 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p2;
2025-02-13 14:34:26.169 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:26.169 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 35.3671ms
2025-02-13 14:34:26.169 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:26.169 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/11021 - 204 null null 36.0134ms
2025-02-13 14:34:26.176 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:26.176 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.176 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:26.176 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:26.177 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:26.177 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:26.178 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:26.180 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:26.180 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:26.181 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3299ms
2025-02-13 14:34:26.181 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:26.181 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.0483ms
2025-02-13 14:34:26.481 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/11022 - null null
2025-02-13 14:34:26.481 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.481 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/11022 - 204 null null 0.2847ms
2025-02-13 14:34:26.483 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/11022 - null null
2025-02-13 14:34:26.484 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.484 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:26.484 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:26.484 +05:00 [INF] Вход в DeleteTest(Id=11022)
2025-02-13 14:34:26.484 +05:00 [INF] DeleteTestAsync(Id=11022)
2025-02-13 14:34:26.486 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:26.488 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:26.488 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:26.488 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 4.3433ms
2025-02-13 14:34:26.488 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:26.488 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/11022 - 204 null null 5.0359ms
2025-02-13 14:34:26.495 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:26.496 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.496 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:26.496 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:26.496 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:26.496 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:26.498 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:26.499 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:26.500 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:26.500 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.2823ms
2025-02-13 14:34:26.500 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:26.500 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.0371ms
2025-02-13 14:34:26.853 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/11023 - null null
2025-02-13 14:34:26.853 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.853 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/11023 - 204 null null 0.2992ms
2025-02-13 14:34:26.856 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/11023 - null null
2025-02-13 14:34:26.856 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.856 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:26.856 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:26.857 +05:00 [INF] Вход в DeleteTest(Id=11023)
2025-02-13 14:34:26.857 +05:00 [INF] DeleteTestAsync(Id=11023)
2025-02-13 14:34:26.858 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:26.861 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p2;
2025-02-13 14:34:26.873 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:26.873 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 16.6374ms
2025-02-13 14:34:26.873 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:26.873 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/11023 - 204 null null 17.4163ms
2025-02-13 14:34:26.879 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:26.879 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:26.880 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:26.880 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:26.880 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:26.880 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:26.882 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:26.883 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:26.884 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:26.884 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.981ms
2025-02-13 14:34:26.884 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:26.884 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.7546ms
2025-02-13 14:34:27.354 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/11024 - null null
2025-02-13 14:34:27.354 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:27.354 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/11024 - 204 null null 0.3413ms
2025-02-13 14:34:27.357 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/11024 - null null
2025-02-13 14:34:27.357 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:27.357 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:27.357 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:27.359 +05:00 [INF] Вход в DeleteTest(Id=11024)
2025-02-13 14:34:27.359 +05:00 [INF] DeleteTestAsync(Id=11024)
2025-02-13 14:34:27.360 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:27.364 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p2;
2025-02-13 14:34:27.375 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:27.376 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 17.9187ms
2025-02-13 14:34:27.376 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:27.376 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/11024 - 204 null null 18.8736ms
2025-02-13 14:34:27.383 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:27.383 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:27.383 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:27.383 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:27.384 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:27.384 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:27.386 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:27.388 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:27.389 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:27.389 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.8583ms
2025-02-13 14:34:27.389 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:27.389 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.8658ms
2025-02-13 14:34:27.765 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/11025 - null null
2025-02-13 14:34:27.765 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:27.765 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/11025 - 204 null null 0.297ms
2025-02-13 14:34:27.767 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/11025 - null null
2025-02-13 14:34:27.767 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:27.768 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:27.768 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:27.768 +05:00 [INF] Вход в DeleteTest(Id=11025)
2025-02-13 14:34:27.768 +05:00 [INF] DeleteTestAsync(Id=11025)
2025-02-13 14:34:27.770 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:27.781 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p4;
2025-02-13 14:34:27.793 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:27.793 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 25.0447ms
2025-02-13 14:34:27.793 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:27.793 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/11025 - 204 null null 25.7277ms
2025-02-13 14:34:27.800 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:27.800 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:27.800 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:27.800 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:27.801 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:27.801 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:27.802 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:27.804 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:27.804 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:27.804 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.083ms
2025-02-13 14:34:27.804 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:27.805 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.8874ms
2025-02-13 14:34:28.227 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/12018 - null null
2025-02-13 14:34:28.227 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:28.227 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/12018 - 204 null null 0.2993ms
2025-02-13 14:34:28.230 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/12018 - null null
2025-02-13 14:34:28.230 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:28.230 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:28.230 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:28.231 +05:00 [INF] Вход в DeleteTest(Id=12018)
2025-02-13 14:34:28.231 +05:00 [INF] DeleteTestAsync(Id=12018)
2025-02-13 14:34:28.232 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:28.239 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p1;
2025-02-13 14:34:28.251 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:28.251 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 20.6364ms
2025-02-13 14:34:28.251 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:28.251 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/12018 - 204 null null 21.5032ms
2025-02-13 14:34:28.257 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:28.257 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:28.257 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4466ms
2025-02-13 14:34:28.260 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:28.261 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:28.261 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:28.261 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:28.262 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:28.262 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:28.263 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:28.264 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:28.265 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:28.265 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.6649ms
2025-02-13 14:34:28.265 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:28.265 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.5035ms
2025-02-13 14:34:28.989 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/13018 - null null
2025-02-13 14:34:28.990 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:28.990 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/13018 - 204 null null 0.5103ms
2025-02-13 14:34:28.992 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/13018 - null null
2025-02-13 14:34:28.993 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:28.993 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:28.993 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:28.993 +05:00 [INF] Вход в DeleteTest(Id=13018)
2025-02-13 14:34:28.993 +05:00 [INF] DeleteTestAsync(Id=13018)
2025-02-13 14:34:28.995 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:28.997 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p1;
2025-02-13 14:34:28.999 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:28.999 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 5.7951ms
2025-02-13 14:34:28.999 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:28.999 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/13018 - 204 null null 6.5661ms
2025-02-13 14:34:29.006 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:29.006 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:29.007 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:29.007 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:29.007 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:29.007 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:29.009 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:29.010 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:29.010 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:29.011 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.8735ms
2025-02-13 14:34:29.011 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:29.011 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.6226ms
2025-02-13 14:34:29.472 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/14018 - null null
2025-02-13 14:34:29.473 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:29.473 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/14018 - 204 null null 0.4207ms
2025-02-13 14:34:29.476 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/14018 - null null
2025-02-13 14:34:29.476 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:29.476 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:29.477 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:29.477 +05:00 [INF] Вход в DeleteTest(Id=14018)
2025-02-13 14:34:29.477 +05:00 [INF] DeleteTestAsync(Id=14018)
2025-02-13 14:34:29.479 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:29.483 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p4;
2025-02-13 14:34:29.494 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:29.494 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 17.3716ms
2025-02-13 14:34:29.494 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:29.494 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/14018 - 204 null null 18.1088ms
2025-02-13 14:34:29.501 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:29.501 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:29.501 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:29.501 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:29.502 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:29.502 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:29.504 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:29.506 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:29.506 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:29.507 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.1469ms
2025-02-13 14:34:29.507 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:29.507 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.3004ms
2025-02-13 14:34:29.944 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/14019 - null null
2025-02-13 14:34:29.944 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:29.944 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/14019 - 204 null null 0.3569ms
2025-02-13 14:34:29.949 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/14019 - null null
2025-02-13 14:34:29.949 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:29.949 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:29.950 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:29.950 +05:00 [INF] Вход в DeleteTest(Id=14019)
2025-02-13 14:34:29.950 +05:00 [INF] DeleteTestAsync(Id=14019)
2025-02-13 14:34:29.951 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:29.965 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:29.966 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:29.966 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 16.2076ms
2025-02-13 14:34:29.966 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:29.966 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/14019 - 204 null null 17.0385ms
2025-02-13 14:34:29.974 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:29.974 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:29.974 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:29.974 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:29.975 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:29.975 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:29.976 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:29.978 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:29.979 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:29.979 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.7001ms
2025-02-13 14:34:29.979 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:29.979 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.4944ms
2025-02-13 14:34:30.311 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/14020 - null null
2025-02-13 14:34:30.311 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:30.312 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/14020 - 204 null null 0.2805ms
2025-02-13 14:34:30.314 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/14020 - null null
2025-02-13 14:34:30.314 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:30.314 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:30.314 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:30.315 +05:00 [INF] Вход в DeleteTest(Id=14020)
2025-02-13 14:34:30.315 +05:00 [INF] DeleteTestAsync(Id=14020)
2025-02-13 14:34:30.316 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:30.318 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p1;
2025-02-13 14:34:30.319 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:30.319 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 5.0539ms
2025-02-13 14:34:30.319 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:30.319 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/14020 - 204 null null 5.7303ms
2025-02-13 14:34:30.327 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:30.327 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:30.327 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:30.328 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:30.329 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:30.329 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:30.330 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:30.332 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:30.332 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:30.332 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.5431ms
2025-02-13 14:34:30.332 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:30.332 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.4333ms
2025-02-13 14:34:30.769 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/14021 - null null
2025-02-13 14:34:30.770 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:30.770 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/14021 - 204 null null 0.3909ms
2025-02-13 14:34:30.773 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/14021 - null null
2025-02-13 14:34:30.773 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:30.773 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:30.773 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:30.774 +05:00 [INF] Вход в DeleteTest(Id=14021)
2025-02-13 14:34:30.774 +05:00 [INF] DeleteTestAsync(Id=14021)
2025-02-13 14:34:30.775 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:30.778 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p1;
2025-02-13 14:34:30.801 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:30.801 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 28.0113ms
2025-02-13 14:34:30.801 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:30.801 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/14021 - 204 null null 28.7552ms
2025-02-13 14:34:30.809 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:30.809 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:30.809 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:30.809 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:30.810 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:30.810 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:30.812 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:30.814 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:30.814 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:30.814 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8434ms
2025-02-13 14:34:30.814 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:30.814 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.5842ms
2025-02-13 14:34:31.260 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/14022 - null null
2025-02-13 14:34:31.261 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:31.261 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/14022 - 204 null null 0.4203ms
2025-02-13 14:34:31.265 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/14022 - null null
2025-02-13 14:34:31.265 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:31.265 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:31.265 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:31.266 +05:00 [INF] Вход в DeleteTest(Id=14022)
2025-02-13 14:34:31.266 +05:00 [INF] DeleteTestAsync(Id=14022)
2025-02-13 14:34:31.267 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:31.271 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p1;
2025-02-13 14:34:31.283 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:31.283 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 17.1783ms
2025-02-13 14:34:31.283 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:31.283 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/14022 - 204 null null 18.3105ms
2025-02-13 14:34:31.290 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:31.291 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:31.291 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:31.291 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:31.292 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:31.292 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:31.294 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:31.295 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:31.296 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:31.296 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.876ms
2025-02-13 14:34:31.296 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:31.296 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.541ms
2025-02-13 14:34:32.299 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/15019 - null null
2025-02-13 14:34:32.299 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:32.299 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/15019 - 204 null null 0.2804ms
2025-02-13 14:34:32.302 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/15019 - null null
2025-02-13 14:34:32.303 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:32.303 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:32.303 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:32.304 +05:00 [INF] Вход в DeleteTest(Id=15019)
2025-02-13 14:34:32.304 +05:00 [INF] DeleteTestAsync(Id=15019)
2025-02-13 14:34:32.305 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:32.318 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:32.319 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:32.319 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 15.5933ms
2025-02-13 14:34:32.319 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:32.319 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/15019 - 204 null null 16.4201ms
2025-02-13 14:34:32.326 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:32.326 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:32.326 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:32.326 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:32.327 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:32.327 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:32.329 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:32.330 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:32.331 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:32.331 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3706ms
2025-02-13 14:34:32.331 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:32.331 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.5433ms
2025-02-13 14:34:32.812 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16019 - null null
2025-02-13 14:34:32.813 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:32.813 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16019 - 204 null null 0.2824ms
2025-02-13 14:34:32.817 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/16019 - null null
2025-02-13 14:34:32.817 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:32.817 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:32.817 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:32.818 +05:00 [INF] Вход в DeleteTest(Id=16019)
2025-02-13 14:34:32.818 +05:00 [INF] DeleteTestAsync(Id=16019)
2025-02-13 14:34:32.819 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:34:32.831 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:34:32.832 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:34:32.832 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 14.351ms
2025-02-13 14:34:32.832 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-13 14:34:32.832 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/16019 - 204 null null 15.165ms
2025-02-13 14:34:32.839 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:34:32.839 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:32.839 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:32.839 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:34:32.840 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:34:32.840 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:34:32.842 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:34:32.843 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:34:32.844 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:32.844 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.6385ms
2025-02-13 14:34:32.844 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:34:32.844 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.3617ms
2025-02-13 14:34:37.822 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:34:37.822 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:37.822 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2819ms
2025-02-13 14:34:37.825 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:34:37.825 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:34:37.825 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:34:37.825 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:34:37.827 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:34:37.828 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:34:37.828 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.8347ms
2025-02-13 14:34:37.828 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:34:37.829 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.5082ms
2025-02-13 14:35:11.002 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%201&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=true&testType=QuestionsOnly&timeLimitMinutes=3 - null null
2025-02-13 14:35:11.002 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:11.002 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%201&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=true&testType=QuestionsOnly&timeLimitMinutes=3 - 204 null null 0.3059ms
2025-02-13 14:35:11.004 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%201&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=true&testType=QuestionsOnly&timeLimitMinutes=3 - null 0
2025-02-13 14:35:11.004 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:11.005 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:35:11.005 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:35:11.006 +05:00 [INF] CreateTemplate: МатематикаҚосуРК 1, count=3, topic=4008, isPrivate=false, isRandom=true, testType=QuestionsOnly
2025-02-13 14:35:11.008 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 14:35:11.026 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TimeLimitMinutes], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-13 14:35:11.027 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 14:35:11.027 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 22.1564ms
2025-02-13 14:35:11.027 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:35:11.027 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%201&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=true&testType=QuestionsOnly&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 22.856ms
2025-02-13 14:35:11.034 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:35:11.034 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:11.034 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3891ms
2025-02-13 14:35:11.036 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:35:11.036 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:11.036 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:35:11.036 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:35:11.037 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:35:11.037 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:35:11.038 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:35:11.041 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:35:11.041 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:35:11.041 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.7125ms
2025-02-13 14:35:11.041 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:35:11.041 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.3885ms
2025-02-13 14:35:17.381 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:35:17.381 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:17.381 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3114ms
2025-02-13 14:35:17.384 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:35:17.384 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:17.384 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:35:17.385 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:35:17.387 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:35:17.387 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:35:17.387 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.7598ms
2025-02-13 14:35:17.387 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:35:17.388 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.3949ms
2025-02-13 14:35:47.080 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%202&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=true&testType=QuestionsOnly&timeLimitMinutes=3 - null null
2025-02-13 14:35:47.080 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:47.080 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%202&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=true&testType=QuestionsOnly&timeLimitMinutes=3 - 204 null null 0.3338ms
2025-02-13 14:35:47.083 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%202&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=true&testType=QuestionsOnly&timeLimitMinutes=3 - null 0
2025-02-13 14:35:47.083 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:47.083 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:35:47.084 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:35:47.085 +05:00 [INF] CreateTemplate: МатематикаҚосуРК 2, count=3, topic=4008, isPrivate=false, isRandom=true, testType=QuestionsOnly
2025-02-13 14:35:47.087 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 14:35:47.117 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TimeLimitMinutes], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-13 14:35:47.118 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 14:35:47.118 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 34.2723ms
2025-02-13 14:35:47.118 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:35:47.118 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%202&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=true&testType=QuestionsOnly&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 35.1641ms
2025-02-13 14:35:47.124 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:35:47.124 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:47.124 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2666ms
2025-02-13 14:35:47.126 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:35:47.127 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:47.127 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:35:47.127 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:35:47.128 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:35:47.128 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:35:47.129 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:35:47.135 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:35:47.135 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:35:47.135 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.413ms
2025-02-13 14:35:47.135 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:35:47.136 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.2945ms
2025-02-13 14:35:50.292 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:35:50.292 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:50.292 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3094ms
2025-02-13 14:35:50.293 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:35:50.294 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:35:50.294 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:35:50.294 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:35:50.296 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:35:50.297 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:35:50.298 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.6959ms
2025-02-13 14:35:50.298 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:35:50.298 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.3759ms
2025-02-13 14:36:05.779 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16020 - null null
2025-02-13 14:36:05.779 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:05.779 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16020 - 204 null null 0.4591ms
2025-02-13 14:36:05.784 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16020 - application/json 2
2025-02-13 14:36:05.784 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:05.784 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:36:05.784 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:36:05.785 +05:00 [INF] Вход в StartTest(TestId=16020)
2025-02-13 14:36:05.785 +05:00 [INF] Старт теста 16020 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:36:05.792 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:36:05.813 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-13 14:36:05.839 +05:00 [ERR] Ошибка в StartTest(TestId=16020)
System.Exception: В тесте ID=16020 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 14:36:05.853 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 69.1201ms
2025-02-13 14:36:05.854 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:36:05.879 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=16020 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 14:36:05.880 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16020 - 500 null application/json 96.9917ms
2025-02-13 14:36:20.915 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:36:20.916 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:20.916 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5312ms
2025-02-13 14:36:20.918 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:36:20.918 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:20.919 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:36:20.919 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 14:36:20.920 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 14:36:20.920 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 14:36:20.922 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 14:36:20.928 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 14:36:20.928 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:36:20.929 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 10.0294ms
2025-02-13 14:36:20.929 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:36:20.929 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.8675ms
2025-02-13 14:36:27.723 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:36:27.723 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:27.724 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.415ms
2025-02-13 14:36:27.725 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:36:27.726 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:27.726 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:36:27.726 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:36:27.727 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:36:27.727 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:36:27.729 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:36:27.733 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:36:27.734 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:36:27.734 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.9853ms
2025-02-13 14:36:27.734 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:36:27.734 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.8622ms
2025-02-13 14:36:29.159 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:36:29.159 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:29.159 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.4214ms
2025-02-13 14:36:29.165 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:36:29.165 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:29.165 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:36:29.165 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:36:29.167 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:36:29.168 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:36:29.169 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.0291ms
2025-02-13 14:36:29.169 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:36:29.169 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.843ms
2025-02-13 14:36:34.828 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16020?newName=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%201&countOfQuestions=3&isPrivate=false&isRandom=true&testType=0&topicId=1&timeLimitMinutes=3 - null null
2025-02-13 14:36:34.828 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:34.828 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16020?newName=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%201&countOfQuestions=3&isPrivate=false&isRandom=true&testType=0&topicId=1&timeLimitMinutes=3 - 204 null null 0.2858ms
2025-02-13 14:36:34.830 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/16020?newName=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%201&countOfQuestions=3&isPrivate=false&isRandom=true&testType=0&topicId=1&timeLimitMinutes=3 - null 0
2025-02-13 14:36:34.830 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:34.830 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 14:36:34.833 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32], Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:36:34.835 +05:00 [INF] UpdateTest(Id=16020), isPrivate=false, isRandom=true, testType=0
2025-02-13 14:36:34.836 +05:00 [INF] UpdateTestAsync(Id=16020, isPrivate=false, isRandom=true, testType=0)
2025-02-13 14:36:34.849 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:36:34.851 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 14:36:34.854 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [IsRandom] = @p3, [Name] = @p4, [TestType] = @p5, [TimeLimitMinutes] = @p6, [TopicId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-02-13 14:36:34.855 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 14:36:34.855 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 21.7491ms
2025-02-13 14:36:34.855 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 14:36:34.855 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/16020?newName=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%201&countOfQuestions=3&isPrivate=false&isRandom=true&testType=0&topicId=1&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 25.5379ms
2025-02-13 14:36:34.862 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:36:34.862 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:34.862 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3635ms
2025-02-13 14:36:34.864 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:36:34.864 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:34.864 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:36:34.864 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:36:34.865 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:36:34.865 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:36:34.866 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:36:34.868 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:36:34.868 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:36:34.869 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.0296ms
2025-02-13 14:36:34.869 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:36:34.869 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.7366ms
2025-02-13 14:36:45.676 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16020 - null null
2025-02-13 14:36:45.676 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:45.676 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16020 - 204 null null 0.3906ms
2025-02-13 14:36:45.679 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16020 - application/json 2
2025-02-13 14:36:45.679 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:36:45.679 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:36:45.679 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:36:45.680 +05:00 [INF] Вход в StartTest(TestId=16020)
2025-02-13 14:36:45.680 +05:00 [INF] Старт теста 16020 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:36:45.682 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:36:45.710 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-13 14:36:45.723 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [EndTime], [ExpireTime], [IsPassed], [StartTime], [TestId], [TimeSpentSeconds], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-02-13 14:36:45.735 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 14:36:45.741 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 14:36:45.768 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[EndTime], [u1].[ExpireTime], [u1].[IsPassed], [u1].[StartTime], [u1].[TestId], [u1].[TimeSpentSeconds], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-13 14:36:45.776 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-13 14:36:45.777 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 98.0434ms
2025-02-13 14:36:45.777 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:36:45.778 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16020 - 200 null application/json; charset=utf-8 98.8907ms
2025-02-13 14:37:08.126 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16017/save - null null
2025-02-13 14:37:08.126 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:08.127 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16017/save - 204 null null 0.6024ms
2025-02-13 14:37:08.129 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/16017/save - application/json 200
2025-02-13 14:37:08.129 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:08.129 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-13 14:37:08.132 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-13 14:37:08.139 +05:00 [INF] SaveAnswers(UserTestId=16017), Count=3
2025-02-13 14:37:08.140 +05:00 [INF] SaveAnswersAsync(UserTestId=16017, CountAnswers=3)
2025-02-13 14:37:08.147 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 14:37:08.200 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[EndTime], [s].[ExpireTime], [s].[IsPassed], [s].[StartTime], [s].[TestId], [s].[TimeSpentSeconds], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-13 14:37:08.230 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4)) AS i ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId], i.[UserTextAnswer])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 14:37:08.232 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 14:37:08.233 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 100.5928ms
2025-02-13 14:37:08.233 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-13 14:37:08.233 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/16017/save - 200 null application/json; charset=utf-8 104.3266ms
2025-02-13 14:37:08.240 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16017/check - null null
2025-02-13 14:37:08.241 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:08.241 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16017/check - 204 null null 0.3803ms
2025-02-13 14:37:08.244 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/16017/check - null null
2025-02-13 14:37:08.244 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:08.244 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-13 14:37:08.247 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-13 14:37:08.249 +05:00 [INF] CheckAnswers(UserTestId=16017)
2025-02-13 14:37:08.251 +05:00 [INF] CheckAnswersAsync(UserTestId=16017)
2025-02-13 14:37:08.260 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[EndTime], [s].[ExpireTime], [s].[IsPassed], [s].[StartTime], [s].[TestId], [s].[TimeSpentSeconds], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-13 14:37:08.269 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserTests] SET [CorrectAnswers] = @p0, [DateCreated] = @p1, [EndTime] = @p2, [ExpireTime] = @p3, [IsPassed] = @p4, [StartTime] = @p5, [TestId] = @p6, [TimeSpentSeconds] = @p7, [TotalQuestions] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-02-13 14:37:08.270 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-13 14:37:08.272 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 24.6974ms
2025-02-13 14:37:08.272 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-13 14:37:08.272 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/16017/check - 200 null application/json; charset=utf-8 28.5965ms
2025-02-13 14:37:12.366 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:37:12.366 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:12.366 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5511ms
2025-02-13 14:37:12.371 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:37:12.371 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:12.372 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:37:12.372 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:37:12.373 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:37:12.373 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:37:12.375 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:37:12.379 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:37:12.380 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:37:12.380 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.1604ms
2025-02-13 14:37:12.380 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:37:12.380 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.25ms
2025-02-13 14:37:20.510 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:37:20.510 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:20.511 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4006ms
2025-02-13 14:37:20.513 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:37:20.514 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:20.514 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:37:20.514 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 14:37:20.515 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 14:37:20.515 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 14:37:20.518 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 14:37:20.524 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 14:37:20.525 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:37:20.525 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 11.1053ms
2025-02-13 14:37:20.525 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:37:20.525 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 12.1019ms
2025-02-13 14:37:21.254 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-13 14:37:21.254 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:21.254 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.3392ms
2025-02-13 14:37:21.256 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-13 14:37:21.257 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:21.257 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-13 14:37:21.257 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:37:21.259 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-13 14:37:21.261 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-13 14:37:21.301 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[EndTime], [u0].[ExpireTime], [u0].[IsPassed], [u0].[StartTime], [u0].[TestId], [u0].[TimeSpentSeconds], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[UserTextAnswer], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [u2].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-13 14:37:21.306 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:37:21.306 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 49.02ms
2025-02-13 14:37:21.306 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-13 14:37:21.306 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 50.1156ms
2025-02-13 14:37:31.651 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/11026 - null null
2025-02-13 14:37:31.651 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:31.651 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/11026 - 204 null null 0.2795ms
2025-02-13 14:37:31.653 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/UserTests/11026 - null null
2025-02-13 14:37:31.654 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:31.654 +05:00 [INF] Executing endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-13 14:37:31.657 +05:00 [INF] Route matched with {action = "DeleteUserTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:37:31.659 +05:00 [INF] Вход в DeleteUserTest(Id=11026)
2025-02-13 14:37:31.660 +05:00 [INF] DeleteAsync(UserTestId=11026)
2025-02-13 14:37:31.667 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId]
FROM [UserTests] AS [u]
WHERE [u].[Id] = @__userTestId_0
2025-02-13 14:37:31.681 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserTests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 14:37:31.682 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-13 14:37:31.682 +05:00 [INF] Executed action UserTestsController.DeleteUserTest (QuizMasterAPI) in 24.4457ms
2025-02-13 14:37:31.682 +05:00 [INF] Executed endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-13 14:37:31.682 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/UserTests/11026 - 204 null null 28.9646ms
2025-02-13 14:37:43.430 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:37:43.430 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:43.431 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3871ms
2025-02-13 14:37:43.432 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:37:43.433 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:43.433 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:37:43.433 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 14:37:43.434 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 14:37:43.434 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 14:37:43.436 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 14:37:43.441 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 14:37:43.442 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:37:43.443 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 9.5425ms
2025-02-13 14:37:43.443 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:37:43.443 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.5162ms
2025-02-13 14:37:44.376 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:37:44.376 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:44.376 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4924ms
2025-02-13 14:37:44.378 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:37:44.379 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:44.379 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:37:44.379 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:37:44.380 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:37:44.380 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:37:44.382 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:37:44.385 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:37:44.385 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:37:44.386 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.4174ms
2025-02-13 14:37:44.386 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:37:44.386 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.8256ms
2025-02-13 14:37:47.005 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:37:47.005 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:47.005 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2392ms
2025-02-13 14:37:47.007 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:37:47.007 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:47.008 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:37:47.008 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:37:47.010 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:37:47.010 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:37:47.011 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.8324ms
2025-02-13 14:37:47.011 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:37:47.011 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.7456ms
2025-02-13 14:37:51.756 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16021?newName=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%202&countOfQuestions=3&isPrivate=false&isRandom=true&testType=0&topicId=1&timeLimitMinutes=3 - null null
2025-02-13 14:37:51.756 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:51.756 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16021?newName=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%202&countOfQuestions=3&isPrivate=false&isRandom=true&testType=0&topicId=1&timeLimitMinutes=3 - 204 null null 0.2803ms
2025-02-13 14:37:51.758 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/16021?newName=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%202&countOfQuestions=3&isPrivate=false&isRandom=true&testType=0&topicId=1&timeLimitMinutes=3 - null 0
2025-02-13 14:37:51.758 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:51.758 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 14:37:51.758 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32], Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:37:51.759 +05:00 [INF] UpdateTest(Id=16021), isPrivate=false, isRandom=true, testType=0
2025-02-13 14:37:51.759 +05:00 [INF] UpdateTestAsync(Id=16021, isPrivate=false, isRandom=true, testType=0)
2025-02-13 14:37:51.764 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:37:51.766 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 14:37:51.779 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [IsRandom] = @p3, [Name] = @p4, [TestType] = @p5, [TimeLimitMinutes] = @p6, [TopicId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-02-13 14:37:51.779 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 14:37:51.780 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 21.6086ms
2025-02-13 14:37:51.780 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 14:37:51.780 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/16021?newName=%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%D2%9A%D0%BE%D1%81%D1%83%D0%A0%D0%9A%202&countOfQuestions=3&isPrivate=false&isRandom=true&testType=0&topicId=1&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 22.2495ms
2025-02-13 14:37:51.785 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:37:51.785 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:51.786 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2534ms
2025-02-13 14:37:51.787 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:37:51.787 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:51.787 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:37:51.787 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:37:51.788 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:37:51.788 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:37:51.789 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:37:51.791 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:37:51.791 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:37:51.791 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.6436ms
2025-02-13 14:37:51.791 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:37:51.791 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.3548ms
2025-02-13 14:37:53.845 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16021 - null null
2025-02-13 14:37:53.846 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:53.846 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16021 - 204 null null 0.423ms
2025-02-13 14:37:53.848 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16021 - application/json 2
2025-02-13 14:37:53.848 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:37:53.849 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:37:53.849 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:37:53.850 +05:00 [INF] Вход в StartTest(TestId=16021)
2025-02-13 14:37:53.850 +05:00 [INF] Старт теста 16021 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:37:53.851 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:37:53.856 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-13 14:37:53.875 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [EndTime], [ExpireTime], [IsPassed], [StartTime], [TestId], [TimeSpentSeconds], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-02-13 14:37:53.880 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 14:37:53.884 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[EndTime], [u1].[ExpireTime], [u1].[IsPassed], [u1].[StartTime], [u1].[TestId], [u1].[TimeSpentSeconds], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-13 14:37:53.885 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-13 14:37:53.885 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 35.9889ms
2025-02-13 14:37:53.885 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:37:53.885 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16021 - 200 null application/json; charset=utf-8 36.8504ms
2025-02-13 14:38:18.196 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16018/save - null null
2025-02-13 14:38:18.196 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:38:18.196 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16018/save - 204 null null 0.2679ms
2025-02-13 14:38:18.198 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/16018/save - application/json 189
2025-02-13 14:38:18.198 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:38:18.198 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-13 14:38:18.198 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-13 14:38:18.201 +05:00 [INF] SaveAnswers(UserTestId=16018), Count=3
2025-02-13 14:38:18.201 +05:00 [INF] SaveAnswersAsync(UserTestId=16018, CountAnswers=3)
2025-02-13 14:38:18.209 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[EndTime], [s].[ExpireTime], [s].[IsPassed], [s].[StartTime], [s].[TestId], [s].[TimeSpentSeconds], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-13 14:38:18.221 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3)) AS i ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId], i.[UserTextAnswer])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 14:38:18.222 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 14:38:18.222 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 23.6358ms
2025-02-13 14:38:18.222 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-13 14:38:18.222 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/16018/save - 200 null application/json; charset=utf-8 24.2568ms
2025-02-13 14:38:18.228 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16018/check - null null
2025-02-13 14:38:18.228 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:38:18.228 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16018/check - 204 null null 0.2695ms
2025-02-13 14:38:18.230 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/16018/check - null null
2025-02-13 14:38:18.230 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:38:18.230 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-13 14:38:18.231 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-13 14:38:18.231 +05:00 [INF] CheckAnswers(UserTestId=16018)
2025-02-13 14:38:18.231 +05:00 [INF] CheckAnswersAsync(UserTestId=16018)
2025-02-13 14:38:18.240 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[EndTime], [s].[ExpireTime], [s].[IsPassed], [s].[StartTime], [s].[TestId], [s].[TimeSpentSeconds], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-13 14:38:18.245 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserTests] SET [CorrectAnswers] = @p0, [DateCreated] = @p1, [EndTime] = @p2, [ExpireTime] = @p3, [IsPassed] = @p4, [StartTime] = @p5, [TestId] = @p6, [TimeSpentSeconds] = @p7, [TotalQuestions] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-02-13 14:38:18.246 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-13 14:38:18.246 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 15.4304ms
2025-02-13 14:38:18.246 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-13 14:38:18.246 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/16018/check - 200 null application/json; charset=utf-8 16.1422ms
2025-02-13 14:39:01.190 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16018/save - null null
2025-02-13 14:39:01.190 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:01.190 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16018/save - 204 null null 0.3356ms
2025-02-13 14:39:01.192 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/16018/save - application/json 189
2025-02-13 14:39:01.192 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:01.192 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-13 14:39:01.192 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-13 14:39:01.222 +05:00 [INF] SaveAnswers(UserTestId=16018), Count=3
2025-02-13 14:39:01.222 +05:00 [INF] SaveAnswersAsync(UserTestId=16018, CountAnswers=3)
2025-02-13 14:39:01.231 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[EndTime], [s].[ExpireTime], [s].[IsPassed], [s].[StartTime], [s].[TestId], [s].[TimeSpentSeconds], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-13 14:39:01.241 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p13='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserTestAnswers]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [UserTestAnswers]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [UserTestAnswers]
OUTPUT 1
WHERE [Id] = @p2;
UPDATE [UserTests] SET [CorrectAnswers] = @p3, [DateCreated] = @p4, [EndTime] = @p5, [ExpireTime] = @p6, [IsPassed] = @p7, [StartTime] = @p8, [TestId] = @p9, [TimeSpentSeconds] = @p10, [TotalQuestions] = @p11, [UserId] = @p12
OUTPUT 1
WHERE [Id] = @p13;
DELETE FROM [UserTestAnswers]
OUTPUT 1
WHERE [Id] = @p14;
MERGE [UserTestAnswers] USING (
VALUES (@p15, @p16, @p17, 0),
(@p18, @p19, @p20, 1),
(@p21, @p22, @p23, 2),
(@p24, @p25, @p26, 3)) AS i ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId], i.[UserTextAnswer])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 14:39:01.284 +05:00 [ERR] Ошибка в SaveAnswers(UserTestId=16018)
System.InvalidOperationException: Time is over! The test was forcibly finished.
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 72
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
2025-02-13 14:39:01.300 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 107.2428ms
2025-02-13 14:39:01.300 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-13 14:39:01.329 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.InvalidOperationException: Time is over! The test was forcibly finished.
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 72
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 14:39:01.330 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/16018/save - 400 null application/json 138.3232ms
2025-02-13 14:39:06.924 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:39:06.924 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:06.924 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3667ms
2025-02-13 14:39:06.926 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:39:06.927 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:06.927 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:39:06.927 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:39:06.928 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:39:06.928 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:39:06.930 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:39:06.933 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:39:06.933 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:39:06.934 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.6263ms
2025-02-13 14:39:06.934 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:39:06.934 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.4523ms
2025-02-13 14:39:13.611 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:39:13.611 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:13.611 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.352ms
2025-02-13 14:39:13.613 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:39:13.613 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:13.614 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:39:13.614 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:39:13.616 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:39:13.617 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:39:13.621 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 7.01ms
2025-02-13 14:39:13.621 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:39:13.621 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 7.6496ms
2025-02-13 14:39:28.014 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%202&countOfQuestions=1&isPrivate=true&topicId=1&isRandom=false&testType=QuestionsOnly - null null
2025-02-13 14:39:28.014 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:28.015 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%202&countOfQuestions=1&isPrivate=true&topicId=1&isRandom=false&testType=QuestionsOnly - 204 null null 0.2842ms
2025-02-13 14:39:28.016 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%202&countOfQuestions=1&isPrivate=true&topicId=1&isRandom=false&testType=QuestionsOnly - null 0
2025-02-13 14:39:28.017 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:28.017 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:39:28.017 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:39:28.018 +05:00 [INF] CreateTemplate: Program C# Test 2, count=1, topic=1, isPrivate=true, isRandom=false, testType=QuestionsOnly
2025-02-13 14:39:28.020 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 14:39:28.033 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TimeLimitMinutes], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-13 14:39:28.034 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 14:39:28.034 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 17.2696ms
2025-02-13 14:39:28.034 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:39:28.035 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%202&countOfQuestions=1&isPrivate=true&topicId=1&isRandom=false&testType=QuestionsOnly - 200 null application/json; charset=utf-8 18.3046ms
2025-02-13 14:39:28.040 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:39:28.040 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:28.040 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3066ms
2025-02-13 14:39:28.043 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:39:28.043 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=16022 - null null
2025-02-13 14:39:28.043 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:28.043 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:28.043 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=16022 - 204 null null 0.6221ms
2025-02-13 14:39:28.043 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:39:28.043 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:39:28.045 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:39:28.045 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:39:28.047 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:39:28.047 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=16022 - null null
2025-02-13 14:39:28.048 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:28.049 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-13 14:39:28.050 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:39:28.050 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:39:28.051 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.5428ms
2025-02-13 14:39:28.051 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:39:28.051 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.7073ms
2025-02-13 14:39:28.052 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-13 14:39:28.063 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-13 14:39:28.064 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:39:28.065 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 12.5755ms
2025-02-13 14:39:28.065 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-13 14:39:28.065 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=16022 - 200 null application/json; charset=utf-8 18.0102ms
2025-02-13 14:39:31.640 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%8F - null null
2025-02-13 14:39:31.640 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:31.640 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%8F - 204 null null 0.4342ms
2025-02-13 14:39:31.642 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - null null
2025-02-13 14:39:31.642 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:31.642 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-13 14:39:31.644 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-13 14:39:31.650 +05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-13 14:39:31.677 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-13 14:39:31.679 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:39:31.680 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 35.7981ms
2025-02-13 14:39:31.680 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-13 14:39:31.680 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - 200 null application/json; charset=utf-8 37.7221ms
2025-02-13 14:39:33.745 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-13 14:39:33.745 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:33.745 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.3724ms
2025-02-13 14:39:33.747 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-13 14:39:33.747 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:33.747 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-13 14:39:33.747 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-13 14:39:33.751 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-13 14:39:33.751 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:39:33.752 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 4.7038ms
2025-02-13 14:39:33.752 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-13 14:39:33.752 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 5.2736ms
2025-02-13 14:39:35.634 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=16022&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-13 14:39:35.634 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:35.634 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=16022&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.2893ms
2025-02-13 14:39:35.636 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=16022&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-13 14:39:35.636 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:35.636 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-13 14:39:35.639 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-13 14:39:35.641 +05:00 [INF] AddAccess(TestId=16022, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-13 14:39:35.642 +05:00 [INF] AddUserAccessAsync(TestId=16022, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-13 14:39:35.668 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-13 14:39:35.676 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 14:39:35.678 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 14:39:35.678 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 39.2558ms
2025-02-13 14:39:35.678 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-13 14:39:35.679 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=16022&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 42.9017ms
2025-02-13 14:39:35.684 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=16022 - null null
2025-02-13 14:39:35.684 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:35.684 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=16022 - 204 null null 0.3202ms
2025-02-13 14:39:35.686 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=16022 - null null
2025-02-13 14:39:35.686 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:35.686 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-13 14:39:35.686 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-13 14:39:35.690 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-13 14:39:35.708 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-13 14:39:35.709 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:39:35.709 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 22.7306ms
2025-02-13 14:39:35.709 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-13 14:39:35.709 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=16022 - 200 null application/json; charset=utf-8 23.6241ms
2025-02-13 14:39:42.193 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16022 - null null
2025-02-13 14:39:42.193 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:42.193 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16022 - 204 null null 0.3755ms
2025-02-13 14:39:42.196 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16022 - application/json 2
2025-02-13 14:39:42.197 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:42.197 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:39:42.197 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:39:42.198 +05:00 [INF] Вход в StartTest(TestId=16022)
2025-02-13 14:39:42.198 +05:00 [INF] Старт теста 16022 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:39:42.205 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:39:42.236 +05:00 [ERR] Ошибка в StartTest(TestId=16022)
System.Exception: В тесте ID=16022 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 14:39:42.250 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 52.3943ms
2025-02-13 14:39:42.250 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:39:42.275 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=16022 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 14:39:42.276 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16022 - 500 null application/json 80.3646ms
2025-02-13 14:39:58.604 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:39:58.604 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:58.604 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5375ms
2025-02-13 14:39:58.608 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:39:58.608 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:39:58.608 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:39:58.608 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 14:39:58.609 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 14:39:58.609 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 14:39:58.611 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 14:39:58.616 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 14:39:58.618 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:39:58.618 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 9.5792ms
2025-02-13 14:39:58.618 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:39:58.618 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.5411ms
2025-02-13 14:40:00.167 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:40:00.167 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:00.167 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.6153ms
2025-02-13 14:40:00.170 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:40:00.170 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:00.170 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:40:00.171 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:40:00.172 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:40:00.172 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:40:00.175 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:40:00.184 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:40:00.185 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:40:00.185 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 14.5911ms
2025-02-13 14:40:00.185 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:40:00.186 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 15.7141ms
2025-02-13 14:40:02.358 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:40:02.358 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:02.358 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2874ms
2025-02-13 14:40:02.361 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:40:02.362 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:02.362 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:40:02.362 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:40:02.363 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:40:02.364 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:40:02.365 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.6403ms
2025-02-13 14:40:02.365 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:40:02.365 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.2837ms
2025-02-13 14:40:13.228 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%203&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - null null
2025-02-13 14:40:13.228 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:13.228 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%203&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - 204 null null 0.5714ms
2025-02-13 14:40:13.231 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%203&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - null 0
2025-02-13 14:40:13.231 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:13.231 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:40:13.231 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:40:13.232 +05:00 [INF] CreateTemplate: Program C# Test 3, count=3, topic=1, isPrivate=false, isRandom=false, testType=QuestionsOnly
2025-02-13 14:40:13.234 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 14:40:13.261 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TimeLimitMinutes], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-13 14:40:13.262 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 14:40:13.262 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 31.0607ms
2025-02-13 14:40:13.262 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 14:40:13.262 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%203&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 31.9229ms
2025-02-13 14:40:13.268 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:40:13.268 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:13.268 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2832ms
2025-02-13 14:40:13.270 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:40:13.271 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:13.271 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:40:13.271 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:40:13.271 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:40:13.271 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:40:13.272 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:40:13.273 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:40:13.274 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:40:13.274 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.0859ms
2025-02-13 14:40:13.274 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:40:13.274 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.7243ms
2025-02-13 14:40:15.880 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16023 - null null
2025-02-13 14:40:15.880 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:15.880 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16023 - 204 null null 0.4913ms
2025-02-13 14:40:15.882 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16023 - application/json 2
2025-02-13 14:40:15.883 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:40:15.883 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:40:15.883 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 14:40:15.884 +05:00 [INF] Вход в StartTest(TestId=16023)
2025-02-13 14:40:15.884 +05:00 [INF] Старт теста 16023 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 14:40:15.886 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 14:40:15.920 +05:00 [ERR] Ошибка в StartTest(TestId=16023)
System.Exception: В тесте ID=16023 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 14:40:15.935 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 51.4722ms
2025-02-13 14:40:15.935 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 14:40:15.959 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=16023 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 14:40:15.960 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16023 - 500 null application/json 78.0362ms
2025-02-13 14:44:59.243 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:44:59.243 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:44:59.243 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5686ms
2025-02-13 14:44:59.249 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 14:44:59.250 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:44:59.250 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:44:59.250 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 14:44:59.251 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 14:44:59.251 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 14:44:59.258 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 14:44:59.266 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 14:44:59.267 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:44:59.267 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 16.9052ms
2025-02-13 14:44:59.267 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 14:44:59.267 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 17.8626ms
2025-02-13 14:44:59.806 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:44:59.806 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:44:59.806 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3456ms
2025-02-13 14:44:59.808 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 14:44:59.808 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:44:59.809 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:44:59.809 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 14:44:59.810 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 14:44:59.810 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 14:44:59.812 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 14:44:59.816 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 14:44:59.816 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:44:59.817 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.8216ms
2025-02-13 14:44:59.817 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 14:44:59.817 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.771ms
2025-02-13 14:45:00.854 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 14:45:00.854 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:45:00.855 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2666ms
2025-02-13 14:45:00.857 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 14:45:00.857 +05:00 [INF] CORS policy execution successful.
2025-02-13 14:45:00.857 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:45:00.857 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 14:45:00.860 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 14:45:00.860 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 14:45:00.861 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.3902ms
2025-02-13 14:45:00.861 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 14:45:00.861 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.2457ms
2025-02-13 15:22:05.520 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 15:22:05.521 +05:00 [INF] CORS policy execution successful.
2025-02-13 15:22:05.521 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.6653ms
2025-02-13 15:22:05.525 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 15:22:05.525 +05:00 [INF] CORS policy execution successful.
2025-02-13 15:22:05.526 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 15:22:05.526 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 15:22:05.528 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 15:22:05.528 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 15:22:05.544 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 15:22:05.548 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 15:22:05.549 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 15:22:05.549 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 22.8429ms
2025-02-13 15:22:05.549 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 15:22:05.549 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 24.5238ms
2025-02-13 16:02:03.766 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 16:02:03.779 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 13.2653ms
2025-02-13 16:02:03.803 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 16:02:03.805 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 16:02:03.806 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.6322ms
2025-02-13 16:02:03.811 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.0893ms
2025-02-13 16:02:03.935 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 16:02:03.957 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.3581ms
2025-02-13 16:46:32.148 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:46:32.148 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:32.149 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.7301ms
2025-02-13 16:46:32.172 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:46:32.173 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:32.177 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '13.02.2025 11:33:45', Current time (UTC): '13.02.2025 11:46:32'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-13 16:46:32.179 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '13.02.2025 11:33:45', Current time (UTC): '13.02.2025 11:46:32'.
2025-02-13 16:46:32.179 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 16:46:32.181 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 16:46:32.182 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 9.7556ms
2025-02-13 16:46:34.098 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:46:34.099 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:34.099 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3661ms
2025-02-13 16:46:34.101 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:46:34.101 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:34.102 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '13.02.2025 11:33:45', Current time (UTC): '13.02.2025 11:46:34'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-13 16:46:34.102 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '13.02.2025 11:33:45', Current time (UTC): '13.02.2025 11:46:34'.
2025-02-13 16:46:34.102 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 16:46:34.103 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 16:46:34.103 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 1.9493ms
2025-02-13 16:46:35.235 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:46:35.237 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:35.238 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 16:46:35.238 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 16:46:35.240 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 4.6856ms
2025-02-13 16:46:36.713 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-13 16:46:36.713 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:36.713 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.3235ms
2025-02-13 16:46:36.717 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-13 16:46:36.717 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:36.717 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 16:46:36.717 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 16:46:36.718 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-13 16:46:36.730 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 16:46:36.783 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 16:46:36.784 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-13 16:46:36.784 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 16:46:36.784 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 66.8394ms
2025-02-13 16:46:36.784 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 16:46:36.784 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 67.5497ms
2025-02-13 16:46:36.803 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:46:36.803 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:36.803 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:46:36.803 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:46:36.804 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 16:46:36.804 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 16:46:36.807 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:46:36.814 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:46:36.822 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:46:36.823 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 19.1684ms
2025-02-13 16:46:36.823 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:46:36.823 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 20.1709ms
2025-02-13 16:46:40.380 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:46:40.380 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:40.380 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2472ms
2025-02-13 16:46:40.381 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:46:40.382 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:40.382 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:46:40.382 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:46:40.384 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:46:40.384 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:46:40.385 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.8097ms
2025-02-13 16:46:40.385 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:46:40.385 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.447ms
2025-02-13 16:46:43.952 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:46:43.953 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:43.953 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5486ms
2025-02-13 16:46:43.955 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:46:43.956 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:43.956 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:46:43.956 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:46:43.957 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 16:46:43.957 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:46:43.960 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:46:43.965 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:46:43.966 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:46:43.966 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 10.0604ms
2025-02-13 16:46:43.966 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:46:43.966 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.111ms
2025-02-13 16:46:53.407 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions - null null
2025-02-13 16:46:53.407 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:53.408 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions - 204 null null 0.3868ms
2025-02-13 16:46:53.408 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 16:46:53.408 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:53.408 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - 204 null null 0.1385ms
2025-02-13 16:46:53.410 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 16:46:53.410 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:53.410 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/8009/questions - null null
2025-02-13 16:46:53.410 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:46:53.410 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:46:53.410 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:46:53.410 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 16:46:53.412 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-13 16:46:53.412 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-13 16:46:53.414 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:46:53.416 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:46:53.418 +05:00 [INF] Запрос вопросов для теста 8009
2025-02-13 16:46:53.418 +05:00 [INF] Получаем вопросы для теста 8009
2025-02-13 16:46:53.419 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:46:53.420 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:46:53.420 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 9.9257ms
2025-02-13 16:46:53.420 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:46:53.420 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - 200 null application/json; charset=utf-8 10.7041ms
2025-02-13 16:46:53.425 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 16:46:53.474 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 16:46:53.479 +05:00 [WRN] Для теста 8009 нет вопросов
2025-02-13 16:46:53.480 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 16:46:53.481 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 64.6245ms
2025-02-13 16:46:53.481 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 16:46:53.481 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/8009/questions - 404 null text/plain; charset=utf-8 70.8811ms
2025-02-13 16:47:16.347 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:47:16.348 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:16.348 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3011ms
2025-02-13 16:47:16.349 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:47:16.350 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:16.350 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:47:16.350 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:47:16.353 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:47:16.356 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:47:16.358 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 7.5693ms
2025-02-13 16:47:16.358 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:47:16.358 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 8.2756ms
2025-02-13 16:47:31.188 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - null null
2025-02-13 16:47:31.188 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:31.188 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - 204 null null 0.336ms
2025-02-13 16:47:31.190 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - null 0
2025-02-13 16:47:31.190 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:31.191 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 16:47:31.191 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:47:31.192 +05:00 [INF] CreateTemplate: Мат 2, count=3, topic=1, isPrivate=false, isRandom=false, testType=QuestionsOnly
2025-02-13 16:47:31.194 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 16:47:31.236 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TimeLimitMinutes], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-13 16:47:31.237 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 16:47:31.237 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 46.085ms
2025-02-13 16:47:31.237 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 16:47:31.237 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 47.0225ms
2025-02-13 16:47:31.245 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:47:31.246 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:31.246 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4272ms
2025-02-13 16:47:31.247 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:47:31.247 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:31.248 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:47:31.248 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:47:31.248 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 16:47:31.248 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:47:31.250 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:47:31.252 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:47:31.252 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:47:31.253 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.0117ms
2025-02-13 16:47:31.253 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:47:31.253 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.6434ms
2025-02-13 16:47:34.848 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 16:47:34.849 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:34.849 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3278ms
2025-02-13 16:47:34.852 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 16:47:34.852 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:34.852 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:47:34.852 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:47:34.853 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 16:47:34.853 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:47:34.854 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:47:34.857 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:47:34.858 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:47:34.858 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.6004ms
2025-02-13 16:47:34.858 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:47:34.858 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 6.455ms
2025-02-13 16:47:39.520 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16024/questions - null null
2025-02-13 16:47:39.520 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:39.520 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16024/questions - 204 null null 0.3266ms
2025-02-13 16:47:39.521 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 16:47:39.522 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:39.522 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - 204 null null 0.5331ms
2025-02-13 16:47:39.524 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 16:47:39.524 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16024/questions - null null
2025-02-13 16:47:39.524 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:39.524 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:39.525 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 16:47:39.525 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:47:39.525 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:47:39.525 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:47:39.526 +05:00 [INF] Запрос вопросов для теста 16024
2025-02-13 16:47:39.526 +05:00 [INF] Получаем вопросы для теста 16024
2025-02-13 16:47:39.526 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-13 16:47:39.526 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-13 16:47:39.532 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:47:39.540 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:47:39.541 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:47:39.541 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 16.3067ms
2025-02-13 16:47:39.541 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:47:39.542 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - 200 null application/json; charset=utf-8 17.6652ms
2025-02-13 16:47:39.548 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 16:47:39.549 +05:00 [WRN] Для теста 16024 нет вопросов
2025-02-13 16:47:39.549 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 16:47:39.549 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 24.4573ms
2025-02-13 16:47:39.549 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 16:47:39.550 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16024/questions - 404 null text/plain; charset=utf-8 25.1722ms
2025-02-13 16:47:49.543 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:47:49.543 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:49.543 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3413ms
2025-02-13 16:47:49.546 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:47:49.547 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:47:49.547 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:47:49.547 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:47:49.549 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:47:49.549 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:47:49.549 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.6429ms
2025-02-13 16:47:49.549 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:47:49.550 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.3169ms
2025-02-13 16:48:17.776 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:48:17.776 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:17.776 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5026ms
2025-02-13 16:48:17.781 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:48:17.781 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:17.782 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:48:17.782 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:48:17.783 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 16:48:17.783 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 16:48:17.786 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:48:17.817 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:48:17.818 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:48:17.818 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 35.948ms
2025-02-13 16:48:17.818 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:48:17.818 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 36.982ms
2025-02-13 16:48:22.518 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:48:22.518 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:22.518 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2555ms
2025-02-13 16:48:22.520 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:48:22.520 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:22.520 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:48:22.520 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:48:22.523 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:48:22.526 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:48:22.528 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 7.6764ms
2025-02-13 16:48:22.528 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:48:22.528 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 8.542ms
2025-02-13 16:48:25.096 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:48:25.096 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:25.096 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4598ms
2025-02-13 16:48:25.099 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:48:25.100 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:25.100 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:48:25.100 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:48:25.101 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 16:48:25.101 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:48:25.104 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:48:25.106 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:48:25.107 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:48:25.107 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.9315ms
2025-02-13 16:48:25.107 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:48:25.108 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.2158ms
2025-02-13 16:48:26.085 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:48:26.085 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:26.086 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:48:26.086 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:48:26.087 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:48:26.088 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:48:26.089 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.9772ms
2025-02-13 16:48:26.089 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:48:26.089 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.7037ms
2025-02-13 16:48:43.054 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=Mixed&timeLimitMinutes=3 - null null
2025-02-13 16:48:43.054 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:43.055 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=Mixed&timeLimitMinutes=3 - 204 null null 0.3044ms
2025-02-13 16:48:43.056 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=Mixed&timeLimitMinutes=3 - null 0
2025-02-13 16:48:43.056 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:43.057 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 16:48:43.057 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:48:43.058 +05:00 [INF] CreateTemplate: Матиматика бірінші тест, count=3, topic=1, isPrivate=false, isRandom=false, testType=Mixed
2025-02-13 16:48:43.059 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 16:48:43.072 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TimeLimitMinutes], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-13 16:48:43.073 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 16:48:43.073 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 16.0913ms
2025-02-13 16:48:43.073 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 16:48:43.073 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&topicId=1&isRandom=false&testType=Mixed&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 16.7532ms
2025-02-13 16:48:43.079 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:48:43.079 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:43.079 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4262ms
2025-02-13 16:48:43.081 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:48:43.081 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:43.081 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:48:43.081 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:48:43.082 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 16:48:43.082 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:48:43.082 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:48:43.084 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:48:43.085 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:48:43.085 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9903ms
2025-02-13 16:48:43.085 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:48:43.085 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.6732ms
2025-02-13 16:48:44.992 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 16:48:44.992 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:44.992 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3183ms
2025-02-13 16:48:44.994 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 16:48:44.994 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:44.994 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:48:44.994 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:48:44.995 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 16:48:44.995 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:48:44.996 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:48:44.999 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:48:44.999 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:48:45.000 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.3705ms
2025-02-13 16:48:45.000 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:48:45.000 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 6.0189ms
2025-02-13 16:48:47.506 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/questions - null null
2025-02-13 16:48:47.506 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:47.506 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/questions - 204 null null 0.3369ms
2025-02-13 16:48:47.507 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 16:48:47.507 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:47.507 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - 204 null null 0.1858ms
2025-02-13 16:48:47.508 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 16:48:47.509 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16025/questions - null null
2025-02-13 16:48:47.509 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:47.509 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:48:47.509 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 16:48:47.509 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:48:47.509 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:48:47.509 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:48:47.510 +05:00 [INF] Запрос вопросов для теста 16025
2025-02-13 16:48:47.510 +05:00 [INF] Получаем вопросы для теста 16025
2025-02-13 16:48:47.510 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-13 16:48:47.510 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-13 16:48:47.513 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:48:47.518 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:48:47.519 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 16:48:47.519 +05:00 [WRN] Для теста 16025 нет вопросов
2025-02-13 16:48:47.520 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 16:48:47.522 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 13.0575ms
2025-02-13 16:48:47.522 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 16:48:47.524 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16025/questions - 404 null text/plain; charset=utf-8 15.383ms
2025-02-13 16:48:47.525 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:48:47.526 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 16.2139ms
2025-02-13 16:48:47.526 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:48:47.526 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - 200 null application/json; charset=utf-8 17.3176ms
2025-02-13 16:51:46.347 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 16:51:46.360 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 12.7206ms
2025-02-13 16:51:46.382 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 16:51:46.385 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 16:51:46.386 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.6614ms
2025-02-13 16:51:46.389 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.91ms
2025-02-13 16:51:46.462 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 16:51:46.480 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.2568ms
2025-02-13 16:56:21.459 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:56:21.459 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:56:21.459 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3205ms
2025-02-13 16:56:21.462 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:56:21.462 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:56:21.462 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:56:21.462 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:56:21.463 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 16:56:21.463 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:56:21.473 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:56:21.477 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:56:21.478 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:56:21.479 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 16.3422ms
2025-02-13 16:56:21.479 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:56:21.479 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 17.4136ms
2025-02-13 16:57:16.812 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:57:16.813 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:16.814 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 1.6252ms
2025-02-13 16:57:16.823 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:57:16.823 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:16.824 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:57:16.824 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:57:16.826 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 16:57:16.826 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:57:16.830 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:57:16.842 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:57:16.844 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:57:16.844 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 20.2466ms
2025-02-13 16:57:16.844 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:57:16.845 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 21.666ms
2025-02-13 16:57:18.102 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions - null null
2025-02-13 16:57:18.102 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 16:57:18.102 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:18.102 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:18.102 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - 204 null null 0.3242ms
2025-02-13 16:57:18.102 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions - 204 null null 0.4462ms
2025-02-13 16:57:18.105 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/8009/questions - null null
2025-02-13 16:57:18.105 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 16:57:18.105 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:18.105 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:18.105 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 16:57:18.105 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:57:18.105 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:57:18.105 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:57:18.106 +05:00 [INF] Запрос вопросов для теста 8009
2025-02-13 16:57:18.106 +05:00 [INF] Получаем вопросы для теста 8009
2025-02-13 16:57:18.106 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-13 16:57:18.106 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-13 16:57:18.113 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 16:57:18.114 +05:00 [WRN] Для теста 8009 нет вопросов
2025-02-13 16:57:18.114 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 16:57:18.114 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 8.6476ms
2025-02-13 16:57:18.114 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 16:57:18.114 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/8009/questions - 404 null text/plain; charset=utf-8 9.4088ms
2025-02-13 16:57:18.118 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:57:18.123 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:57:18.130 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:57:18.130 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 24.5987ms
2025-02-13 16:57:18.130 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:57:18.130 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - 200 null application/json; charset=utf-8 25.3541ms
2025-02-13 16:57:52.372 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:57:52.372 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:52.373 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4763ms
2025-02-13 16:57:52.375 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:57:52.376 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:52.376 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:57:52.376 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:57:52.377 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 16:57:52.377 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 16:57:52.398 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:57:52.406 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:57:52.406 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:57:52.406 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 29.9615ms
2025-02-13 16:57:52.406 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:57:52.407 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 31.1152ms
2025-02-13 16:57:53.769 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:57:53.769 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:53.769 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2642ms
2025-02-13 16:57:53.771 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:57:53.771 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:57:53.771 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:57:53.771 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:57:53.774 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:57:53.774 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:57:53.775 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.1158ms
2025-02-13 16:57:53.775 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:57:53.775 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.6671ms
2025-02-13 16:58:27.349 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-13 16:58:27.349 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:27.349 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.3275ms
2025-02-13 16:58:27.351 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 204
2025-02-13 16:58:27.351 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:27.352 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 16:58:27.352 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:58:27.353 +05:00 [INF] Вход в CreateQuestion для 1+1
2025-02-13 16:58:27.353 +05:00 [INF] CreateQuestion(Text=1+1)
2025-02-13 16:58:27.357 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 16:58:27.361 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1),
(@p10, @p11, @p12, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 16:58:27.362 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-13 16:58:27.363 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 11.3583ms
2025-02-13 16:58:27.363 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 16:58:27.363 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 12.4992ms
2025-02-13 16:58:27.367 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:58:27.367 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:27.367 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.2339ms
2025-02-13 16:58:27.368 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:58:27.368 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:27.368 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:58:27.368 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:58:27.369 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 16:58:27.369 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 16:58:27.370 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:58:27.376 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:58:27.377 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:58:27.377 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 8.8754ms
2025-02-13 16:58:27.377 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:58:27.377 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.3891ms
2025-02-13 16:58:37.754 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:58:37.754 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:37.754 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2697ms
2025-02-13 16:58:37.756 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:58:37.756 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:37.756 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:58:37.756 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:58:37.758 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:58:37.759 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:58:37.759 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.4709ms
2025-02-13 16:58:37.759 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:58:37.759 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.0001ms
2025-02-13 16:58:56.306 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-13 16:58:56.307 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:56.307 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.3347ms
2025-02-13 16:58:56.308 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 204
2025-02-13 16:58:56.309 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:56.309 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 16:58:56.309 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:58:56.310 +05:00 [INF] Вход в CreateQuestion для 1+2
2025-02-13 16:58:56.310 +05:00 [INF] CreateQuestion(Text=1+2)
2025-02-13 16:58:56.314 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 16:58:56.317 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1),
(@p10, @p11, @p12, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 16:58:56.329 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-13 16:58:56.330 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 20.7687ms
2025-02-13 16:58:56.330 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 16:58:56.330 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 21.3705ms
2025-02-13 16:58:56.334 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:58:56.335 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:56.335 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.2387ms
2025-02-13 16:58:56.336 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:58:56.336 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:56.336 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:58:56.336 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:58:56.337 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 16:58:56.337 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 16:58:56.339 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:58:56.342 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:58:56.343 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:58:56.343 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.3825ms
2025-02-13 16:58:56.343 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:58:56.343 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.0972ms
2025-02-13 16:58:58.438 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:58:58.438 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:58.438 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3074ms
2025-02-13 16:58:58.440 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:58:58.440 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:58:58.440 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:58:58.440 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:58:58.453 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:58:58.453 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:58:58.453 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 13.2393ms
2025-02-13 16:58:58.453 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:58:58.454 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 13.8496ms
2025-02-13 16:59:16.239 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-13 16:59:16.240 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:16.240 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.2916ms
2025-02-13 16:59:16.241 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 204
2025-02-13 16:59:16.241 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:16.241 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 16:59:16.241 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:59:16.242 +05:00 [INF] Вход в CreateQuestion для 1+3
2025-02-13 16:59:16.242 +05:00 [INF] CreateQuestion(Text=1+3)
2025-02-13 16:59:16.245 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 16:59:16.249 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1),
(@p10, @p11, @p12, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 16:59:16.261 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-13 16:59:16.261 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 20.1377ms
2025-02-13 16:59:16.261 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 16:59:16.262 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 20.6228ms
2025-02-13 16:59:16.266 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:59:16.266 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:16.266 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.227ms
2025-02-13 16:59:16.268 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:59:16.268 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:16.268 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:59:16.268 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:59:16.269 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 16:59:16.269 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 16:59:16.270 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:59:16.273 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:59:16.273 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:59:16.273 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.139ms
2025-02-13 16:59:16.273 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:59:16.274 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.9735ms
2025-02-13 16:59:17.212 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:59:17.212 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:17.212 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2405ms
2025-02-13 16:59:17.214 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:59:17.214 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:17.214 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:59:17.214 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:59:17.216 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:59:17.216 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:59:17.216 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.327ms
2025-02-13 16:59:17.216 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:59:17.217 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 2.8319ms
2025-02-13 16:59:35.530 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-13 16:59:35.530 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:35.530 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.3487ms
2025-02-13 16:59:35.532 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 204
2025-02-13 16:59:35.532 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:35.532 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 16:59:35.532 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:59:35.534 +05:00 [INF] Вход в CreateQuestion для 1+5
2025-02-13 16:59:35.534 +05:00 [INF] CreateQuestion(Text=1+5)
2025-02-13 16:59:35.536 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-13 16:59:35.538 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1),
(@p10, @p11, @p12, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 16:59:35.550 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-13 16:59:35.550 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 18.1047ms
2025-02-13 16:59:35.550 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-13 16:59:35.551 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 18.7948ms
2025-02-13 16:59:35.556 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:59:35.556 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:35.556 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.2569ms
2025-02-13 16:59:35.558 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 16:59:35.558 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:35.558 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:59:35.558 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 16:59:35.559 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 16:59:35.559 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 16:59:35.560 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 16:59:35.562 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 16:59:35.562 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:59:35.562 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.245ms
2025-02-13 16:59:35.563 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 16:59:35.563 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.004ms
2025-02-13 16:59:46.050 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:59:46.050 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:46.050 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5143ms
2025-02-13 16:59:46.073 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 16:59:46.074 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:46.074 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:59:46.074 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 16:59:46.075 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 16:59:46.075 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 16:59:46.077 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 16:59:46.080 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 16:59:46.080 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:59:46.080 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.1604ms
2025-02-13 16:59:46.080 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 16:59:46.081 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.3294ms
2025-02-13 16:59:47.207 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 16:59:47.207 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:47.207 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2666ms
2025-02-13 16:59:47.209 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 16:59:47.210 +05:00 [INF] CORS policy execution successful.
2025-02-13 16:59:47.210 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:59:47.210 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 16:59:47.211 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 16:59:47.212 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 16:59:47.212 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.6071ms
2025-02-13 16:59:47.212 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 16:59:47.213 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.2852ms
2025-02-13 17:00:06.387 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%205&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - null null
2025-02-13 17:00:06.387 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:00:06.387 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%205&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - 204 null null 0.3614ms
2025-02-13 17:00:06.389 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%205&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - null 0
2025-02-13 17:00:06.389 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:00:06.389 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 17:00:06.389 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:00:06.390 +05:00 [INF] CreateTemplate: Мат 5, count=3, topic=4008, isPrivate=false, isRandom=false, testType=QuestionsOnly
2025-02-13 17:00:06.392 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 17:00:06.405 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TimeLimitMinutes], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-02-13 17:00:06.406 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:00:06.406 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 16.6147ms
2025-02-13 17:00:06.406 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-13 17:00:06.406 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%205&countOfQuestions=3&isPrivate=false&topicId=4008&isRandom=false&testType=QuestionsOnly&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 17.1715ms
2025-02-13 17:00:06.412 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:00:06.412 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:00:06.413 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5762ms
2025-02-13 17:00:06.415 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:00:06.416 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:00:06.416 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:00:06.416 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:00:06.417 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:00:06.417 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:00:06.418 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:00:06.421 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:00:06.422 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:00:06.422 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.1204ms
2025-02-13 17:00:06.422 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:00:06.422 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.9059ms
2025-02-13 17:01:04.140 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:01:04.140 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:04.140 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2958ms
2025-02-13 17:01:04.142 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:01:04.142 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:04.142 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:01:04.142 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:01:04.143 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 17:01:04.143 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:01:04.146 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:01:04.153 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:01:04.154 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:01:04.154 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 11.6924ms
2025-02-13 17:01:04.154 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:01:04.155 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 12.9406ms
2025-02-13 17:01:07.899 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:01:07.900 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:07.900 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - 204 null null 0.3129ms
2025-02-13 17:01:07.901 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=4008 - null null
2025-02-13 17:01:07.901 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:07.901 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=4008 - 204 null null 0.1998ms
2025-02-13 17:01:07.902 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:01:07.902 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?topicId=4008 - null null
2025-02-13 17:01:07.902 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:07.902 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:07.903 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:01:07.903 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:01:07.903 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:01:07.903 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:01:07.903 +05:00 [INF] Запрос вопросов для теста 16026
2025-02-13 17:01:07.904 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-13 17:01:07.904 +05:00 [INF] Получаем вопросы для теста 16026
2025-02-13 17:01:07.904 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-13 17:01:07.915 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:01:07.918 +05:00 [WRN] Для теста 16026 нет вопросов
2025-02-13 17:01:07.919 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:01:07.921 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 18.1614ms
2025-02-13 17:01:07.921 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:01:07.921 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/questions - 404 null text/plain; charset=utf-8 19.0176ms
2025-02-13 17:01:07.926 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:01:07.931 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:01:07.932 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:01:07.932 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 29.7082ms
2025-02-13 17:01:07.932 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:01:07.933 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?topicId=4008 - 200 null application/json; charset=utf-8 30.2635ms
2025-02-13 17:01:45.360 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 17:01:45.360 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:45.361 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3257ms
2025-02-13 17:01:45.364 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:01:45.364 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:45.364 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:01:45.364 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:01:45.367 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:01:45.369 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:01:45.370 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 5.4702ms
2025-02-13 17:01:45.370 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:01:45.372 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 8.1356ms
2025-02-13 17:01:52.988 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026?newName=%D0%9C%D0%B0%D1%82%205&countOfQuestions=3&isPrivate=false&isRandom=false&testType=Mixed&topicId=4008&timeLimitMinutes=3 - null null
2025-02-13 17:01:52.988 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:52.988 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026?newName=%D0%9C%D0%B0%D1%82%205&countOfQuestions=3&isPrivate=false&isRandom=false&testType=Mixed&topicId=4008&timeLimitMinutes=3 - 204 null null 0.2719ms
2025-02-13 17:01:52.991 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/16026?newName=%D0%9C%D0%B0%D1%82%205&countOfQuestions=3&isPrivate=false&isRandom=false&testType=Mixed&topicId=4008&timeLimitMinutes=3 - null 0
2025-02-13 17:01:52.991 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:52.991 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 17:01:52.991 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32], Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:01:52.992 +05:00 [INF] UpdateTest(Id=16026), isPrivate=false, isRandom=false, testType=Mixed
2025-02-13 17:01:52.992 +05:00 [INF] UpdateTestAsync(Id=16026, isPrivate=false, isRandom=false, testType=Mixed)
2025-02-13 17:01:52.999 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:01:53.001 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 17:01:53.016 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [IsRandom] = @p3, [Name] = @p4, [TestType] = @p5, [TimeLimitMinutes] = @p6, [TopicId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-02-13 17:01:53.016 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:01:53.017 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 25.0379ms
2025-02-13 17:01:53.017 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 17:01:53.017 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/16026?newName=%D0%9C%D0%B0%D1%82%205&countOfQuestions=3&isPrivate=false&isRandom=false&testType=Mixed&topicId=4008&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 25.7178ms
2025-02-13 17:01:53.024 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:01:53.024 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:53.024 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4876ms
2025-02-13 17:01:53.026 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:01:53.026 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:53.027 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:01:53.027 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:01:53.028 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 17:01:53.028 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:01:53.029 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:01:53.038 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:01:53.038 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:01:53.038 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 11.5665ms
2025-02-13 17:01:53.038 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:01:53.039 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 12.4472ms
2025-02-13 17:01:55.725 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:01:55.725 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:55.725 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - 204 null null 0.3237ms
2025-02-13 17:01:55.727 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=4008 - null null
2025-02-13 17:01:55.727 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:55.727 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=4008 - 204 null null 0.3472ms
2025-02-13 17:01:55.729 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:01:55.729 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?topicId=4008 - null null
2025-02-13 17:01:55.729 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:55.729 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:01:55.729 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:01:55.729 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:01:55.729 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:01:55.729 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:01:55.730 +05:00 [INF] Запрос вопросов для теста 16026
2025-02-13 17:01:55.730 +05:00 [INF] Получаем вопросы для теста 16026
2025-02-13 17:01:55.730 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-13 17:01:55.730 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-13 17:01:55.734 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:01:55.741 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:01:55.744 +05:00 [WRN] Для теста 16026 нет вопросов
2025-02-13 17:01:55.745 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:01:55.749 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:01:55.749 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 19.6768ms
2025-02-13 17:01:55.749 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:01:55.749 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/questions - 404 null text/plain; charset=utf-8 20.4717ms
2025-02-13 17:01:55.756 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:01:55.756 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 26.8728ms
2025-02-13 17:01:55.756 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:01:55.757 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?topicId=4008 - 200 null application/json; charset=utf-8 27.8259ms
2025-02-13 17:30:15.705 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16024/questions - null null
2025-02-13 17:30:15.707 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:15.708 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16024/questions - 204 null null 3.9011ms
2025-02-13 17:30:15.710 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 17:30:15.710 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:15.710 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - 204 null null 0.3696ms
2025-02-13 17:30:15.711 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16024/questions - null null
2025-02-13 17:30:15.711 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:15.712 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:30:15.712 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:30:15.713 +05:00 [INF] Запрос вопросов для теста 16024
2025-02-13 17:30:15.713 +05:00 [INF] Получаем вопросы для теста 16024
2025-02-13 17:30:15.723 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 17:30:15.723 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:15.724 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:30:15.724 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:30:15.737 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-13 17:30:15.737 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-13 17:30:15.752 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:30:15.753 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:30:15.753 +05:00 [WRN] Для теста 16024 нет вопросов
2025-02-13 17:30:15.754 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:30:15.756 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 43.7196ms
2025-02-13 17:30:15.756 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:30:15.757 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16024/questions - 404 null text/plain; charset=utf-8 45.9809ms
2025-02-13 17:30:15.759 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:30:15.760 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:30:15.761 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 36.8061ms
2025-02-13 17:30:15.761 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:30:15.761 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - 200 null application/json; charset=utf-8 38.3449ms
2025-02-13 17:30:35.173 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:30:35.173 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:35.174 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3811ms
2025-02-13 17:30:35.177 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:30:35.177 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:35.177 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:30:35.177 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:30:35.178 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:30:35.178 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:30:35.179 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:30:35.181 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:30:35.182 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:30:35.183 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.4391ms
2025-02-13 17:30:35.183 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:30:35.183 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.4029ms
2025-02-13 17:30:38.694 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:30:38.694 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:38.694 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 17:30:38.694 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 17:30:38.695 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 0.8012ms
2025-02-13 17:30:40.003 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-13 17:30:40.003 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:40.003 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.3229ms
2025-02-13 17:30:40.005 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-13 17:30:40.006 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:40.006 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 17:30:40.006 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 17:30:40.006 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-13 17:30:40.009 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 17:30:40.063 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 17:30:40.063 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-13 17:30:40.063 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 17:30:40.064 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 57.8263ms
2025-02-13 17:30:40.064 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 17:30:40.064 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 58.2742ms
2025-02-13 17:30:40.075 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:30:40.075 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:40.076 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:30:40.076 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:30:40.076 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:30:40.077 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:30:40.078 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:30:40.080 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:30:40.080 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:30:40.081 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.8929ms
2025-02-13 17:30:40.081 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:30:40.081 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8844ms
2025-02-13 17:30:42.267 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/categories - null null
2025-02-13 17:30:42.267 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:42.268 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/categories - 204 null null 0.268ms
2025-02-13 17:30:42.269 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/categories - null null
2025-02-13 17:30:42.269 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:42.270 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 17:30:42.270 +05:00 [INF] Route matched with {action = "GetAll", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.Dto.CategoryDto]]] GetAll() on controller QuizMasterAPI.Controllers.CategoriesController (QuizMasterAPI).
2025-02-13 17:30:42.272 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-02-13 17:30:42.273 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.Dto.CategoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:30:42.273 +05:00 [INF] Executed action QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI) in 3.0486ms
2025-02-13 17:30:42.273 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 17:30:42.273 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/categories - 200 null application/json; charset=utf-8 3.823ms
2025-02-13 17:30:44.894 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 17:30:44.894 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/categories - null null
2025-02-13 17:30:44.894 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:44.894 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:44.894 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 17:30:44.894 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.4116ms
2025-02-13 17:30:44.894 +05:00 [INF] Route matched with {action = "GetAll", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.Dto.CategoryDto]]] GetAll() on controller QuizMasterAPI.Controllers.CategoriesController (QuizMasterAPI).
2025-02-13 17:30:44.896 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-02-13 17:30:44.897 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.Dto.CategoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:30:44.897 +05:00 [INF] Executed action QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI) in 2.6259ms
2025-02-13 17:30:44.897 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 17:30:44.897 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:30:44.897 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/categories - 200 null application/json; charset=utf-8 3.5192ms
2025-02-13 17:30:44.897 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:44.898 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:30:44.898 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:30:44.901 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:30:44.901 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:30:44.902 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.7519ms
2025-02-13 17:30:44.902 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:30:44.902 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.8152ms
2025-02-13 17:30:49.057 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:30:49.057 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:49.057 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:30:49.057 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:30:49.059 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:30:49.062 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:30:49.064 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 6.7841ms
2025-02-13 17:30:49.064 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:30:49.064 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 7.509ms
2025-02-13 17:30:54.424 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-13 17:30:54.424 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:54.424 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.499ms
2025-02-13 17:30:54.426 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-13 17:30:54.426 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:30:54.427 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-13 17:30:54.427 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 17:30:54.428 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-13 17:30:54.430 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-13 17:30:54.443 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[EndTime], [u0].[ExpireTime], [u0].[IsPassed], [u0].[StartTime], [u0].[TestId], [u0].[TimeSpentSeconds], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[UserTextAnswer], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [u2].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-13 17:30:54.447 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:30:54.447 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 19.6892ms
2025-02-13 17:30:54.447 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-13 17:30:54.447 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 20.9806ms
2025-02-13 17:31:05.881 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:31:05.881 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:05.881 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.552ms
2025-02-13 17:31:05.884 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:31:05.884 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:05.885 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:31:05.885 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:31:05.886 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:31:05.886 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:31:05.888 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:31:05.891 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:31:05.892 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:05.892 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.0694ms
2025-02-13 17:31:05.892 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:31:05.892 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.1687ms
2025-02-13 17:31:09.139 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 17:31:09.139 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:09.140 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2719ms
2025-02-13 17:31:09.141 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:31:09.141 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:09.141 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:31:09.141 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:31:09.143 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:31:09.144 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:09.144 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.4206ms
2025-02-13 17:31:09.144 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:31:09.144 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.0366ms
2025-02-13 17:31:14.778 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 17:31:14.778 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:14.778 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3308ms
2025-02-13 17:31:14.780 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:31:14.781 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:14.781 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:31:14.781 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:31:14.783 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:31:14.783 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:14.784 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.7279ms
2025-02-13 17:31:14.784 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:31:14.784 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.4967ms
2025-02-13 17:31:16.930 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:31:16.930 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:16.931 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:31:16.931 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:31:16.932 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:31:16.933 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:16.933 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 2.5806ms
2025-02-13 17:31:16.933 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:31:16.933 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.3092ms
2025-02-13 17:31:21.047 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 17:31:21.047 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions - null null
2025-02-13 17:31:21.047 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:21.048 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:21.048 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions - 204 null null 0.2089ms
2025-02-13 17:31:21.048 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?topicId=1 - 204 null null 0.3248ms
2025-02-13 17:31:21.049 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - null null
2025-02-13 17:31:21.049 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/8009/questions - null null
2025-02-13 17:31:21.049 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:21.050 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:21.050 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:31:21.050 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:31:21.050 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:31:21.050 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:31:21.050 +05:00 [INF] Запрос вопросов для теста 8009
2025-02-13 17:31:21.050 +05:00 [INF] Получаем вопросы для теста 8009
2025-02-13 17:31:21.050 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-13 17:31:21.051 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-13 17:31:21.053 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:31:21.057 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:31:21.059 +05:00 [WRN] Для теста 8009 нет вопросов
2025-02-13 17:31:21.059 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:31:21.059 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 9.3816ms
2025-02-13 17:31:21.059 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:31:21.059 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/8009/questions - 404 null text/plain; charset=utf-8 9.9916ms
2025-02-13 17:31:21.060 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:31:21.064 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:21.064 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 14.413ms
2025-02-13 17:31:21.064 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:31:21.064 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?topicId=1 - 200 null application/json; charset=utf-8 15.0642ms
2025-02-13 17:31:24.155 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8009 - null null
2025-02-13 17:31:24.155 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:24.155 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8009 - 204 null null 0.3141ms
2025-02-13 17:31:24.158 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8009 - application/json 2
2025-02-13 17:31:24.158 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:24.158 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 17:31:24.158 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 17:31:24.159 +05:00 [INF] Вход в StartTest(TestId=8009)
2025-02-13 17:31:24.159 +05:00 [INF] Старт теста 8009 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 17:31:24.165 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:31:24.194 +05:00 [ERR] Ошибка в StartTest(TestId=8009)
System.Exception: В тесте ID=8009 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 17:31:24.208 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 49.3778ms
2025-02-13 17:31:24.208 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 17:31:24.233 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=8009 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 17:31:24.235 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8009 - 500 null application/json 77.2427ms
2025-02-13 17:31:26.435 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:31:26.435 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:26.435 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4757ms
2025-02-13 17:31:26.438 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:31:26.438 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:26.439 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:31:26.439 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:31:26.440 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:31:26.440 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:31:26.442 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:31:26.445 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:31:26.446 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:26.446 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.1703ms
2025-02-13 17:31:26.446 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:31:26.446 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.0435ms
2025-02-13 17:31:28.123 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8009 - application/json 2
2025-02-13 17:31:28.124 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:28.124 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 17:31:28.124 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 17:31:28.125 +05:00 [INF] Вход в StartTest(TestId=8009)
2025-02-13 17:31:28.125 +05:00 [INF] Старт теста 8009 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 17:31:28.127 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:31:28.162 +05:00 [ERR] Ошибка в StartTest(TestId=8009)
System.Exception: В тесте ID=8009 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 17:31:28.178 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 53.3549ms
2025-02-13 17:31:28.178 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 17:31:28.204 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=8009 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 17:31:28.206 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8009 - 500 null application/json 83.1808ms
2025-02-13 17:31:30.819 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:31:30.819 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:30.819 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3767ms
2025-02-13 17:31:30.821 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:31:30.821 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:30.822 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:31:30.822 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:31:30.823 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:31:30.823 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:31:30.824 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:31:30.827 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:31:30.828 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:30.828 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.4472ms
2025-02-13 17:31:30.828 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:31:30.829 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.6043ms
2025-02-13 17:31:31.418 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8009 - null null
2025-02-13 17:31:31.418 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:31.418 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8009 - 204 null null 0.4158ms
2025-02-13 17:31:31.420 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8009 - application/json 2
2025-02-13 17:31:31.420 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:31.421 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 17:31:31.421 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 17:31:31.422 +05:00 [INF] Вход в StartTest(TestId=8009)
2025-02-13 17:31:31.422 +05:00 [INF] Старт теста 8009 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 17:31:31.423 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:31:31.453 +05:00 [ERR] Ошибка в StartTest(TestId=8009)
System.Exception: В тесте ID=8009 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
2025-02-13 17:31:31.468 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 46.7243ms
2025-02-13 17:31:31.468 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 17:31:31.492 +05:00 [ERR] Необработанное исключение поймано в Middleware.
System.Exception: В тесте ID=8009 нет доступных вопросов.
   at QuizMasterAPI.Services.UserTestService.StartTestAsync(Int32 testId, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 121
   at UserTestsController.StartTest(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 112
   at lambda_method1053(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-13 17:31:31.494 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8009 - 500 null application/json 73.7418ms
2025-02-13 17:31:32.406 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:31:32.406 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:32.406 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:31:32.406 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:31:32.407 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:31:32.407 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:31:32.409 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:31:32.411 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:31:32.412 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:32.412 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.7076ms
2025-02-13 17:31:32.412 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:31:32.413 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.0222ms
2025-02-13 17:31:33.317 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 17:31:33.317 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:33.317 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2674ms
2025-02-13 17:31:33.319 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:31:33.319 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:33.319 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:31:33.319 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:31:33.321 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:31:33.322 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:33.323 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.2406ms
2025-02-13 17:31:33.323 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:31:33.323 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.0212ms
2025-02-13 17:31:59.957 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:31:59.957 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:59.957 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3946ms
2025-02-13 17:31:59.960 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:31:59.961 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:31:59.961 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:31:59.961 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:31:59.962 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:31:59.962 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:31:59.964 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:31:59.971 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:31:59.971 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:31:59.972 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 10.4641ms
2025-02-13 17:31:59.972 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:31:59.972 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.7812ms
2025-02-13 17:41:03.346 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:41:03.346 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:41:03.346 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5057ms
2025-02-13 17:41:03.348 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:41:03.348 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:41:03.348 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:41:03.348 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:41:03.349 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:41:03.349 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:41:03.377 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:41:03.381 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:41:03.382 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:41:03.382 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 33.3694ms
2025-02-13 17:41:03.382 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:41:03.382 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 34.2105ms
2025-02-13 17:41:54.294 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:41:54.294 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:41:54.294 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2709ms
2025-02-13 17:41:54.296 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:41:54.296 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:41:54.296 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:41:54.296 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:41:54.297 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:41:54.297 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:41:54.299 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:41:54.304 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:41:54.304 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:41:54.304 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.1029ms
2025-02-13 17:41:54.304 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:41:54.305 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.6943ms
2025-02-13 17:42:25.935 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:42:25.935 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:25.936 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 17:42:25.936 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 17:42:25.936 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.0112ms
2025-02-13 17:42:27.108 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-13 17:42:27.108 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:27.108 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2546ms
2025-02-13 17:42:27.111 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-13 17:42:27.111 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:27.111 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 17:42:27.111 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 17:42:27.112 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-13 17:42:27.115 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 17:42:27.168 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 17:42:27.168 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-13 17:42:27.168 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 17:42:27.168 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 56.9319ms
2025-02-13 17:42:27.169 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 17:42:27.169 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 57.7546ms
2025-02-13 17:42:27.182 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:42:27.182 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:27.182 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3716ms
2025-02-13 17:42:27.185 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:42:27.185 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:27.185 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:42:27.186 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:42:27.186 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:42:27.187 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:42:27.189 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:42:27.197 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:42:27.198 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:42:27.198 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 12.1859ms
2025-02-13 17:42:27.198 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:42:27.198 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 13.2892ms
2025-02-13 17:42:28.158 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:42:28.158 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:28.158 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2996ms
2025-02-13 17:42:28.160 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:42:28.161 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:28.161 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:42:28.161 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:42:28.162 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:42:28.162 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:42:28.164 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:42:28.166 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:42:28.167 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:42:28.168 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.7312ms
2025-02-13 17:42:28.168 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:42:28.168 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.6297ms
2025-02-13 17:42:32.707 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:42:32.707 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:32.707 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2746ms
2025-02-13 17:42:32.708 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:42:32.709 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:32.709 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:42:32.709 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:42:32.709 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 17:42:32.709 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:42:32.710 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:42:32.713 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:42:32.713 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:42:32.713 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.5654ms
2025-02-13 17:42:32.713 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:42:32.714 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 5.1464ms
2025-02-13 17:42:34.643 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:42:34.643 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:42:34.643 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:34.644 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - 204 null null 0.3132ms
2025-02-13 17:42:34.644 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:34.644 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - 204 null null 0.9678ms
2025-02-13 17:42:34.646 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:42:34.646 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:42:34.646 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:34.646 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:42:34.646 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:42:34.646 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:34.647 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - 404 null null 1.0357ms
2025-02-13 17:42:34.647 +05:00 [INF] Запрос вопросов для теста 16026
2025-02-13 17:42:34.647 +05:00 [INF] Получаем вопросы для теста 16026
2025-02-13 17:42:34.652 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:42:34.653 +05:00 [WRN] Для теста 16026 нет вопросов
2025-02-13 17:42:34.653 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:42:34.653 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 6.7571ms
2025-02-13 17:42:34.653 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:42:34.653 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/questions - 404 null text/plain; charset=utf-8 7.4257ms
2025-02-13 17:42:34.658 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44336/api/tests/16026/candidate-questions, Response status code: 404
2025-02-13 17:42:44.252 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:42:44.253 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:44.253 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - 204 null null 0.7142ms
2025-02-13 17:42:44.253 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:42:44.253 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:44.253 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - 204 null null 0.1804ms
2025-02-13 17:42:44.256 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:42:44.256 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:42:44.257 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:44.257 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:44.257 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:42:44.257 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:42:44.257 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - 404 null null 0.6917ms
2025-02-13 17:42:44.257 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44336/api/tests/16026/candidate-questions, Response status code: 404
2025-02-13 17:42:44.258 +05:00 [INF] Запрос вопросов для теста 16026
2025-02-13 17:42:44.258 +05:00 [INF] Получаем вопросы для теста 16026
2025-02-13 17:42:44.259 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:42:44.260 +05:00 [WRN] Для теста 16026 нет вопросов
2025-02-13 17:42:44.260 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:42:44.260 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 3.5194ms
2025-02-13 17:42:44.260 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:42:44.261 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/questions - 404 null text/plain; charset=utf-8 4.414ms
2025-02-13 17:42:48.839 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:42:48.861 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - 404 null null 21.806ms
2025-02-13 17:42:48.861 +05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44336/api/tests/16026/candidate-questions, Response status code: 404
2025-02-13 17:42:50.422 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:42:50.422 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:42:50.422 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2804ms
2025-02-13 17:43:06.383 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 17:43:06.457 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-13 17:43:06.558 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-13 17:43:06.697 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-13 17:43:06.793 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-13 17:43:06.793 +05:00 [INF] Hosting environment: Development
2025-02-13 17:43:06.793 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-13 17:43:06.894 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 209.048ms
2025-02-13 17:43:06.897 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-13 17:43:06.904 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.6113ms
2025-02-13 17:43:06.964 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-13 17:43:06.997 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.4329ms
2025-02-13 17:43:07.033 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-13 17:43:07.064 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.5608ms
2025-02-13 17:43:15.434 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:43:15.456 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:15.541 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-13 17:43:15.546 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-13 17:43:15.551 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 114.9217ms
2025-02-13 17:43:16.815 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-13 17:43:16.817 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:16.819 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 3.957ms
2025-02-13 17:43:16.822 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-13 17:43:16.823 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:16.825 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 17:43:16.846 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-13 17:43:16.879 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-13 17:43:16.925 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-13 17:43:17.052 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-13 17:43:17.070 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-13 17:43:17.075 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 17:43:17.081 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 230.2983ms
2025-02-13 17:43:17.082 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-13 17:43:17.085 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 263.9666ms
2025-02-13 17:43:17.107 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:43:17.107 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:17.108 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.2818ms
2025-02-13 17:43:17.111 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:43:17.112 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:17.153 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:43:17.157 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:43:17.259 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:43:17.260 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:43:17.288 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:43:17.358 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:43:17.412 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:43:17.420 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 262.4012ms
2025-02-13 17:43:17.420 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:43:17.421 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 310.2029ms
2025-02-13 17:43:19.189 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:43:19.191 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:19.191 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 2.1492ms
2025-02-13 17:43:19.196 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:43:19.197 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:19.200 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:43:19.205 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:19.211 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:43:19.213 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:43:19.222 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:43:19.237 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:43:19.261 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:43:19.269 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 64.0811ms
2025-02-13 17:43:19.269 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:43:19.270 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 73.3064ms
2025-02-13 17:43:22.166 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:43:22.166 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:22.167 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 1.0027ms
2025-02-13 17:43:22.169 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:43:22.169 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:22.169 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:43:22.170 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:22.172 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 17:43:22.173 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:43:22.175 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:43:22.188 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:43:22.189 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:43:22.190 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 19.8934ms
2025-02-13 17:43:22.190 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:43:22.190 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 21.3822ms
2025-02-13 17:43:23.532 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:43:23.532 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:23.533 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:43:23.533 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - 204 null null 1.255ms
2025-02-13 17:43:23.534 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:23.534 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - 204 null null 1.1063ms
2025-02-13 17:43:23.536 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:43:23.536 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:23.536 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:43:23.537 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:23.537 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:43:23.538 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:43:23.540 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:23.541 +05:00 [INF] Route matched with {action = "GetCandidateQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetCandidateQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:23.546 +05:00 [INF] Запрос кандидатных вопросов для теста 16026
2025-02-13 17:43:23.546 +05:00 [INF] Запрос вопросов для теста 16026
2025-02-13 17:43:23.547 +05:00 [INF] Получаем вопросы для теста 16026
2025-02-13 17:43:23.569 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 17:43:23.570 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 17:43:23.630 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:43:23.636 +05:00 [WRN] Для теста 16026 нет вопросов
2025-02-13 17:43:23.636 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:43:23.637 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 96.2065ms
2025-02-13 17:43:23.637 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:43:23.637 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/questions - 404 null text/plain; charset=utf-8 101.2787ms
2025-02-13 17:43:23.640 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:23.669 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM [Questions] AS [q]
LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
ORDER BY [q].[Id], [t].[Id]
2025-02-13 17:43:23.679 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:43:23.679 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI) in 137.9916ms
2025-02-13 17:43:23.679 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:43:23.680 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - 200 null application/json; charset=utf-8 143.2779ms
2025-02-13 17:43:28.625 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions/16006 - null null
2025-02-13 17:43:28.625 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:28.626 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions/16006 - 204 null null 1.3946ms
2025-02-13 17:43:28.629 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/16026/questions/16006 - application/json 2
2025-02-13 17:43:28.629 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:28.629 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:28.633 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:28.636 +05:00 [INF] Добавляем вопрос 16006 в тест 16026
2025-02-13 17:43:28.637 +05:00 [INF] Добавляем вопрос 16006 в тест 16026
2025-02-13 17:43:28.639 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:28.657 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-13 17:43:28.762 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 17:43:28.785 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:28.791 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:43:28.792 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 158.3615ms
2025-02-13 17:43:28.792 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:28.792 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/16026/questions/16006 - 200 null application/json; charset=utf-8 163.2738ms
2025-02-13 17:43:33.625 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions/16008 - null null
2025-02-13 17:43:33.626 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:33.626 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions/16008 - 204 null null 1.1917ms
2025-02-13 17:43:33.629 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/16026/questions/16008 - application/json 2
2025-02-13 17:43:33.629 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:33.630 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:33.630 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:33.632 +05:00 [INF] Добавляем вопрос 16008 в тест 16026
2025-02-13 17:43:33.632 +05:00 [INF] Добавляем вопрос 16008 в тест 16026
2025-02-13 17:43:33.635 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:33.639 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-13 17:43:33.644 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 17:43:33.647 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:33.647 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:43:33.648 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 17.7289ms
2025-02-13 17:43:33.648 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:33.648 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/16026/questions/16008 - 200 null application/json; charset=utf-8 19.1456ms
2025-02-13 17:43:36.349 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions/16009 - null null
2025-02-13 17:43:36.349 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:36.350 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions/16009 - 204 null null 0.7156ms
2025-02-13 17:43:36.352 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/16026/questions/16009 - application/json 2
2025-02-13 17:43:36.352 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:36.352 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:36.353 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:36.354 +05:00 [INF] Добавляем вопрос 16009 в тест 16026
2025-02-13 17:43:36.354 +05:00 [INF] Добавляем вопрос 16009 в тест 16026
2025-02-13 17:43:36.361 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:36.366 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-13 17:43:36.380 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 17:43:36.382 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:36.383 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:43:36.383 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 30.7511ms
2025-02-13 17:43:36.383 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:36.384 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/16026/questions/16009 - 200 null application/json; charset=utf-8 31.9525ms
2025-02-13 17:43:40.676 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:43:40.676 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:40.676 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - 204 null null 0.6026ms
2025-02-13 17:43:40.677 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:43:40.677 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:40.678 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - 204 null null 0.626ms
2025-02-13 17:43:40.679 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:43:40.679 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:43:40.680 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:40.680 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:40.680 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:43:40.680 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:43:40.680 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:40.680 +05:00 [INF] Route matched with {action = "GetCandidateQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetCandidateQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:40.682 +05:00 [INF] Запрос вопросов для теста 16026
2025-02-13 17:43:40.682 +05:00 [INF] Запрос кандидатных вопросов для теста 16026
2025-02-13 17:43:40.682 +05:00 [INF] Получаем вопросы для теста 16026
2025-02-13 17:43:40.685 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:40.689 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM [Questions] AS [q]
LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
ORDER BY [q].[Id], [t].[Id]
2025-02-13 17:43:40.690 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:43:40.696 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:43:40.697 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI) in 15.9517ms
2025-02-13 17:43:40.697 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:43:40.697 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - 200 null application/json; charset=utf-8 17.4506ms
2025-02-13 17:43:40.700 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:43:40.701 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 20.5941ms
2025-02-13 17:43:40.701 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:43:40.702 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/questions - 200 null application/json; charset=utf-8 22.4961ms
2025-02-13 17:43:42.880 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16026 - null null
2025-02-13 17:43:42.880 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:42.881 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/16026 - 204 null null 1.0738ms
2025-02-13 17:43:42.889 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/16026 - application/json 2
2025-02-13 17:43:42.890 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:42.892 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 17:43:42.896 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 17:43:42.911 +05:00 [INF] Вход в StartTest(TestId=16026)
2025-02-13 17:43:42.912 +05:00 [INF] Старт теста 16026 для пользователя 0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-13 17:43:42.915 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:42.945 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [EndTime], [ExpireTime], [IsPassed], [StartTime], [TestId], [TimeSpentSeconds], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-02-13 17:43:42.965 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 17:43:42.973 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 17:43:43.003 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[EndTime], [u1].[ExpireTime], [u1].[IsPassed], [u1].[StartTime], [u1].[TestId], [u1].[TimeSpentSeconds], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:43:43.012 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-13 17:43:43.014 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 117.7353ms
2025-02-13 17:43:43.014 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-13 17:43:43.014 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/16026 - 200 null application/json; charset=utf-8 125.7045ms
2025-02-13 17:43:50.539 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16019/save - null null
2025-02-13 17:43:50.540 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:50.540 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16019/save - 204 null null 0.8207ms
2025-02-13 17:43:50.542 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/16019/save - application/json 190
2025-02-13 17:43:50.543 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:50.543 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-13 17:43:50.547 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-13 17:43:50.559 +05:00 [INF] SaveAnswers(UserTestId=16019), Count=3
2025-02-13 17:43:50.561 +05:00 [INF] SaveAnswersAsync(UserTestId=16019, CountAnswers=3)
2025-02-13 17:43:50.569 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 17:43:50.614 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[EndTime], [s].[ExpireTime], [s].[IsPassed], [s].[StartTime], [s].[TestId], [s].[TimeSpentSeconds], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-13 17:43:50.648 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId], i.[UserTextAnswer])
OUTPUT INSERTED.[Id], i._Position;
2025-02-13 17:43:50.650 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-13 17:43:50.651 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 104.0535ms
2025-02-13 17:43:50.651 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-13 17:43:50.651 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/16019/save - 200 null application/json; charset=utf-8 109.101ms
2025-02-13 17:43:50.658 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16019/check - null null
2025-02-13 17:43:50.659 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:50.659 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/16019/check - 204 null null 0.4342ms
2025-02-13 17:43:50.661 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/16019/check - null null
2025-02-13 17:43:50.661 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:50.662 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-13 17:43:50.664 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-13 17:43:50.666 +05:00 [INF] CheckAnswers(UserTestId=16019)
2025-02-13 17:43:50.667 +05:00 [INF] CheckAnswersAsync(UserTestId=16019)
2025-02-13 17:43:50.669 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[EndTime], [s].[ExpireTime], [s].[IsPassed], [s].[StartTime], [s].[TestId], [s].[TimeSpentSeconds], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-13 17:43:50.682 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserTests] SET [CorrectAnswers] = @p0, [DateCreated] = @p1, [EndTime] = @p2, [ExpireTime] = @p3, [IsPassed] = @p4, [StartTime] = @p5, [TestId] = @p6, [TimeSpentSeconds] = @p7, [TotalQuestions] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-02-13 17:43:50.684 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-13 17:43:50.687 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 22.4194ms
2025-02-13 17:43:50.687 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-13 17:43:50.687 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/16019/check - 200 null application/json; charset=utf-8 26.0531ms
2025-02-13 17:43:51.883 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:43:51.884 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:51.885 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 2.9336ms
2025-02-13 17:43:51.891 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:43:51.891 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:51.892 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:43:51.892 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:51.893 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:43:51.893 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:43:51.895 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:43:51.898 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:43:51.899 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:43:51.900 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.9694ms
2025-02-13 17:43:51.900 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:43:51.900 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.7619ms
2025-02-13 17:43:53.442 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/candidate-questions - null null
2025-02-13 17:43:53.442 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions - null null
2025-02-13 17:43:53.443 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:53.443 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:53.443 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions - 204 null null 0.585ms
2025-02-13 17:43:53.443 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/candidate-questions - 204 null null 0.583ms
2025-02-13 17:43:53.447 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/8009/candidate-questions - null null
2025-02-13 17:43:53.449 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/8009/questions - null null
2025-02-13 17:43:53.449 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:53.450 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:53.450 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:43:53.450 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:43:53.450 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:53.450 +05:00 [INF] Route matched with {action = "GetCandidateQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetCandidateQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:53.451 +05:00 [INF] Запрос кандидатных вопросов для теста 8009
2025-02-13 17:43:53.451 +05:00 [INF] Запрос вопросов для теста 8009
2025-02-13 17:43:53.451 +05:00 [INF] Получаем вопросы для теста 8009
2025-02-13 17:43:53.455 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:43:53.455 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:53.460 +05:00 [WRN] Для теста 8009 нет вопросов
2025-02-13 17:43:53.464 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:43:53.465 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 14.3206ms
2025-02-13 17:43:53.465 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:43:53.465 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/8009/questions - 404 null text/plain; charset=utf-8 16.2948ms
2025-02-13 17:43:53.466 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM [Questions] AS [q]
LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
ORDER BY [q].[Id], [t].[Id]
2025-02-13 17:43:53.472 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:43:53.472 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI) in 22.1213ms
2025-02-13 17:43:53.472 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:43:53.473 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/8009/candidate-questions - 200 null application/json; charset=utf-8 26.5409ms
2025-02-13 17:43:59.047 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/14007 - null null
2025-02-13 17:43:59.048 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:59.048 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/14007 - 204 null null 0.6666ms
2025-02-13 17:43:59.050 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/8009/questions/14007 - application/json 2
2025-02-13 17:43:59.051 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:59.051 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:59.051 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:59.052 +05:00 [INF] Добавляем вопрос 14007 в тест 8009
2025-02-13 17:43:59.052 +05:00 [INF] Добавляем вопрос 14007 в тест 8009
2025-02-13 17:43:59.054 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:59.056 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-13 17:43:59.070 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 17:43:59.072 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:59.074 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:43:59.074 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 23.0324ms
2025-02-13 17:43:59.074 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:59.075 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/8009/questions/14007 - 200 null application/json; charset=utf-8 24.6487ms
2025-02-13 17:43:59.641 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/14005 - null null
2025-02-13 17:43:59.641 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:59.641 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/14005 - 204 null null 0.4318ms
2025-02-13 17:43:59.643 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/8009/questions/14005 - application/json 2
2025-02-13 17:43:59.643 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:43:59.643 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:59.644 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:43:59.645 +05:00 [INF] Добавляем вопрос 14005 в тест 8009
2025-02-13 17:43:59.645 +05:00 [INF] Добавляем вопрос 14005 в тест 8009
2025-02-13 17:43:59.646 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:59.649 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-13 17:43:59.651 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 17:43:59.653 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:43:59.654 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:43:59.654 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 10.4186ms
2025-02-13 17:43:59.654 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:43:59.655 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/8009/questions/14005 - 200 null application/json; charset=utf-8 11.6416ms
2025-02-13 17:44:00.148 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/11006 - null null
2025-02-13 17:44:00.149 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:00.149 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/11006 - 204 null null 0.6014ms
2025-02-13 17:44:00.152 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/8009/questions/11006 - application/json 2
2025-02-13 17:44:00.152 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:00.152 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:44:00.152 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:44:00.154 +05:00 [INF] Добавляем вопрос 11006 в тест 8009
2025-02-13 17:44:00.154 +05:00 [INF] Добавляем вопрос 11006 в тест 8009
2025-02-13 17:44:00.156 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:44:00.159 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-13 17:44:00.171 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 17:44:00.173 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:44:00.173 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:44:00.174 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 21.2702ms
2025-02-13 17:44:00.174 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:44:00.174 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/8009/questions/11006 - 200 null application/json; charset=utf-8 22.7793ms
2025-02-13 17:44:00.591 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/11005 - null null
2025-02-13 17:44:00.591 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:00.591 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/11005 - 204 null null 0.4777ms
2025-02-13 17:44:00.593 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/8009/questions/11005 - application/json 2
2025-02-13 17:44:00.594 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:00.594 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:44:00.594 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:44:00.595 +05:00 [INF] Добавляем вопрос 11005 в тест 8009
2025-02-13 17:44:00.596 +05:00 [INF] Добавляем вопрос 11005 в тест 8009
2025-02-13 17:44:00.597 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:44:00.601 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-13 17:44:00.603 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-13 17:44:00.605 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:44:00.606 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:44:00.607 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 12.0896ms
2025-02-13 17:44:00.607 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-13 17:44:00.607 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/8009/questions/11005 - 200 null application/json; charset=utf-8 13.6154ms
2025-02-13 17:44:01.330 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/11005 - null null
2025-02-13 17:44:01.330 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:01.330 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/11005 - 204 null null 0.5417ms
2025-02-13 17:44:01.332 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8009/questions/11005 - null null
2025-02-13 17:44:01.332 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:01.333 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI)'
2025-02-13 17:44:01.335 +05:00 [INF] Route matched with {action = "RemoveQuestionFromTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] RemoveQuestionFromTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:44:01.338 +05:00 [INF] Удаляем вопрос 11005 из теста 8009
2025-02-13 17:44:01.339 +05:00 [INF] Удаляем вопрос 11005 из теста 8009
2025-02-13 17:44:01.348 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__questionId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[QuestionId], [t].[TestId]
FROM [TestQuestions] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[QuestionId] = @__questionId_1
2025-02-13 17:44:01.366 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 17:44:01.369 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:44:01.370 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:44:01.370 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI) in 34.618ms
2025-02-13 17:44:01.370 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI)'
2025-02-13 17:44:01.370 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8009/questions/11005 - 200 null application/json; charset=utf-8 38.208ms
2025-02-13 17:44:01.736 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/11006 - null null
2025-02-13 17:44:01.736 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:01.737 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/11006 - 204 null null 0.4647ms
2025-02-13 17:44:01.738 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8009/questions/11006 - null null
2025-02-13 17:44:01.738 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:01.739 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI)'
2025-02-13 17:44:01.739 +05:00 [INF] Route matched with {action = "RemoveQuestionFromTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] RemoveQuestionFromTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:44:01.740 +05:00 [INF] Удаляем вопрос 11006 из теста 8009
2025-02-13 17:44:01.740 +05:00 [INF] Удаляем вопрос 11006 из теста 8009
2025-02-13 17:44:01.741 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__questionId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[QuestionId], [t].[TestId]
FROM [TestQuestions] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[QuestionId] = @__questionId_1
2025-02-13 17:44:01.755 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 17:44:01.757 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:44:01.758 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:44:01.758 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI) in 19.268ms
2025-02-13 17:44:01.758 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI)'
2025-02-13 17:44:01.759 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8009/questions/11006 - 200 null application/json; charset=utf-8 20.463ms
2025-02-13 17:44:02.064 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/14005 - null null
2025-02-13 17:44:02.064 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:02.064 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/14005 - 204 null null 0.4891ms
2025-02-13 17:44:02.067 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8009/questions/14005 - null null
2025-02-13 17:44:02.067 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:02.067 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI)'
2025-02-13 17:44:02.068 +05:00 [INF] Route matched with {action = "RemoveQuestionFromTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] RemoveQuestionFromTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:44:02.069 +05:00 [INF] Удаляем вопрос 14005 из теста 8009
2025-02-13 17:44:02.069 +05:00 [INF] Удаляем вопрос 14005 из теста 8009
2025-02-13 17:44:02.070 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__questionId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[QuestionId], [t].[TestId]
FROM [TestQuestions] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[QuestionId] = @__questionId_1
2025-02-13 17:44:02.073 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 17:44:02.074 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:44:02.075 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:44:02.076 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI) in 8.2378ms
2025-02-13 17:44:02.076 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI)'
2025-02-13 17:44:02.076 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8009/questions/14005 - 200 null application/json; charset=utf-8 9.514ms
2025-02-13 17:44:02.461 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/14007 - null null
2025-02-13 17:44:02.461 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:02.461 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009/questions/14007 - 204 null null 0.5972ms
2025-02-13 17:44:02.463 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8009/questions/14007 - null null
2025-02-13 17:44:02.464 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:44:02.464 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI)'
2025-02-13 17:44:02.464 +05:00 [INF] Route matched with {action = "RemoveQuestionFromTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] RemoveQuestionFromTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:44:02.465 +05:00 [INF] Удаляем вопрос 14007 из теста 8009
2025-02-13 17:44:02.465 +05:00 [INF] Удаляем вопрос 14007 из теста 8009
2025-02-13 17:44:02.466 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__questionId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[QuestionId], [t].[TestId]
FROM [TestQuestions] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[QuestionId] = @__questionId_1
2025-02-13 17:44:02.480 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestQuestions]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-13 17:44:02.483 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:44:02.484 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:44:02.485 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI) in 20.3122ms
2025-02-13 17:44:02.485 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.RemoveQuestionFromTest (QuizMasterAPI)'
2025-02-13 17:44:02.485 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8009/questions/14007 - 200 null application/json; charset=utf-8 21.5421ms
2025-02-13 17:45:26.968 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16022/questions - null null
2025-02-13 17:45:26.969 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:26.996 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16022/questions - 204 null null 27.6029ms
2025-02-13 17:45:26.998 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16022/candidate-questions - null null
2025-02-13 17:45:26.998 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:27.001 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16022/candidate-questions - 204 null null 3.0607ms
2025-02-13 17:45:27.001 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16022/questions - null null
2025-02-13 17:45:27.002 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:27.003 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:45:27.003 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:45:27.003 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16022/candidate-questions - null null
2025-02-13 17:45:27.003 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:27.003 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:45:27.003 +05:00 [INF] Route matched with {action = "GetCandidateQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetCandidateQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:45:27.005 +05:00 [INF] Запрос вопросов для теста 16022
2025-02-13 17:45:27.005 +05:00 [INF] Запрос кандидатных вопросов для теста 16022
2025-02-13 17:45:27.005 +05:00 [INF] Получаем вопросы для теста 16022
2025-02-13 17:45:27.015 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:45:27.015 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:45:27.016 +05:00 [WRN] Для теста 16022 нет вопросов
2025-02-13 17:45:27.016 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:45:27.017 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 13.7505ms
2025-02-13 17:45:27.017 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:45:27.017 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16022/questions - 404 null text/plain; charset=utf-8 15.9045ms
2025-02-13 17:45:27.019 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM [Questions] AS [q]
LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
ORDER BY [q].[Id], [t].[Id]
2025-02-13 17:45:27.024 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:45:27.024 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI) in 20.9202ms
2025-02-13 17:45:27.024 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:45:27.025 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16022/candidate-questions - 200 null application/json; charset=utf-8 21.6733ms
2025-02-13 17:45:39.775 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:45:39.776 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:39.776 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 1.0854ms
2025-02-13 17:45:39.780 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:45:39.780 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:39.781 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:45:39.781 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:45:39.782 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 17:45:39.782 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:45:39.784 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:45:39.787 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:45:39.787 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:45:39.788 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.8417ms
2025-02-13 17:45:39.788 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:45:39.788 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 8.1974ms
2025-02-13 17:45:42.075 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:45:42.075 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:42.075 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/questions - 204 null null 0.3814ms
2025-02-13 17:45:42.076 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:45:42.076 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:42.077 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16026/candidate-questions - 204 null null 0.3442ms
2025-02-13 17:45:42.078 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/questions - null null
2025-02-13 17:45:42.078 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:42.078 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:45:42.078 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:45:42.079 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - null null
2025-02-13 17:45:42.079 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:42.079 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:45:42.079 +05:00 [INF] Route matched with {action = "GetCandidateQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetCandidateQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:45:42.079 +05:00 [INF] Запрос вопросов для теста 16026
2025-02-13 17:45:42.079 +05:00 [INF] Получаем вопросы для теста 16026
2025-02-13 17:45:42.082 +05:00 [INF] Запрос кандидатных вопросов для теста 16026
2025-02-13 17:45:42.087 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:45:42.089 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:45:42.089 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:45:42.089 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 10.6251ms
2025-02-13 17:45:42.089 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:45:42.089 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/questions - 200 null application/json; charset=utf-8 11.7195ms
2025-02-13 17:45:42.093 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM [Questions] AS [q]
LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
ORDER BY [q].[Id], [t].[Id]
2025-02-13 17:45:42.099 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:45:42.099 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI) in 19.9559ms
2025-02-13 17:45:42.100 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:45:42.100 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16026/candidate-questions - 200 null application/json; charset=utf-8 21.4056ms
2025-02-13 17:45:44.270 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/questions - null null
2025-02-13 17:45:44.271 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:44.271 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/questions - 204 null null 0.3722ms
2025-02-13 17:45:44.271 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/candidate-questions - null null
2025-02-13 17:45:44.271 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:44.272 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/candidate-questions - 204 null null 0.245ms
2025-02-13 17:45:44.273 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16025/questions - null null
2025-02-13 17:45:44.273 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16025/candidate-questions - null null
2025-02-13 17:45:44.273 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:44.273 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:44.274 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:45:44.274 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:45:44.274 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:45:44.274 +05:00 [INF] Route matched with {action = "GetCandidateQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetCandidateQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:45:44.275 +05:00 [INF] Запрос кандидатных вопросов для теста 16025
2025-02-13 17:45:44.275 +05:00 [INF] Запрос вопросов для теста 16025
2025-02-13 17:45:44.275 +05:00 [INF] Получаем вопросы для теста 16025
2025-02-13 17:45:44.278 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:45:44.279 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:45:44.282 +05:00 [WRN] Для теста 16025 нет вопросов
2025-02-13 17:45:44.282 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:45:44.285 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 10.3676ms
2025-02-13 17:45:44.285 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:45:44.285 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16025/questions - 404 null text/plain; charset=utf-8 11.9749ms
2025-02-13 17:45:44.286 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM [Questions] AS [q]
LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
ORDER BY [q].[Id], [t].[Id]
2025-02-13 17:45:44.291 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:45:44.292 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI) in 17.8411ms
2025-02-13 17:45:44.292 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:45:44.294 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16025/candidate-questions - 200 null application/json; charset=utf-8 21.2934ms
2025-02-13 17:45:55.749 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 17:45:55.749 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:55.749 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2878ms
2025-02-13 17:45:55.752 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:45:55.752 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:45:55.758 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:45:55.772 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:45:55.780 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:45:55.784 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:45:55.786 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 13.0788ms
2025-02-13 17:45:55.786 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:45:55.786 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 34.2633ms
2025-02-13 17:46:02.148 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&isRandom=false&testType=Mixed&topicId=1&timeLimitMinutes=3 - null null
2025-02-13 17:46:02.148 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:02.148 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&isRandom=false&testType=Mixed&topicId=1&timeLimitMinutes=3 - 204 null null 0.5699ms
2025-02-13 17:46:02.150 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/16025?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&isRandom=false&testType=Mixed&topicId=1&timeLimitMinutes=3 - null 0
2025-02-13 17:46:02.150 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:02.151 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 17:46:02.156 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32], Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:46:02.159 +05:00 [INF] UpdateTest(Id=16025), isPrivate=false, isRandom=false, testType=Mixed
2025-02-13 17:46:02.161 +05:00 [INF] UpdateTestAsync(Id=16025, isPrivate=false, isRandom=false, testType=Mixed)
2025-02-13 17:46:02.162 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:46:02.171 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 17:46:02.188 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [IsRandom] = @p3, [Name] = @p4, [TestType] = @p5, [TimeLimitMinutes] = @p6, [TopicId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-02-13 17:46:02.189 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:46:02.189 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 32.8946ms
2025-02-13 17:46:02.189 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 17:46:02.189 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/16025?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&isRandom=false&testType=Mixed&topicId=1&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 39.0315ms
2025-02-13 17:46:02.195 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:46:02.195 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:02.195 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4334ms
2025-02-13 17:46:02.197 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:46:02.197 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:02.197 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:46:02.198 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:46:02.198 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 17:46:02.198 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:46:02.199 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:46:02.201 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:46:02.201 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:46:02.202 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.1047ms
2025-02-13 17:46:02.202 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:46:02.202 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.849ms
2025-02-13 17:46:03.086 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/questions - null null
2025-02-13 17:46:03.086 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:03.087 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/questions - 204 null null 0.3091ms
2025-02-13 17:46:03.088 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/candidate-questions - null null
2025-02-13 17:46:03.088 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:03.088 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/candidate-questions - 204 null null 0.2123ms
2025-02-13 17:46:03.089 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16025/questions - null null
2025-02-13 17:46:03.089 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16025/candidate-questions - null null
2025-02-13 17:46:03.089 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:03.089 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:03.089 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:46:03.089 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:46:03.089 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:46:03.089 +05:00 [INF] Route matched with {action = "GetCandidateQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetCandidateQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:46:03.090 +05:00 [INF] Запрос кандидатных вопросов для теста 16025
2025-02-13 17:46:03.090 +05:00 [INF] Запрос вопросов для теста 16025
2025-02-13 17:46:03.090 +05:00 [INF] Получаем вопросы для теста 16025
2025-02-13 17:46:03.092 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:46:03.092 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:46:03.094 +05:00 [WRN] Для теста 16025 нет вопросов
2025-02-13 17:46:03.094 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:46:03.095 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 5.1088ms
2025-02-13 17:46:03.095 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:46:03.095 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16025/questions - 404 null text/plain; charset=utf-8 6.1355ms
2025-02-13 17:46:03.097 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM [Questions] AS [q]
LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
ORDER BY [q].[Id], [t].[Id]
2025-02-13 17:46:03.104 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:46:03.105 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI) in 15.0511ms
2025-02-13 17:46:03.105 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:46:03.105 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16025/candidate-questions - 200 null application/json; charset=utf-8 15.8845ms
2025-02-13 17:46:08.824 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 17:46:08.824 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:08.824 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2833ms
2025-02-13 17:46:08.828 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:46:08.828 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:08.829 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:46:08.829 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:46:08.831 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:46:08.832 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:46:08.833 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 3.8436ms
2025-02-13 17:46:08.833 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:46:08.833 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.039ms
2025-02-13 17:46:12.695 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&isRandom=false&testType=SurveyOnly&topicId=1&timeLimitMinutes=3 - null null
2025-02-13 17:46:12.696 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:12.696 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&isRandom=false&testType=SurveyOnly&topicId=1&timeLimitMinutes=3 - 204 null null 0.3966ms
2025-02-13 17:46:12.697 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/16025?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&isRandom=false&testType=SurveyOnly&topicId=1&timeLimitMinutes=3 - null 0
2025-02-13 17:46:12.698 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:12.698 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 17:46:12.698 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32], Boolean, Boolean, System.String, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:46:12.699 +05:00 [INF] UpdateTest(Id=16025), isPrivate=false, isRandom=false, testType=SurveyOnly
2025-02-13 17:46:12.699 +05:00 [INF] UpdateTestAsync(Id=16025, isPrivate=false, isRandom=false, testType=SurveyOnly)
2025-02-13 17:46:12.701 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:46:12.703 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-13 17:46:12.715 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [IsRandom] = @p3, [Name] = @p4, [TestType] = @p5, [TimeLimitMinutes] = @p6, [TopicId] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-02-13 17:46:12.715 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-13 17:46:12.716 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 17.3772ms
2025-02-13 17:46:12.716 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-13 17:46:12.716 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/16025?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B1%D1%96%D1%80%D1%96%D0%BD%D1%88%D1%96%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=3&isPrivate=false&isRandom=false&testType=SurveyOnly&topicId=1&timeLimitMinutes=3 - 200 null application/json; charset=utf-8 18.2658ms
2025-02-13 17:46:12.723 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:46:12.723 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:12.723 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4167ms
2025-02-13 17:46:12.726 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-13 17:46:12.726 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:12.727 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:46:12.727 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:46:12.728 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-13 17:46:12.728 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:46:12.729 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:46:12.731 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:46:12.732 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:46:12.732 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.3394ms
2025-02-13 17:46:12.732 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:46:12.732 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 6.6067ms
2025-02-13 17:46:13.521 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/questions - null null
2025-02-13 17:46:13.521 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:13.521 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/questions - 204 null null 0.3473ms
2025-02-13 17:46:13.523 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/candidate-questions - null null
2025-02-13 17:46:13.523 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:13.523 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/16025/candidate-questions - 204 null null 0.2546ms
2025-02-13 17:46:13.523 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16025/questions - null null
2025-02-13 17:46:13.523 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:13.524 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:46:13.524 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:46:13.525 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests/16025/candidate-questions - null null
2025-02-13 17:46:13.525 +05:00 [INF] Запрос вопросов для теста 16025
2025-02-13 17:46:13.525 +05:00 [INF] Получаем вопросы для теста 16025
2025-02-13 17:46:13.525 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:13.525 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:46:13.525 +05:00 [INF] Route matched with {action = "GetCandidateQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuestionDto]]] GetCandidateQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:46:13.528 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-13 17:46:13.528 +05:00 [WRN] Для теста 16025 нет вопросов
2025-02-13 17:46:13.529 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-13 17:46:13.529 +05:00 [INF] Запрос кандидатных вопросов для теста 16025
2025-02-13 17:46:13.529 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 5.3423ms
2025-02-13 17:46:13.529 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-13 17:46:13.530 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16025/questions - 404 null text/plain; charset=utf-8 6.6124ms
2025-02-13 17:46:13.531 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TimeLimitMinutes], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-13 17:46:13.534 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM [Questions] AS [q]
LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
ORDER BY [q].[Id], [t].[Id]
2025-02-13 17:46:13.540 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:46:13.540 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI) in 14.563ms
2025-02-13 17:46:13.540 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetCandidateQuestions (QuizMasterAPI)'
2025-02-13 17:46:13.540 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests/16025/candidate-questions - 200 null application/json; charset=utf-8 15.6422ms
2025-02-13 17:46:38.909 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:46:38.909 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:38.910 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4867ms
2025-02-13 17:46:38.912 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:46:38.912 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:46:38.913 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:46:38.913 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:46:38.921 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:46:38.922 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:46:38.937 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:46:38.947 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:46:38.948 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:46:38.949 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 35.3395ms
2025-02-13 17:46:38.949 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:46:38.949 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 37.2045ms
2025-02-13 17:47:01.153 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-13 17:47:01.153 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:01.154 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.6654ms
2025-02-13 17:47:01.155 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/categories - null null
2025-02-13 17:47:01.155 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:01.155 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/categories - 204 null null 0.217ms
2025-02-13 17:47:01.156 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-13 17:47:01.156 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:01.157 +05:00 [INF] Executing endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:47:01.157 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller TopicController (QuizMasterAPI).
2025-02-13 17:47:01.157 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/categories - null null
2025-02-13 17:47:01.157 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:01.158 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 17:47:01.161 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[Name]
FROM [Topics] AS [t]
2025-02-13 17:47:01.165 +05:00 [INF] Route matched with {action = "GetAll", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.Dto.CategoryDto]]] GetAll() on controller QuizMasterAPI.Controllers.CategoriesController (QuizMasterAPI).
2025-02-13 17:47:01.167 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:47:01.167 +05:00 [INF] Executed action TopicController.GetAll (QuizMasterAPI) in 10.3201ms
2025-02-13 17:47:01.167 +05:00 [INF] Executed endpoint 'TopicController.GetAll (QuizMasterAPI)'
2025-02-13 17:47:01.167 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 11.4648ms
2025-02-13 17:47:01.178 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-02-13 17:47:01.183 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.Dto.CategoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:47:01.184 +05:00 [INF] Executed action QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI) in 18.9787ms
2025-02-13 17:47:01.184 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.CategoriesController.GetAll (QuizMasterAPI)'
2025-02-13 17:47:01.184 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/categories - 200 null application/json; charset=utf-8 27.5826ms
2025-02-13 17:47:19.150 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-13 17:47:19.150 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:19.150 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.5849ms
2025-02-13 17:47:19.155 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-13 17:47:19.156 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:19.157 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-13 17:47:19.161 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-13 17:47:19.164 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-13 17:47:19.181 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-13 17:47:19.192 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-13 17:47:19.248 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[EndTime], [u0].[ExpireTime], [u0].[IsPassed], [u0].[StartTime], [u0].[TestId], [u0].[TimeSpentSeconds], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[UserTextAnswer], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[EndTime], [u].[ExpireTime], [u].[IsPassed], [u].[StartTime], [u].[TestId], [u].[TimeSpentSeconds], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [u2].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-13 17:47:19.264 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:47:19.273 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 111.595ms
2025-02-13 17:47:19.273 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-13 17:47:19.273 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 118.3809ms
2025-02-13 17:47:47.668 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:47:47.669 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:47.669 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3438ms
2025-02-13 17:47:47.671 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:47:47.671 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:47.672 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:47:47.672 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:47:47.675 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:47:47.675 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:47:47.677 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:47:47.688 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:47:47.689 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:47:47.689 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 17.1712ms
2025-02-13 17:47:47.689 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:47:47.689 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 18.4907ms
2025-02-13 17:47:48.874 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:47:48.875 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:48.875 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3019ms
2025-02-13 17:47:48.877 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-13 17:47:48.877 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:48.878 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:47:48.878 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-13 17:47:48.879 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-13 17:47:48.879 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-13 17:47:48.881 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-13 17:47:48.884 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TimeLimitMinutes], [t1].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TimeLimitMinutes], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-13 17:47:48.885 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:47:48.885 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.4703ms
2025-02-13 17:47:48.885 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-13 17:47:48.886 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.6774ms
2025-02-13 17:47:56.173 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:47:56.173 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:56.173 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3349ms
2025-02-13 17:47:56.175 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-13 17:47:56.176 +05:00 [INF] CORS policy execution successful.
2025-02-13 17:47:56.176 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:47:56.176 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-13 17:47:56.178 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-13 17:47:56.178 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-13 17:47:56.180 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-13 17:47:56.182 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-13 17:47:56.183 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-13 17:47:56.184 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.1657ms
2025-02-13 17:47:56.184 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-13 17:47:56.184 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.7844ms
