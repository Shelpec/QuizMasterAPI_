2025-02-11 10:38:22.506 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-11 10:38:22.536 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-11 10:38:22.557 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-11 10:38:22.606 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-11 10:38:22.621 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-11 10:38:22.626 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-11 10:38:22.635 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-11 10:38:22.643 +05:00 [INF] Applying migration '20250211053802_AddTestQuestionsTable'.
2025-02-11 10:38:22.678 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [TestQuestions] (
    [Id] int NOT NULL IDENTITY,
    [TestId] int NOT NULL,
    [QuestionId] int NOT NULL,
    CONSTRAINT [PK_TestQuestions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_TestQuestions_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_TestQuestions_Tests_TestId] FOREIGN KEY ([TestId]) REFERENCES [Tests] ([Id]) ON DELETE CASCADE
);
2025-02-11 10:38:22.684 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_TestQuestions_QuestionId] ON [TestQuestions] ([QuestionId]);
2025-02-11 10:38:22.689 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_TestQuestions_TestId] ON [TestQuestions] ([TestId]);
2025-02-11 10:38:22.698 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250211053802_AddTestQuestionsTable', N'9.0.1');
2025-02-11 10:38:22.706 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-11 10:38:43.965 +05:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 10:38:44.034 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 10:38:44.147 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 10:38:44.322 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 10:38:44.388 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 10:38:44.388 +05:00 [INF] Hosting environment: Development
2025-02-11 10:38:44.388 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 10:38:45.020 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 703.8894ms
2025-02-11 10:38:45.021 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 10:38:45.030 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.2145ms
2025-02-11 10:38:45.080 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 10:38:45.123 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.034ms
2025-02-11 10:38:45.152 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 10:38:45.165 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/favicon-32x32.png - null null
2025-02-11 10:38:45.179 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-02-11 10:38:45.181 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/favicon-32x32.png - 200 628 image/png 15.1071ms
2025-02-11 10:38:45.187 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.3007ms
2025-02-11 10:42:49.038 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 10:42:49.040 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.3765ms
2025-02-11 10:42:49.142 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 10:42:49.167 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.7897ms
2025-02-11 10:42:49.777 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 10:42:49.779 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.229ms
2025-02-11 10:42:49.886 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 10:42:49.898 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.0858ms
2025-02-11 10:42:54.153 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 10:42:54.157 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.0102ms
2025-02-11 10:42:54.261 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 10:42:54.274 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.5723ms
2025-02-11 10:53:09.337 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 10:53:09.406 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 10:53:09.502 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 10:53:09.614 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 10:53:09.687 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 10:53:09.687 +05:00 [INF] Hosting environment: Development
2025-02-11 10:53:09.687 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 10:53:09.779 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 10:53:09.779 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 174.3516ms
2025-02-11 10:53:09.790 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.4778ms
2025-02-11 10:53:09.833 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 10:53:09.863 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.5181ms
2025-02-11 10:53:09.900 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 10:53:09.933 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.9718ms
2025-02-11 10:54:00.048 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-11 10:54:00.073 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-11 10:54:00.107 +05:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-11 10:54:00.153 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-11 10:54:00.167 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-11 10:54:00.175 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-11 10:54:00.182 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-11 10:54:00.190 +05:00 [INF] Applying migration '20250211055343_AddTestQuestionsRelation'.
2025-02-11 10:54:00.207 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250211055343_AddTestQuestionsRelation', N'9.0.1');
2025-02-11 10:54:00.215 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-11 10:55:30.401 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 10:55:30.481 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 10:55:30.584 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 10:55:30.696 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 10:55:30.775 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 10:55:30.775 +05:00 [INF] Hosting environment: Development
2025-02-11 10:55:30.775 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 10:55:30.913 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 226.0569ms
2025-02-11 10:55:30.918 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 10:55:30.928 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.0969ms
2025-02-11 10:55:30.980 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 10:55:31.007 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.8464ms
2025-02-11 10:55:31.046 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 10:55:31.071 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.1957ms
2025-02-11 10:55:46.538 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 10:55:46.549 +05:00 [INF] CORS policy execution successful.
2025-02-11 10:55:46.607 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 10:55:46.624 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 10:55:46.653 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 10:55:46.700 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 10:55:46.866 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 10:55:46.889 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 10:55:46.894 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 10:55:46.902 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 274.033ms
2025-02-11 10:55:46.902 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 10:55:46.907 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 368.7737ms
2025-02-11 10:58:46.808 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T1&countOfQuestions=5&topicId=1&isPrivate=false&isRandom=true&testType=QuestionsOnly - null 0
2025-02-11 10:58:46.812 +05:00 [INF] CORS policy execution successful.
2025-02-11 10:58:46.855 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 10:58:46.860 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 10:58:46.948 +05:00 [INF] CreateTemplate: T1, count=5, topic=1, isPrivate=false, isRandom=true, testType=QuestionsOnly
2025-02-11 10:58:46.977 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 10:58:46.996 +05:00 [INF] CreateTemplateAsync(Name=T1, isPrivate=false, isRandom=true, testType="QuestionsOnly")
2025-02-11 10:58:47.101 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 10:58:47.131 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 10:58:47.140 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 280.0119ms
2025-02-11 10:58:47.140 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 10:58:47.143 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T1&countOfQuestions=5&topicId=1&isPrivate=false&isRandom=true&testType=QuestionsOnly - 200 null application/json; charset=utf-8 334.0813ms
2025-02-11 10:59:14.694 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T2&countOfQuestions=5&topicId=1&isPrivate=false&isRandom=false&testType=QuestionsOnly - null 0
2025-02-11 10:59:14.697 +05:00 [INF] CORS policy execution successful.
2025-02-11 10:59:14.701 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 10:59:14.702 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 10:59:14.707 +05:00 [INF] CreateTemplate: T2, count=5, topic=1, isPrivate=false, isRandom=false, testType=QuestionsOnly
2025-02-11 10:59:14.711 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 10:59:14.739 +05:00 [INF] CreateTemplateAsync(Name=T2, isPrivate=false, isRandom=false, testType="QuestionsOnly")
2025-02-11 10:59:14.753 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 10:59:14.755 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 10:59:14.756 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 51.2038ms
2025-02-11 10:59:14.756 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 10:59:14.756 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T2&countOfQuestions=5&topicId=1&isPrivate=false&isRandom=false&testType=QuestionsOnly - 200 null application/json; charset=utf-8 69.9961ms
2025-02-11 10:59:45.589 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11019 - null null
2025-02-11 10:59:45.592 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI)'
2025-02-11 10:59:45.594 +05:00 [INF] Route matched with {action = "GetTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] GetTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 10:59:45.600 +05:00 [INF] Вход в GetTest(Id=11019)
2025-02-11 10:59:45.600 +05:00 [INF] GetTestByIdAsync(Id=11019)
2025-02-11 10:59:45.668 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-11 10:59:45.679 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 10:59:45.679 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI) in 84.7373ms
2025-02-11 10:59:45.679 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI)'
2025-02-11 10:59:45.680 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11019 - 200 null application/json; charset=utf-8 90.4375ms
2025-02-11 10:59:53.698 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11019/questions - null null
2025-02-11 10:59:53.699 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI)'
2025-02-11 10:59:53.701 +05:00 [INF] Route matched with {action = "GetQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 10:59:53.704 +05:00 [INF] Получаем вопросы для теста 11019
2025-02-11 10:59:53.707 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-11 10:59:53.722 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[QuestionId], [t].[TestId], [q].[Id], [q].[Text], [q].[TopicId]
FROM [TestQuestions] AS [t]
INNER JOIN [Questions] AS [q] ON [t].[QuestionId] = [q].[Id]
WHERE [t].[TestId] = @__testId_0
2025-02-11 10:59:53.727 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 10:59:53.728 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI) in 26.0614ms
2025-02-11 10:59:53.728 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI)'
2025-02-11 10:59:53.728 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11019/questions - 200 null application/json; charset=utf-8 29.9857ms
2025-02-11 11:00:11.998 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11018/questions - null null
2025-02-11 11:00:11.999 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI)'
2025-02-11 11:00:11.999 +05:00 [INF] Route matched with {action = "GetQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:00:12.000 +05:00 [INF] Получаем вопросы для теста 11018
2025-02-11 11:00:12.002 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-11 11:00:12.040 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-11 11:00:12.056 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 11:00:12.058 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI) in 58.5062ms
2025-02-11 11:00:12.058 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI)'
2025-02-11 11:00:12.058 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11018/questions - 200 null application/json; charset=utf-8 60.2303ms
2025-02-11 11:10:01.423 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T3&countOfQuestions=5&topicId=1&isPrivate=false&isRandom=true&testType=QuestionsOnly - null 0
2025-02-11 11:10:01.424 +05:00 [INF] CORS policy execution successful.
2025-02-11 11:10:01.425 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 11:10:01.425 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:10:01.428 +05:00 [INF] CreateTemplate: T3, count=5, topic=1, isPrivate=false, isRandom=true, testType=QuestionsOnly
2025-02-11 11:10:01.446 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 11:10:01.447 +05:00 [INF] CreateTemplateAsync(Name=T3, isPrivate=false, isRandom=true, testType="QuestionsOnly")
2025-02-11 11:10:01.457 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 11:10:01.458 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 11:10:01.459 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 32.9441ms
2025-02-11 11:10:01.459 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 11:10:01.459 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T3&countOfQuestions=5&topicId=1&isPrivate=false&isRandom=true&testType=QuestionsOnly - 200 null application/json; charset=utf-8 36.2155ms
2025-02-11 11:16:51.724 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T4&countOfQuestions=5&topicId=1&isPrivate=false&isRandom=false&testType=QuestionsOnly - null 0
2025-02-11 11:16:51.725 +05:00 [INF] CORS policy execution successful.
2025-02-11 11:16:51.725 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 11:16:51.725 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:16:51.730 +05:00 [INF] CreateTemplate: T4, count=5, topic=1, isPrivate=false, isRandom=false, testType=QuestionsOnly
2025-02-11 11:16:51.732 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 11:16:51.737 +05:00 [INF] CreateTemplateAsync(Name=T4, isPrivate=false, isRandom=false, testType="QuestionsOnly")
2025-02-11 11:16:51.745 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 11:16:51.746 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 11:16:51.746 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 20.8068ms
2025-02-11 11:16:51.746 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 11:16:51.747 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T4&countOfQuestions=5&topicId=1&isPrivate=false&isRandom=false&testType=QuestionsOnly - 200 null application/json; charset=utf-8 25.3388ms
2025-02-11 11:17:56.503 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-11 11:17:56.509 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 11:17:56.514 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 11:17:56.522 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-11 11:17:56.533 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-11 11:17:56.546 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-11 11:17:56.575 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-11 11:17:56.580 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 11:17:56.583 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 68.8019ms
2025-02-11 11:17:56.583 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 11:17:56.583 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 200 null application/json; charset=utf-8 80.2003ms
2025-02-11 11:18:16.864 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11021/questions/1001 - null 0
2025-02-11 11:18:16.865 +05:00 [INF] CORS policy execution successful.
2025-02-11 11:18:16.865 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 11:18:16.867 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:18:16.869 +05:00 [INF] Добавляем вопрос 1001 в тест 11021
2025-02-11 11:18:16.870 +05:00 [INF] Добавляем вопрос 1001 в тест 11021
2025-02-11 11:18:16.873 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-11 11:18:16.914 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 11:18:16.935 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 11:18:16.943 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-11 11:18:16.946 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 11:18:16.947 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 79.5454ms
2025-02-11 11:18:16.947 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 11:18:16.947 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11021/questions/1001 - 200 null application/json; charset=utf-8 83.1906ms
2025-02-11 11:18:54.735 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11021/questions/1002 - null 0
2025-02-11 11:18:54.736 +05:00 [INF] CORS policy execution successful.
2025-02-11 11:18:54.736 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 11:18:54.736 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:18:54.738 +05:00 [INF] Добавляем вопрос 1002 в тест 11021
2025-02-11 11:18:54.738 +05:00 [INF] Добавляем вопрос 1002 в тест 11021
2025-02-11 11:18:54.740 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-11 11:18:54.752 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 11:18:54.765 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 11:18:54.768 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-11 11:18:54.770 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 11:18:54.771 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 34.9723ms
2025-02-11 11:18:54.772 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 11:18:54.772 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11021/questions/1002 - 200 null application/json; charset=utf-8 36.5887ms
2025-02-11 11:23:57.810 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - null null
2025-02-11 11:23:57.838 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI)'
2025-02-11 11:23:57.838 +05:00 [INF] Route matched with {action = "GetQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:23:57.867 +05:00 [INF] Получаем вопросы для теста 11021
2025-02-11 11:23:57.871 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-02-11 11:23:57.878 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[QuestionId], [t].[TestId], [q].[Id], [q].[Text], [q].[TopicId]
FROM [TestQuestions] AS [t]
INNER JOIN [Questions] AS [q] ON [t].[QuestionId] = [q].[Id]
WHERE [t].[TestId] = @__testId_0
2025-02-11 11:23:57.879 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 11:23:57.879 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI) in 40.7473ms
2025-02-11 11:23:57.879 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetQuestions (QuizMasterAPI)'
2025-02-11 11:23:57.879 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - 200 null application/json; charset=utf-8 69.6639ms
2025-02-11 11:36:38.569 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 11:36:38.641 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 11:36:38.746 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 11:36:38.862 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 11:36:38.940 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 11:36:38.940 +05:00 [INF] Hosting environment: Development
2025-02-11 11:36:38.940 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 11:36:39.034 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 180.8958ms
2025-02-11 11:36:39.036 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 11:36:39.047 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.6299ms
2025-02-11 11:36:39.089 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 11:36:39.118 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.8359ms
2025-02-11 11:36:39.153 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 11:36:39.177 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.0495ms
2025-02-11 11:36:55.893 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 11:36:55.900 +05:00 [INF] CORS policy execution successful.
2025-02-11 11:36:55.939 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 11:36:55.954 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 11:36:55.983 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 11:36:56.027 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 11:36:56.157 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 11:36:56.180 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 11:36:56.186 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 11:36:56.194 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 235.4303ms
2025-02-11 11:36:56.195 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 11:36:56.202 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 308.8586ms
2025-02-11 11:37:24.184 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - null null
2025-02-11 11:37:24.215 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 11:37:24.219 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:37:24.318 +05:00 [INF] Запрос вопросов для теста 11021
2025-02-11 11:37:24.318 +05:00 [INF] Получаем вопросы для теста 11021
2025-02-11 11:37:24.395 +05:00 [ERR] Ошибка при получении вопросов теста 11021
System.InvalidOperationException: Cannot apply the 'Include' operation with argument 'q => q.AnswerOptions'. Either the source is not a queryable of a known entity type or 'Include' has been applied after 'Select' method which projects a different entity type through navigation. Consider applying 'Include' before 'Select' method call.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TestRepository.GetTestQuestionsAsync(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TestRepository.cs:line 39
   at QuizMasterAPI.Services.TestService.GetTestQuestionsAsync(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 286
   at QuizMasterAPI.Controllers.TestsController.GetTestQuestions(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 208
2025-02-11 11:37:24.419 +05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-11 11:37:24.420 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 200.0152ms
2025-02-11 11:37:24.420 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 11:37:24.420 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - 500 null text/plain; charset=utf-8 235.8326ms
2025-02-11 11:37:49.413 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - null null
2025-02-11 11:37:49.416 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 11:37:49.417 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:37:49.427 +05:00 [INF] Запрос вопросов для теста 11021
2025-02-11 11:37:49.429 +05:00 [INF] Получаем вопросы для теста 11021
2025-02-11 11:37:49.473 +05:00 [ERR] Ошибка при получении вопросов теста 11021
System.InvalidOperationException: Cannot apply the 'Include' operation with argument 'q => q.AnswerOptions'. Either the source is not a queryable of a known entity type or 'Include' has been applied after 'Select' method which projects a different entity type through navigation. Consider applying 'Include' before 'Select' method call.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TestRepository.GetTestQuestionsAsync(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TestRepository.cs:line 39
   at QuizMasterAPI.Services.TestService.GetTestQuestionsAsync(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 286
   at QuizMasterAPI.Controllers.TestsController.GetTestQuestions(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 208
2025-02-11 11:37:49.475 +05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-11 11:37:49.476 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 59.0271ms
2025-02-11 11:37:49.476 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 11:37:49.476 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - 500 null text/plain; charset=utf-8 62.8017ms
2025-02-11 11:38:28.713 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11020/questions - null null
2025-02-11 11:38:28.714 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 11:38:28.714 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:38:28.722 +05:00 [INF] Запрос вопросов для теста 11020
2025-02-11 11:38:28.722 +05:00 [INF] Получаем вопросы для теста 11020
2025-02-11 11:38:28.768 +05:00 [ERR] Ошибка при получении вопросов теста 11020
System.InvalidOperationException: Cannot apply the 'Include' operation with argument 'q => q.AnswerOptions'. Either the source is not a queryable of a known entity type or 'Include' has been applied after 'Select' method which projects a different entity type through navigation. Consider applying 'Include' before 'Select' method call.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TestRepository.GetTestQuestionsAsync(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TestRepository.cs:line 39
   at QuizMasterAPI.Services.TestService.GetTestQuestionsAsync(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 286
   at QuizMasterAPI.Controllers.TestsController.GetTestQuestions(Int32 testId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 208
2025-02-11 11:38:28.769 +05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-11 11:38:28.769 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 54.8035ms
2025-02-11 11:38:28.769 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 11:38:28.770 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11020/questions - 500 null text/plain; charset=utf-8 56.2625ms
2025-02-11 11:39:42.709 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11021 - null null
2025-02-11 11:39:42.749 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI)'
2025-02-11 11:39:42.752 +05:00 [INF] Route matched with {action = "GetTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] GetTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:39:42.758 +05:00 [INF] Вход в GetTest(Id=11021)
2025-02-11 11:39:42.758 +05:00 [INF] GetTestByIdAsync(Id=11021)
2025-02-11 11:39:42.805 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 11:39:42.845 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 11:39:42.917 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 11:39:42.930 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI) in 177.6642ms
2025-02-11 11:39:42.930 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI)'
2025-02-11 11:39:42.930 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11021 - 200 null application/json; charset=utf-8 221.4057ms
2025-02-11 11:48:58.493 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 11:48:58.564 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 11:48:58.661 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 11:48:58.790 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 11:48:58.867 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 11:48:58.867 +05:00 [INF] Hosting environment: Development
2025-02-11 11:48:58.867 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 11:48:58.964 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 183.7514ms
2025-02-11 11:48:58.975 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 11:48:58.986 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.4517ms
2025-02-11 11:48:59.024 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 11:48:59.059 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.4104ms
2025-02-11 11:48:59.098 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 11:48:59.126 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.884ms
2025-02-11 11:49:20.866 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 11:49:20.885 +05:00 [INF] CORS policy execution successful.
2025-02-11 11:49:20.926 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 11:49:20.943 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 11:49:20.972 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 11:49:21.017 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 11:49:21.146 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 11:49:21.167 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 11:49:21.173 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 11:49:21.181 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 234.633ms
2025-02-11 11:49:21.182 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 11:49:21.185 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 319.5649ms
2025-02-11 11:49:55.979 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - null null
2025-02-11 11:49:56.015 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 11:49:56.020 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:49:56.113 +05:00 [INF] Запрос вопросов для теста 11021
2025-02-11 11:49:56.114 +05:00 [INF] Получаем вопросы для теста 11021
2025-02-11 11:49:56.171 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 11:49:56.207 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-11 11:49:56.277 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 11:49:56.283 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 262.1299ms
2025-02-11 11:49:56.283 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 11:49:56.283 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - 200 null application/json; charset=utf-8 304.1659ms
2025-02-11 11:50:13.137 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11021 - null null
2025-02-11 11:50:13.143 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI)'
2025-02-11 11:50:13.146 +05:00 [INF] Route matched with {action = "GetTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] GetTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 11:50:13.153 +05:00 [INF] Вход в GetTest(Id=11021)
2025-02-11 11:50:13.154 +05:00 [INF] GetTestByIdAsync(Id=11021)
2025-02-11 11:50:13.164 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 11:50:13.197 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 11:50:13.215 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 11:50:13.222 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI) in 75.6132ms
2025-02-11 11:50:13.222 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI)'
2025-02-11 11:50:13.223 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11021 - 200 null application/json; charset=utf-8 86.1336ms
2025-02-11 12:12:48.965 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 12:12:49.036 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 12:12:49.145 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 12:12:49.269 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 12:12:49.346 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 12:12:49.346 +05:00 [INF] Hosting environment: Development
2025-02-11 12:12:49.346 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 12:12:49.439 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 179.5099ms
2025-02-11 12:12:49.440 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 12:12:49.451 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.3345ms
2025-02-11 12:12:49.498 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 12:12:49.524 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.0135ms
2025-02-11 12:12:49.561 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 12:12:49.585 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.1496ms
2025-02-11 12:13:17.324 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 12:13:17.340 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:13:17.378 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 12:13:17.394 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 12:13:17.422 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 12:13:17.466 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 12:13:17.595 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 12:13:17.614 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 12:13:17.619 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 12:13:17.626 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 228.4513ms
2025-02-11 12:13:17.626 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 12:13:17.630 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 306.351ms
2025-02-11 12:14:48.675 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T5&countOfQuestions=3&topicId=1&isPrivate=false&isRandom=true&testType=QuestionsOnly - null 0
2025-02-11 12:14:48.685 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:14:48.748 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 12:14:48.753 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 12:14:48.840 +05:00 [INF] CreateTemplate: T5, count=3, topic=1, isPrivate=false, isRandom=true, testType=QuestionsOnly
2025-02-11 12:14:48.867 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 12:14:48.885 +05:00 [INF] CreateTemplateAsync(Name=T5, isPrivate=false, isRandom=true, testType="QuestionsOnly")
2025-02-11 12:14:48.995 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 12:14:49.025 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 12:14:49.034 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 281.4593ms
2025-02-11 12:14:49.035 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 12:14:49.035 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T5&countOfQuestions=3&topicId=1&isPrivate=false&isRandom=true&testType=QuestionsOnly - 200 null application/json; charset=utf-8 360.0021ms
2025-02-11 12:15:01.467 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11022 - null null
2025-02-11 12:15:01.471 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI)'
2025-02-11 12:15:01.474 +05:00 [INF] Route matched with {action = "GetTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] GetTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 12:15:01.476 +05:00 [INF] Вход в GetTest(Id=11022)
2025-02-11 12:15:01.477 +05:00 [INF] GetTestByIdAsync(Id=11022)
2025-02-11 12:15:01.519 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 12:15:01.559 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:15:01.569 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 12:15:01.570 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI) in 95.6551ms
2025-02-11 12:15:01.570 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTest (QuizMasterAPI)'
2025-02-11 12:15:01.570 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11022 - 200 null application/json; charset=utf-8 103.6495ms
2025-02-11 12:15:16.506 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11022 - null 0
2025-02-11 12:15:16.507 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:15:16.509 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:15:16.515 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 12:15:16.520 +05:00 [INF] Вход в StartTest(TestId=11022)
2025-02-11 12:15:16.523 +05:00 [INF] Старт теста 11022 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 12:15:16.527 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:15:16.578 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-11 12:15:16.627 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 12:15:16.651 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 12:15:16.660 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 12:15:16.689 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 12:15:16.697 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 12:15:16.700 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 184.9702ms
2025-02-11 12:15:16.700 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:15:16.701 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11022 - 200 null application/json; charset=utf-8 194.577ms
2025-02-11 12:15:29.327 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11022 - null 0
2025-02-11 12:15:29.328 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:15:29.328 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:15:29.328 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 12:15:29.330 +05:00 [INF] Вход в StartTest(TestId=11022)
2025-02-11 12:15:29.330 +05:00 [INF] Старт теста 11022 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 12:15:29.336 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:15:29.341 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-11 12:15:29.356 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 12:15:29.361 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 12:15:29.366 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 12:15:29.367 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 12:15:29.367 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 38.4896ms
2025-02-11 12:15:29.367 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:15:29.367 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11022 - 200 null application/json; charset=utf-8 40.7702ms
2025-02-11 12:15:44.572 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11022 - null 0
2025-02-11 12:15:44.572 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:15:44.572 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:15:44.573 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 12:15:44.576 +05:00 [INF] Вход в StartTest(TestId=11022)
2025-02-11 12:15:44.576 +05:00 [INF] Старт теста 11022 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 12:15:44.590 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:15:44.595 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-11 12:15:44.610 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 12:15:44.616 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 12:15:44.621 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 12:15:44.621 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 12:15:44.622 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 49.0888ms
2025-02-11 12:15:44.622 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:15:44.622 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11022 - 200 null application/json; charset=utf-8 50.6173ms
2025-02-11 12:16:14.636 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - null null
2025-02-11 12:16:14.637 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 12:16:14.639 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 12:16:14.642 +05:00 [INF] Запрос вопросов для теста 11021
2025-02-11 12:16:14.643 +05:00 [INF] Получаем вопросы для теста 11021
2025-02-11 12:16:14.648 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 12:16:14.675 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-11 12:16:14.687 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 12:16:14.689 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 49.6679ms
2025-02-11 12:16:14.689 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 12:16:14.689 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11021/questions - 200 null application/json; charset=utf-8 53.0888ms
2025-02-11 12:16:51.494 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11021 - null 0
2025-02-11 12:16:51.494 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:16:51.495 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:16:51.495 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 12:16:51.496 +05:00 [INF] Вход в StartTest(TestId=11021)
2025-02-11 12:16:51.496 +05:00 [INF] Старт теста 11021 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 12:16:51.503 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:16:51.513 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 12:16:51.518 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 12:16:51.524 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 12:16:51.525 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 12:16:51.526 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 30.7217ms
2025-02-11 12:16:51.526 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:16:51.526 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11021 - 200 null application/json; charset=utf-8 32.0077ms
2025-02-11 12:22:52.731 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T6&countOfQuestions=2&topicId=1&isPrivate=false&isRandom=false&testType=QuestionsOnly - null 0
2025-02-11 12:22:52.732 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:22:52.733 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 12:22:52.733 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 12:22:52.742 +05:00 [INF] CreateTemplate: T6, count=2, topic=1, isPrivate=false, isRandom=false, testType=QuestionsOnly
2025-02-11 12:22:52.753 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 12:22:52.754 +05:00 [INF] CreateTemplateAsync(Name=T6, isPrivate=false, isRandom=false, testType="QuestionsOnly")
2025-02-11 12:22:52.757 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 12:22:52.757 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 12:22:52.757 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 24.096ms
2025-02-11 12:22:52.757 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 12:22:52.758 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T6&countOfQuestions=2&topicId=1&isPrivate=false&isRandom=false&testType=QuestionsOnly - 200 null application/json; charset=utf-8 26.609ms
2025-02-11 12:23:20.710 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11023/questions/1001 - null 0
2025-02-11 12:23:20.711 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:23:20.711 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 12:23:20.713 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 12:23:20.715 +05:00 [INF] Добавляем вопрос 1001 в тест 11023
2025-02-11 12:23:20.716 +05:00 [INF] Добавляем вопрос 1001 в тест 11023
2025-02-11 12:23:20.723 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:23:20.734 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 12:23:20.750 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 12:23:20.753 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:23:20.756 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 12:23:20.758 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 44.2818ms
2025-02-11 12:23:20.758 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 12:23:20.758 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11023/questions/1001 - 200 null application/json; charset=utf-8 47.9977ms
2025-02-11 12:23:27.699 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11023/questions/1002 - null 0
2025-02-11 12:23:27.700 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:23:27.700 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 12:23:27.700 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 12:23:27.701 +05:00 [INF] Добавляем вопрос 1002 в тест 11023
2025-02-11 12:23:27.701 +05:00 [INF] Добавляем вопрос 1002 в тест 11023
2025-02-11 12:23:27.717 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:23:27.743 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 12:23:27.745 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 12:23:27.746 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:23:27.747 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 12:23:27.747 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 46.6505ms
2025-02-11 12:23:27.747 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 12:23:27.747 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11023/questions/1002 - 200 null application/json; charset=utf-8 48.0393ms
2025-02-11 12:23:57.105 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11023 - null 0
2025-02-11 12:23:57.106 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:23:57.106 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:23:57.106 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 12:23:57.133 +05:00 [INF] Вход в StartTest(TestId=11023)
2025-02-11 12:23:57.134 +05:00 [INF] Старт теста 11023 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 12:23:57.137 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 12:23:57.179 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 12:23:57.185 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 12:23:57.189 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 12:23:57.189 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 12:23:57.190 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 83.5905ms
2025-02-11 12:23:57.190 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 12:23:57.190 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11023 - 200 null application/json; charset=utf-8 85.1809ms
2025-02-11 12:26:40.253 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/12019/save - application/json 186
2025-02-11 12:26:40.254 +05:00 [INF] CORS policy execution successful.
2025-02-11 12:26:40.254 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 12:26:40.258 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 12:26:40.273 +05:00 [INF] SaveAnswers(UserTestId=12019), Count=2
2025-02-11 12:26:40.274 +05:00 [INF] SaveAnswersAsync(UserTestId=12019, CountAnswers=2)
2025-02-11 12:26:40.283 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 12:26:40.348 +05:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 12:26:40.366 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 12:26:40.368 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 12:26:40.369 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 110.8404ms
2025-02-11 12:26:40.369 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 12:26:40.369 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/12019/save - 200 null application/json; charset=utf-8 117.2384ms
2025-02-11 12:26:54.925 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/12019/check - null null
2025-02-11 12:26:54.926 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 12:26:54.928 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 12:26:54.936 +05:00 [INF] CheckAnswers(UserTestId=12019)
2025-02-11 12:26:54.940 +05:00 [INF] CheckAnswersAsync(UserTestId=12019)
2025-02-11 12:26:54.944 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 12:26:54.989 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-11 12:26:54.993 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-11 12:26:54.995 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 67.2086ms
2025-02-11 12:26:54.995 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 12:26:54.996 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/12019/check - 200 null application/json; charset=utf-8 70.9884ms
2025-02-11 14:28:28.904 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 14:28:28.979 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 14:28:29.077 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 14:28:29.195 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 14:28:29.271 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 14:28:29.271 +05:00 [INF] Hosting environment: Development
2025-02-11 14:28:29.271 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 14:28:29.382 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 196.5431ms
2025-02-11 14:28:29.384 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 14:28:29.395 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.9344ms
2025-02-11 14:28:29.443 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 14:28:29.469 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7255ms
2025-02-11 14:28:29.508 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 14:28:29.534 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.3501ms
2025-02-11 14:28:50.241 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 14:28:50.261 +05:00 [INF] CORS policy execution successful.
2025-02-11 14:28:50.300 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 14:28:50.316 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 14:28:50.347 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 14:28:50.395 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 14:28:50.522 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 14:28:50.540 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 14:28:50.545 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 14:28:50.551 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 232.0824ms
2025-02-11 14:28:50.552 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 14:28:50.556 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 314.7952ms
2025-02-11 14:29:33.320 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions/check-answer - application/json 105
2025-02-11 14:29:33.329 +05:00 [INF] CORS policy execution successful.
2025-02-11 14:29:33.363 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CheckAnswers (QuizMasterAPI)'
2025-02-11 14:29:33.367 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.AnswerValidationResponseDto]] CheckAnswers(System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.CheckAnswerDto]) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:29:33.453 +05:00 [INF] Проверка ответов для 1 вопросов
2025-02-11 14:29:33.455 +05:00 [INF] CheckAnswers для 1 вопросов
2025-02-11 14:29:33.541 +05:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-11 14:29:33.557 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:29:33.610 +05:00 [ERR] Ошибка в CheckAnswers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.QuestionRepository.GetQuestionsWithAnswersByIdsAsync(List`1 questionIds) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\QuestionRepository.cs:line 35
   at QuizMasterAPI.Services.QuestionService.CheckAnswers(List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 174
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:29:33.656 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CheckAnswers (QuizMasterAPI) in 288.044ms
2025-02-11 14:29:33.656 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CheckAnswers (QuizMasterAPI)'
2025-02-11 14:29:33.702 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.QuestionRepository.GetQuestionsWithAnswersByIdsAsync(List`1 questionIds) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\QuestionRepository.cs:line 35
   at QuizMasterAPI.Services.QuestionService.CheckAnswers(List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 174
   at QuizMasterAPI.Controllers.QuestionsController.CheckAnswers(List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 146
   at lambda_method203(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:29:33.711 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions/check-answer - 500 null application/json 390.9802ms
2025-02-11 14:29:48.219 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions/check-answer - application/json 107
2025-02-11 14:29:48.221 +05:00 [INF] CORS policy execution successful.
2025-02-11 14:29:48.223 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CheckAnswers (QuizMasterAPI)'
2025-02-11 14:29:48.224 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.AnswerValidationResponseDto]] CheckAnswers(System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.CheckAnswerDto]) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:29:48.226 +05:00 [INF] Проверка ответов для 1 вопросов
2025-02-11 14:29:48.227 +05:00 [INF] CheckAnswers для 1 вопросов
2025-02-11 14:29:48.233 +05:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-11 14:29:48.235 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:29:48.272 +05:00 [ERR] Ошибка в CheckAnswers
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.QuestionRepository.GetQuestionsWithAnswersByIdsAsync(List`1 questionIds) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\QuestionRepository.cs:line 35
   at QuizMasterAPI.Services.QuestionService.CheckAnswers(List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 174
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:29:48.313 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CheckAnswers (QuizMasterAPI) in 88.7446ms
2025-02-11 14:29:48.313 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CheckAnswers (QuizMasterAPI)'
2025-02-11 14:29:48.345 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.QuestionRepository.GetQuestionsWithAnswersByIdsAsync(List`1 questionIds) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\QuestionRepository.cs:line 35
   at QuizMasterAPI.Services.QuestionService.CheckAnswers(List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 174
   at QuizMasterAPI.Controllers.QuestionsController.CheckAnswers(List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 146
   at lambda_method203(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:29:48.352 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions/check-answer - 500 null application/json 133.6827ms
2025-02-11 14:30:08.716 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-11 14:30:08.723 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 14:30:08.730 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:30:08.741 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-11 14:30:08.742 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-11 14:30:08.759 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-11 14:30:08.796 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-11 14:30:08.797 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:30:08.832 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 251
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:30:08.851 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 120.894ms
2025-02-11 14:30:08.851 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 14:30:08.882 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 251
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method260(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:3a5b5c97-d7ff-4808-9561-9cfc1660e2c2
Error Number:207,State:1,Class:16
2025-02-11 14:30:08.888 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 500 null application/json 171.7678ms
2025-02-11 14:46:54.785 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-11 14:46:54.790 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 14:46:54.792 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:46:54.798 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-11 14:46:54.798 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-11 14:46:54.808 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-11 14:46:54.810 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-11 14:46:54.812 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:30cceecf-0afc-46b1-9dce-981b3380cd0e
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:30cceecf-0afc-46b1-9dce-981b3380cd0e
Error Number:207,State:1,Class:16
2025-02-11 14:46:54.846 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 251
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:30cceecf-0afc-46b1-9dce-981b3380cd0e
Error Number:207,State:1,Class:16
2025-02-11 14:46:54.864 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 71.4276ms
2025-02-11 14:46:54.865 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 14:46:54.893 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 251
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method260(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:30cceecf-0afc-46b1-9dce-981b3380cd0e
Error Number:207,State:1,Class:16
2025-02-11 14:46:54.897 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 500 null application/json 114.4292ms
2025-02-11 14:49:05.984 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 14:49:06.062 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 14:49:06.161 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 14:49:06.282 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 14:49:06.350 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 14:49:06.350 +05:00 [INF] Hosting environment: Development
2025-02-11 14:49:06.350 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 14:49:06.448 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 175.5611ms
2025-02-11 14:49:06.461 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 14:49:06.472 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.0511ms
2025-02-11 14:49:06.508 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 14:49:06.534 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1919ms
2025-02-11 14:49:06.574 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 14:49:06.603 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.8315ms
2025-02-11 14:49:11.601 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-11 14:49:11.666 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-11 14:49:11.669 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-11 14:49:11.671 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 401 null null 70.3006ms
2025-02-11 14:49:31.299 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 14:49:31.302 +05:00 [INF] CORS policy execution successful.
2025-02-11 14:49:31.306 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 14:49:31.324 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 14:49:31.356 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 14:49:31.402 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 14:49:31.526 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 14:49:31.544 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 14:49:31.548 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 14:49:31.554 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 226.3452ms
2025-02-11 14:49:31.555 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 14:49:31.558 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 259.3209ms
2025-02-11 14:50:00.916 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-11 14:50:00.964 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 14:50:00.969 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:50:01.063 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-11 14:50:01.065 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-11 14:50:01.099 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-11 14:50:01.183 +05:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-11 14:50:01.201 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:df5ad9f7-f6a3-4b26-aeb5-20288bae2e0f
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:df5ad9f7-f6a3-4b26-aeb5-20288bae2e0f
Error Number:207,State:1,Class:16
2025-02-11 14:50:01.256 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 251
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:df5ad9f7-f6a3-4b26-aeb5-20288bae2e0f
Error Number:207,State:1,Class:16
2025-02-11 14:50:01.290 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 320.4472ms
2025-02-11 14:50:01.290 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 14:50:01.337 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectTextAnswer'.
Invalid column name 'QuestionType'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 251
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method203(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:df5ad9f7-f6a3-4b26-aeb5-20288bae2e0f
Error Number:207,State:1,Class:16
2025-02-11 14:50:01.349 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 500 null application/json 433.6272ms
2025-02-11 14:50:59.227 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-11 14:50:59.252 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-11 14:50:59.283 +05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-11 14:50:59.330 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-11 14:50:59.344 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-11 14:50:59.351 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-11 14:50:59.358 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-11 14:50:59.366 +05:00 [INF] Applying migration '20250211095043_AddQuestionTypeAndTextAnswer'.
2025-02-11 14:50:59.391 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Questions] ADD [CorrectTextAnswer] nvarchar(max) NULL;
2025-02-11 14:50:59.401 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Questions] ADD [QuestionType] int NOT NULL DEFAULT 0;
2025-02-11 14:50:59.407 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250211095043_AddQuestionTypeAndTextAnswer', N'9.0.1');
2025-02-11 14:50:59.418 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-11 14:51:12.948 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 14:51:13.018 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 14:51:13.109 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 14:51:13.228 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 14:51:13.301 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 14:51:13.301 +05:00 [INF] Hosting environment: Development
2025-02-11 14:51:13.301 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 14:51:13.391 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 14:51:13.390 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 173.4885ms
2025-02-11 14:51:13.404 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.3141ms
2025-02-11 14:51:13.451 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 14:51:13.483 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.427ms
2025-02-11 14:51:13.523 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 14:51:13.547 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.759ms
2025-02-11 14:51:29.142 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 14:51:29.151 +05:00 [INF] CORS policy execution successful.
2025-02-11 14:51:29.187 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 14:51:29.202 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 14:51:29.231 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 14:51:29.276 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 14:51:29.400 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 14:51:29.419 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 14:51:29.423 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 14:51:29.429 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 223.8008ms
2025-02-11 14:51:29.430 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 14:51:29.433 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 291.3143ms
2025-02-11 14:51:49.584 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-11 14:51:49.619 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 14:51:49.623 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:51:49.723 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-11 14:51:49.724 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-11 14:51:49.755 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-11 14:51:49.824 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-11 14:51:49.878 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 14:51:49.885 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 261.8394ms
2025-02-11 14:51:49.885 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 14:51:49.885 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 200 null application/json; charset=utf-8 301.1648ms
2025-02-11 14:54:28.599 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions - application/json 339
2025-02-11 14:54:28.600 +05:00 [INF] CORS policy execution successful.
2025-02-11 14:54:28.609 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 14:54:28.611 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:54:28.642 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-11 14:54:28.660 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 48.8257ms
2025-02-11 14:54:28.661 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 14:54:28.661 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions - 400 null application/problem+json; charset=utf-8 61.5962ms
2025-02-11 14:55:15.828 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions - application/json 339
2025-02-11 14:55:15.828 +05:00 [INF] CORS policy execution successful.
2025-02-11 14:55:15.830 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 14:55:15.830 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:55:15.834 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-11 14:55:15.835 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 5.0359ms
2025-02-11 14:55:15.835 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 14:55:15.835 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions - 400 null application/problem+json; charset=utf-8 7.6629ms
2025-02-11 14:59:33.545 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions - application/json 298
2025-02-11 14:59:33.551 +05:00 [INF] CORS policy execution successful.
2025-02-11 14:59:33.552 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 14:59:33.552 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 14:59:33.568 +05:00 [INF] Вход в CreateQuestion для 6/6
2025-02-11 14:59:33.569 +05:00 [INF] CreateQuestion(Text=6/6)
2025-02-11 14:59:33.692 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-11 14:59:33.716 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1),
(@p10, @p11, @p12, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 14:59:33.744 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-11 14:59:33.768 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 215.8583ms
2025-02-11 14:59:33.768 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 14:59:33.768 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions - 201 null application/json; charset=utf-8 224.1844ms
2025-02-11 15:01:08.091 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions/11005 - null null
2025-02-11 15:01:08.099 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetQuestion (QuizMasterAPI)'
2025-02-11 15:01:08.101 +05:00 [INF] Route matched with {action = "GetQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.QuestionDto]] GetQuestion(Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 15:01:08.103 +05:00 [INF] Вход в GetQuestion(Id=11005)
2025-02-11 15:01:08.104 +05:00 [INF] GetQuestion(Id=11005)
2025-02-11 15:01:08.127 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id0], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name]
FROM (
    SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id] AS [Id0], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
    FROM [Questions] AS [q]
    LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
    WHERE [q].[Id] = @__id_0
) AS [s]
LEFT JOIN [AnswerOptions] AS [a] ON [s].[Id] = [a].[QuestionId]
ORDER BY [s].[Id], [s].[Id0]
2025-02-11 15:01:08.129 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.QuestionDto'.
2025-02-11 15:01:08.130 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetQuestion (QuizMasterAPI) in 28.3132ms
2025-02-11 15:01:08.130 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetQuestion (QuizMasterAPI)'
2025-02-11 15:01:08.130 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions/11005 - 200 null application/json; charset=utf-8 41.5147ms
2025-02-11 15:09:26.223 +05:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 15:09:26.319 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 15:09:26.440 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 15:09:26.574 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 15:09:26.653 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 15:09:26.653 +05:00 [INF] Hosting environment: Development
2025-02-11 15:09:26.653 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 15:09:26.768 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 204.9682ms
2025-02-11 15:09:26.826 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 15:09:26.826 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 15:09:26.833 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.562ms
2025-02-11 15:09:26.856 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.9029ms
2025-02-11 15:09:26.903 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 15:09:26.927 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.2002ms
2025-02-11 15:10:05.275 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-11 15:10:05.370 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 15:10:05.392 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 15:10:05.522 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-11 15:10:05.523 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-11 15:10:05.557 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-11 15:10:05.649 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-11 15:10:05.714 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 15:10:05.726 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 330.5954ms
2025-02-11 15:10:05.727 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 15:10:05.733 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 200 null application/json; charset=utf-8 458.885ms
2025-02-11 15:10:41.372 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions/1001 - null null
2025-02-11 15:10:41.386 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetQuestion (QuizMasterAPI)'
2025-02-11 15:10:41.390 +05:00 [INF] Route matched with {action = "GetQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.QuestionDto]] GetQuestion(Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 15:10:41.404 +05:00 [INF] Вход в GetQuestion(Id=1001)
2025-02-11 15:10:41.405 +05:00 [INF] GetQuestion(Id=1001)
2025-02-11 15:10:41.434 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id0], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name]
FROM (
    SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [t].[Id] AS [Id0], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
    FROM [Questions] AS [q]
    LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
    WHERE [q].[Id] = @__id_0
) AS [s]
LEFT JOIN [AnswerOptions] AS [a] ON [s].[Id] = [a].[QuestionId]
ORDER BY [s].[Id], [s].[Id0]
2025-02-11 15:10:41.437 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.QuestionDto'.
2025-02-11 15:10:41.437 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetQuestion (QuizMasterAPI) in 46.915ms
2025-02-11 15:10:41.437 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetQuestion (QuizMasterAPI)'
2025-02-11 15:10:41.438 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions/1001 - 200 null application/json; charset=utf-8 65.5231ms
2025-02-11 15:13:11.612 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T7&countOfQuestions=2&topicId=1&isPrivate=false&isRandom=false&testType=QuestionsOnly - null 0
2025-02-11 15:13:11.616 +05:00 [INF] CORS policy execution successful.
2025-02-11 15:13:11.619 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 15:13:11.622 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 15:13:11.632 +05:00 [INF] CreateTemplate: T7, count=2, topic=1, isPrivate=false, isRandom=false, testType=QuestionsOnly
2025-02-11 15:13:11.647 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 15:13:11.705 +05:00 [INF] CreateTemplateAsync(Name=T7, isPrivate=false, isRandom=false, testType="QuestionsOnly")
2025-02-11 15:13:11.814 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 15:13:11.836 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 15:13:11.843 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 220.7129ms
2025-02-11 15:13:11.843 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 15:13:11.843 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T7&countOfQuestions=2&topicId=1&isPrivate=false&isRandom=false&testType=QuestionsOnly - 200 null application/json; charset=utf-8 232.7053ms
2025-02-11 15:13:33.306 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11024/questions/1001 - null 0
2025-02-11 15:13:33.307 +05:00 [INF] CORS policy execution successful.
2025-02-11 15:13:33.308 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 15:13:33.310 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 15:13:33.316 +05:00 [INF] Добавляем вопрос 1001 в тест 11024
2025-02-11 15:13:33.317 +05:00 [INF] Добавляем вопрос 1001 в тест 11024
2025-02-11 15:13:33.328 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 15:13:33.364 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 15:13:33.378 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 15:13:33.391 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 15:13:33.394 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 15:13:33.398 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 15:13:33.399 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 88.7637ms
2025-02-11 15:13:33.399 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 15:13:33.399 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11024/questions/1001 - 200 null application/json; charset=utf-8 92.764ms
2025-02-11 15:14:37.906 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11024/questions/1002 - null 0
2025-02-11 15:14:37.906 +05:00 [INF] CORS policy execution successful.
2025-02-11 15:14:37.907 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 15:14:37.907 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 15:14:37.921 +05:00 [INF] Добавляем вопрос 1002 в тест 11024
2025-02-11 15:14:37.922 +05:00 [INF] Добавляем вопрос 1002 в тест 11024
2025-02-11 15:14:37.928 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 15:14:37.931 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 15:14:37.953 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 15:14:37.955 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 15:14:37.956 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 15:14:37.956 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 49.7041ms
2025-02-11 15:14:37.957 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 15:14:37.957 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11024/questions/1002 - 200 null application/json; charset=utf-8 51.255ms
2025-02-11 15:15:00.081 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Tests/11024/questions - null null
2025-02-11 15:15:00.082 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 15:15:00.084 +05:00 [INF] Route matched with {action = "GetTestQuestions", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetTestQuestions(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 15:15:00.086 +05:00 [INF] Запрос вопросов для теста 11024
2025-02-11 15:15:00.086 +05:00 [INF] Получаем вопросы для теста 11024
2025-02-11 15:15:00.092 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 15:15:00.120 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsRandom], [t1].[Name], [t1].[TestType], [t1].[TopicId], [s].[Id], [s].[QuestionId], [s].[TestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[Id] = @__testId_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[Id], [t0].[QuestionId], [t0].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t0]
    INNER JOIN [Questions] AS [q] ON [t0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [t1].[Id] = [s].[TestId]
ORDER BY [t1].[Id], [s].[Id], [s].[Id0]
2025-02-11 15:15:00.133 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 15:15:00.134 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI) in 49.4541ms
2025-02-11 15:15:00.134 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetTestQuestions (QuizMasterAPI)'
2025-02-11 15:15:00.134 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Tests/11024/questions - 200 null application/json; charset=utf-8 53.3414ms
2025-02-11 15:15:28.928 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11024 - null 0
2025-02-11 15:15:28.929 +05:00 [INF] CORS policy execution successful.
2025-02-11 15:15:28.931 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 15:15:28.937 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 15:15:28.941 +05:00 [INF] Вход в StartTest(TestId=11024)
2025-02-11 15:15:28.942 +05:00 [INF] Старт теста 11024 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 15:15:28.950 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 15:15:28.970 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 15:15:28.989 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 15:15:28.997 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 15:15:29.025 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 15:15:29.033 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 15:15:29.035 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 97.8923ms
2025-02-11 15:15:29.035 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 15:15:29.035 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11024 - 200 null application/json; charset=utf-8 107.5211ms
2025-02-11 15:29:37.718 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/12020/save - application/json 244
2025-02-11 15:29:37.719 +05:00 [INF] CORS policy execution successful.
2025-02-11 15:29:37.722 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 15:29:37.726 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 15:29:37.752 +05:00 [INF] SaveAnswers(UserTestId=12020), Count=2
2025-02-11 15:29:37.753 +05:00 [INF] SaveAnswersAsync(UserTestId=12020, CountAnswers=2)
2025-02-11 15:29:37.761 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 15:29:37.812 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 15:29:37.840 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 15:29:37.843 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 15:29:37.845 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 118.4973ms
2025-02-11 15:29:37.845 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 15:29:37.845 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/12020/save - 200 null application/json; charset=utf-8 127.5159ms
2025-02-11 15:29:53.812 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/12020/check - null null
2025-02-11 15:29:53.813 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 15:29:53.816 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 15:29:53.817 +05:00 [INF] CheckAnswers(UserTestId=12020)
2025-02-11 15:29:53.820 +05:00 [INF] CheckAnswersAsync(UserTestId=12020)
2025-02-11 15:29:53.823 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 15:29:53.856 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-11 15:29:53.858 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 42.6561ms
2025-02-11 15:29:53.858 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 15:29:53.859 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/12020/check - 200 null application/json; charset=utf-8 46.3701ms
2025-02-11 15:55:28.067 +05:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 15:55:28.142 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 15:55:28.258 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 15:55:28.393 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 15:55:28.515 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 15:55:28.515 +05:00 [INF] Hosting environment: Development
2025-02-11 15:55:28.515 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 15:55:28.632 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 247.6775ms
2025-02-11 15:55:28.634 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 15:55:28.666 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.3339ms
2025-02-11 15:55:28.700 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 15:55:28.734 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.3888ms
2025-02-11 15:55:28.771 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 15:55:28.799 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.6957ms
2025-02-11 15:55:55.872 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 15:55:55.890 +05:00 [INF] CORS policy execution successful.
2025-02-11 15:55:55.929 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 15:55:55.946 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 15:55:55.976 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 15:55:56.024 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 15:55:56.159 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 15:55:56.179 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 15:55:56.184 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 15:55:56.191 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 242.2709ms
2025-02-11 15:55:56.192 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 15:55:56.196 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 324.5391ms
2025-02-11 15:56:53.873 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11024 - null 0
2025-02-11 15:56:53.876 +05:00 [INF] CORS policy execution successful.
2025-02-11 15:56:53.912 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 15:56:53.916 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 15:56:54.007 +05:00 [INF] Вход в StartTest(TestId=11024)
2025-02-11 15:56:54.008 +05:00 [INF] Старт теста 11024 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 15:56:54.070 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 15:56:54.121 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 15:56:54.315 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 15:56:54.357 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 15:56:54.369 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 15:56:54.402 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 15:56:54.418 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 15:56:54.425 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 508.4621ms
2025-02-11 15:56:54.425 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 15:56:54.427 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11024 - 200 null application/json; charset=utf-8 554.2111ms
2025-02-11 15:58:09.680 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/12020/check - null null
2025-02-11 15:58:09.688 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 15:58:09.690 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 15:58:09.693 +05:00 [INF] CheckAnswers(UserTestId=12020)
2025-02-11 15:58:09.694 +05:00 [INF] CheckAnswersAsync(UserTestId=12020)
2025-02-11 15:58:09.704 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 15:58:09.754 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 15:58:09.768 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-11 15:58:09.771 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 80.7948ms
2025-02-11 15:58:09.771 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 15:58:09.772 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/12020/check - 200 null application/json; charset=utf-8 120.3025ms
2025-02-11 16:00:01.574 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=10 - null null
2025-02-11 16:00:01.602 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-11 16:00:01.604 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 16:00:01.610 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=10
2025-02-11 16:00:01.627 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-11 16:00:01.645 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 16:00:01.707 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-11 16:00:01.730 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 16:00:01.736 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 131.9511ms
2025-02-11 16:00:01.737 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-11 16:00:01.737 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=10 - 200 null application/json; charset=utf-8 163.0312ms
2025-02-11 16:04:43.730 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 16:04:43.811 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 16:04:43.918 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 16:04:44.043 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 16:04:44.119 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 16:04:44.119 +05:00 [INF] Hosting environment: Development
2025-02-11 16:04:44.119 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 16:04:44.219 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 185.5442ms
2025-02-11 16:04:44.282 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 16:04:44.282 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 16:04:44.285 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.2692ms
2025-02-11 16:04:44.309 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0012ms
2025-02-11 16:04:44.351 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 16:04:44.377 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.2789ms
2025-02-11 16:05:02.485 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 16:05:02.496 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:05:02.543 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 16:05:02.558 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 16:05:02.587 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 16:05:02.633 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 16:05:02.760 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 16:05:02.780 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 16:05:02.785 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 16:05:02.792 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 229.7112ms
2025-02-11 16:05:02.792 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 16:05:02.796 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 311.225ms
2025-02-11 16:05:22.882 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-11 16:05:22.918 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 16:05:22.922 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 16:05:23.029 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-11 16:05:23.030 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-11 16:05:23.063 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-11 16:05:23.132 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectTextAnswer], [q0].[QuestionType], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-11 16:05:23.192 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-11 16:05:23.200 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 277.6011ms
2025-02-11 16:05:23.201 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-11 16:05:23.201 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 200 null application/json; charset=utf-8 319.6116ms
2025-02-11 16:05:51.161 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/12020 - null null
2025-02-11 16:05:51.172 +05:00 [INF] Executing endpoint 'UserTestsController.GetUserTest (QuizMasterAPI)'
2025-02-11 16:05:51.174 +05:00 [INF] Route matched with {action = "GetUserTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]] GetUserTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 16:05:51.177 +05:00 [INF] Вход в GetUserTest(Id=12020)
2025-02-11 16:05:51.196 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 16:05:51.263 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[DateRegistered], [s].[Email], [s].[EmailConfirmed], [s].[FullName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id2], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id] AS [Id1], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id2], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [UserTests] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 16:05:51.307 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestHistoryDto'.
2025-02-11 16:05:51.314 +05:00 [INF] Executed action UserTestsController.GetUserTest (QuizMasterAPI) in 139.5004ms
2025-02-11 16:05:51.314 +05:00 [INF] Executed endpoint 'UserTestsController.GetUserTest (QuizMasterAPI)'
2025-02-11 16:05:51.314 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/12020 - 200 null application/json; charset=utf-8 152.9856ms
2025-02-11 16:16:59.230 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/12020 - null 0
2025-02-11 16:16:59.233 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:16:59.235 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 16:16:59.238 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 16:16:59.246 +05:00 [INF] Вход в StartTest(TestId=12020)
2025-02-11 16:16:59.248 +05:00 [INF] Старт теста 12020 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 16:16:59.259 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 16:16:59.302 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 16:16:59.354 +05:00 [WRN] StartTest: не найден TestId=12020. Тест ID=12020 не найден.
2025-02-11 16:16:59.355 +05:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-11 16:16:59.356 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 118.0867ms
2025-02-11 16:16:59.356 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 16:16:59.356 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/12020 - 404 null text/plain; charset=utf-8 126.7262ms
2025-02-11 16:17:33.319 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11024 - null 0
2025-02-11 16:17:33.319 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:17:33.320 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 16:17:33.320 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 16:17:33.324 +05:00 [INF] Вход в StartTest(TestId=11024)
2025-02-11 16:17:33.324 +05:00 [INF] Старт теста 11024 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 16:17:33.332 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 16:17:33.458 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 16:17:33.493 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 16:17:33.500 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 16:17:33.527 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 16:17:33.535 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 16:17:33.537 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 217.3654ms
2025-02-11 16:17:33.537 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 16:17:33.537 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11024 - 200 null application/json; charset=utf-8 219.0257ms
2025-02-11 16:31:52.202 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 16:31:52.290 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 16:31:52.412 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 16:31:52.538 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 16:31:52.618 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 16:31:52.618 +05:00 [INF] Hosting environment: Development
2025-02-11 16:31:52.618 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 16:31:52.710 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 182.8528ms
2025-02-11 16:31:52.722 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 16:31:52.732 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.289ms
2025-02-11 16:31:52.773 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 16:31:52.801 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.9741ms
2025-02-11 16:31:52.841 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 16:31:52.868 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.8154ms
2025-02-11 16:32:12.940 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 16:32:12.962 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:32:13.004 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 16:32:13.022 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 16:32:13.056 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 16:32:13.105 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 16:32:13.258 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 16:32:13.284 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 16:32:13.291 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 16:32:13.298 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 271.6431ms
2025-02-11 16:32:13.298 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 16:32:13.304 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 363.2411ms
2025-02-11 16:32:53.055 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11024 - null 0
2025-02-11 16:32:53.062 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:32:53.096 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 16:32:53.111 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 16:32:53.216 +05:00 [INF] Вход в StartTest(TestId=11024)
2025-02-11 16:32:53.218 +05:00 [INF] Старт теста 11024 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 16:32:53.277 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 16:32:53.322 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 16:32:53.520 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 16:32:53.561 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 16:32:53.573 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 16:32:53.608 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 16:32:53.628 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 16:32:53.637 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 524.8849ms
2025-02-11 16:32:53.637 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 16:32:53.637 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11024 - 200 null application/json; charset=utf-8 582.6799ms
2025-02-11 16:54:18.943 +05:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 16:54:19.030 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 16:54:19.144 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 16:54:19.282 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 16:54:19.352 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 16:54:19.353 +05:00 [INF] Hosting environment: Development
2025-02-11 16:54:19.353 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 16:54:19.450 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 177.7025ms
2025-02-11 16:54:19.462 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 16:54:19.470 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.3674ms
2025-02-11 16:54:19.516 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 16:54:19.547 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.7533ms
2025-02-11 16:54:19.581 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 16:54:19.609 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.0531ms
2025-02-11 16:54:34.215 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 16:54:34.226 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:54:34.278 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 16:54:34.295 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 16:54:34.326 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 16:54:34.372 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 16:54:34.506 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 16:54:34.530 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 16:54:34.536 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 16:54:34.543 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 244.095ms
2025-02-11 16:54:34.544 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 16:54:34.548 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 332.9883ms
2025-02-11 16:56:21.958 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions - application/json 337
2025-02-11 16:56:22.019 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:56:22.058 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 16:56:22.061 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 16:56:22.172 +05:00 [INF] Вход в CreateQuestion для 7*7
2025-02-11 16:56:22.173 +05:00 [INF] CreateQuestion(Text=7*7)
2025-02-11 16:56:22.309 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-11 16:56:22.335 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1),
(@p10, @p11, @p12, 2),
(@p13, @p14, @p15, 3)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 16:56:22.352 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-11 16:56:22.370 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 308.244ms
2025-02-11 16:56:22.370 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 16:56:22.370 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions - 201 null application/json; charset=utf-8 413.5637ms
2025-02-11 16:58:09.372 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions - application/json 337
2025-02-11 16:58:09.374 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:58:09.381 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 16:58:09.381 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 16:58:09.384 +05:00 [INF] Вход в CreateQuestion для математика для меня?
2025-02-11 16:58:09.384 +05:00 [INF] CreateQuestion(Text=математика для меня?)
2025-02-11 16:58:09.388 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-11 16:58:09.392 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p4, @p5, @p6, 0),
(@p7, @p8, @p9, 1),
(@p10, @p11, @p12, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 16:58:09.404 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-11 16:58:09.405 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 23.0054ms
2025-02-11 16:58:09.405 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 16:58:09.405 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions - 201 null application/json; charset=utf-8 64.3823ms
2025-02-11 16:59:48.048 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions - application/json 87
2025-02-11 16:59:48.078 +05:00 [INF] CORS policy execution successful.
2025-02-11 16:59:48.080 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 16:59:48.080 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 16:59:48.087 +05:00 [INF] Вход в CreateQuestion для 12-10?
2025-02-11 16:59:48.087 +05:00 [INF] CreateQuestion(Text=12-10?)
2025-02-11 16:59:48.101 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-11 16:59:48.102 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-11 16:59:48.103 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 22.7543ms
2025-02-11 16:59:48.103 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 16:59:48.103 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions - 201 null application/json; charset=utf-8 82.0761ms
2025-02-11 17:04:59.506 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T8&countOfQuestions=4&topicId=1&isPrivate=false&isRandom=false&testType=Mixed - null 0
2025-02-11 17:04:59.507 +05:00 [INF] CORS policy execution successful.
2025-02-11 17:04:59.507 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 17:04:59.512 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 17:04:59.523 +05:00 [INF] CreateTemplate: T8, count=4, topic=1, isPrivate=false, isRandom=false, testType=Mixed
2025-02-11 17:04:59.554 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 17:04:59.563 +05:00 [INF] CreateTemplateAsync(Name=T8, isPrivate=false, isRandom=false, testType="Mixed")
2025-02-11 17:04:59.598 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 17:04:59.605 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 17:04:59.612 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 100.3639ms
2025-02-11 17:04:59.612 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 17:04:59.612 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=T8&countOfQuestions=4&topicId=1&isPrivate=false&isRandom=false&testType=Mixed - 200 null application/json; charset=utf-8 106.8916ms
2025-02-11 17:06:45.509 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11025/questions/1001 - null 0
2025-02-11 17:06:45.543 +05:00 [INF] CORS policy execution successful.
2025-02-11 17:06:45.544 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 17:06:45.547 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 17:06:45.553 +05:00 [INF] Добавляем вопрос 1001 в тест 11025
2025-02-11 17:06:45.554 +05:00 [INF] Добавляем вопрос 1001 в тест 11025
2025-02-11 17:06:45.595 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 17:06:45.639 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:06:45.654 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 17:06:45.674 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 17:06:45.678 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:06:45.686 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 17:06:45.689 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 141.9834ms
2025-02-11 17:06:45.689 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 17:06:45.689 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11025/questions/1001 - 200 null application/json; charset=utf-8 188.3482ms
2025-02-11 17:06:57.754 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11025/questions/11006 - null 0
2025-02-11 17:06:57.754 +05:00 [INF] CORS policy execution successful.
2025-02-11 17:06:57.755 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 17:06:57.755 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 17:06:57.757 +05:00 [INF] Добавляем вопрос 11006 в тест 11025
2025-02-11 17:06:57.758 +05:00 [INF] Добавляем вопрос 11006 в тест 11025
2025-02-11 17:06:57.761 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:06:57.800 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 17:06:57.812 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 17:06:57.813 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:06:57.814 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 17:06:57.814 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 59.4524ms
2025-02-11 17:06:57.814 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 17:06:57.815 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11025/questions/11006 - 200 null application/json; charset=utf-8 60.9978ms
2025-02-11 17:07:21.919 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11025/questions/11007 - null 0
2025-02-11 17:07:21.919 +05:00 [INF] CORS policy execution successful.
2025-02-11 17:07:21.920 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 17:07:21.920 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 17:07:21.921 +05:00 [INF] Добавляем вопрос 11007 в тест 11025
2025-02-11 17:07:21.921 +05:00 [INF] Добавляем вопрос 11007 в тест 11025
2025-02-11 17:07:21.924 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:07:21.954 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 17:07:21.969 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 17:07:21.970 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:07:21.971 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 17:07:21.972 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 51.7923ms
2025-02-11 17:07:21.972 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 17:07:21.972 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11025/questions/11007 - 200 null application/json; charset=utf-8 53.1082ms
2025-02-11 17:07:39.936 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/11025/questions/11008 - null 0
2025-02-11 17:07:39.936 +05:00 [INF] CORS policy execution successful.
2025-02-11 17:07:39.937 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 17:07:39.937 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 17:07:39.937 +05:00 [INF] Добавляем вопрос 11008 в тест 11025
2025-02-11 17:07:39.937 +05:00 [INF] Добавляем вопрос 11008 в тест 11025
2025-02-11 17:07:39.943 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:07:39.948 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 17:07:39.952 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 17:07:39.955 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:07:39.955 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 17:07:39.956 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 19.5557ms
2025-02-11 17:07:39.956 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 17:07:39.957 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/11025/questions/11008 - 200 null application/json; charset=utf-8 21.0692ms
2025-02-11 17:08:35.258 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/11025 - null 0
2025-02-11 17:08:35.259 +05:00 [INF] CORS policy execution successful.
2025-02-11 17:08:35.264 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 17:08:35.267 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 17:08:35.270 +05:00 [INF] Вход в StartTest(TestId=11025)
2025-02-11 17:08:35.271 +05:00 [INF] Старт теста 11025 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 17:08:35.277 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 17:08:35.305 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 17:08:35.321 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 17:08:35.330 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 17:08:35.358 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 17:08:35.368 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 17:08:35.371 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 103.6755ms
2025-02-11 17:08:35.371 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 17:08:35.371 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/11025 - 200 null application/json; charset=utf-8 112.4692ms
2025-02-11 17:12:22.471 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/12024/save - application/json 480
2025-02-11 17:12:22.472 +05:00 [INF] CORS policy execution successful.
2025-02-11 17:12:22.475 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 17:12:22.482 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 17:12:22.493 +05:00 [INF] SaveAnswers(UserTestId=12024), Count=4
2025-02-11 17:12:22.494 +05:00 [INF] SaveAnswersAsync(UserTestId=12024, CountAnswers=4)
2025-02-11 17:12:22.503 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 17:12:22.559 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 17:12:22.576 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-11 17:12:22.578 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 17:12:22.578 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 96.1024ms
2025-02-11 17:12:22.578 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 17:12:22.579 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/12024/save - 200 null application/json; charset=utf-8 107.5786ms
2025-02-11 17:12:41.454 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/12024/check - null null
2025-02-11 17:12:41.455 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 17:12:41.457 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 17:12:41.459 +05:00 [INF] CheckAnswers(UserTestId=12024)
2025-02-11 17:12:41.461 +05:00 [INF] CheckAnswersAsync(UserTestId=12024)
2025-02-11 17:12:41.464 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 17:12:41.474 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-11 17:12:41.476 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 18.5708ms
2025-02-11 17:12:41.476 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 17:12:41.476 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/12024/check - 200 null application/json; charset=utf-8 22.3377ms
2025-02-11 20:39:56.164 +05:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 20:39:56.232 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 20:39:56.345 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 20:39:56.507 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 20:39:56.574 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 20:39:56.574 +05:00 [INF] Hosting environment: Development
2025-02-11 20:39:56.574 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 20:39:57.185 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 683.7657ms
2025-02-11 20:39:57.196 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 20:39:57.206 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.0606ms
2025-02-11 20:39:57.252 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 20:39:57.294 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.6026ms
2025-02-11 20:39:57.326 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 20:39:57.353 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.1349ms
2025-02-11 20:40:29.468 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 20:40:29.559 +05:00 [INF] CORS policy execution successful.
2025-02-11 20:40:29.615 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 20:40:29.630 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 20:40:29.658 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 20:40:29.705 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 20:40:29.830 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 20:40:29.848 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 20:40:29.853 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 20:40:29.859 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 225.3929ms
2025-02-11 20:40:29.859 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 20:40:29.865 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 397.3123ms
2025-02-11 21:05:18.325 +05:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 21:05:18.396 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 21:05:18.488 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 21:05:18.597 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 21:05:18.666 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 21:05:18.666 +05:00 [INF] Hosting environment: Development
2025-02-11 21:05:18.666 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 21:05:18.756 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 168.1489ms
2025-02-11 21:05:18.758 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 21:05:18.767 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.0507ms
2025-02-11 21:05:18.813 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 21:05:18.844 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.554ms
2025-02-11 21:05:18.879 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 21:05:18.905 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.3701ms
2025-02-11 21:05:40.597 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 21:05:40.613 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:05:40.650 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 21:05:40.666 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 21:05:40.697 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 21:05:40.755 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 21:05:40.891 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 21:05:40.910 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 21:05:40.915 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 21:05:40.922 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 253.1615ms
2025-02-11 21:05:40.923 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 21:05:40.927 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 330.4231ms
2025-02-11 21:07:34.821 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions - application/json 132
2025-02-11 21:07:34.824 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:07:34.869 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 21:07:34.872 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 21:07:34.969 +05:00 [INF] Вход в CreateQuestion для что делаеть человека мудрым?
2025-02-11 21:07:34.970 +05:00 [INF] CreateQuestion(Text=что делаеть человека мудрым?)
2025-02-11 21:07:35.085 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-11 21:07:35.111 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-11 21:07:35.128 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 256.3796ms
2025-02-11 21:07:35.128 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 21:07:35.129 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions - 201 null application/json; charset=utf-8 341.2242ms
2025-02-11 21:08:44.344 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%D0%A2%D0%B5%D0%BA%D1%82%D1%811&countOfQuestions=1&topicId=1&isPrivate=false&isRandom=false&testType=Mixed - null 0
2025-02-11 21:08:44.345 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:08:44.348 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 21:08:44.380 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 21:08:44.400 +05:00 [INF] CreateTemplate: ПроверкаТектс1, count=1, topic=1, isPrivate=false, isRandom=false, testType=Mixed
2025-02-11 21:08:44.424 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 21:08:44.433 +05:00 [INF] CreateTemplateAsync(Name=ПроверкаТектс1, isPrivate=false, isRandom=false, testType="Mixed")
2025-02-11 21:08:44.461 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 21:08:44.468 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 21:08:44.475 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 94.6733ms
2025-02-11 21:08:44.475 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 21:08:44.476 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%D0%A2%D0%B5%D0%BA%D1%82%D1%811&countOfQuestions=1&topicId=1&isPrivate=false&isRandom=false&testType=Mixed - 200 null application/json; charset=utf-8 132.1215ms
2025-02-11 21:09:08.612 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/12018/questions/12005 - null 0
2025-02-11 21:09:08.643 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:09:08.644 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 21:09:08.647 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 21:09:08.652 +05:00 [INF] Добавляем вопрос 12005 в тест 12018
2025-02-11 21:09:08.653 +05:00 [INF] Добавляем вопрос 12005 в тест 12018
2025-02-11 21:09:08.694 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 21:09:08.735 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 21:09:08.751 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 21:09:08.761 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 21:09:08.764 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 21:09:08.769 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 21:09:08.771 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 123.9658ms
2025-02-11 21:09:08.771 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 21:09:08.771 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/12018/questions/12005 - 200 null application/json; charset=utf-8 183.6972ms
2025-02-11 21:09:45.972 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/12018 - null 0
2025-02-11 21:09:45.974 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:09:45.978 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 21:09:45.981 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 21:09:45.984 +05:00 [INF] Вход в StartTest(TestId=12018)
2025-02-11 21:09:45.985 +05:00 [INF] Старт теста 12018 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 21:09:45.987 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 21:09:46.037 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 21:09:46.051 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTestQuestions] ([QuestionId], [UserTestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 21:09:46.059 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 21:09:46.087 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 21:09:46.097 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 21:09:46.100 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 118.8274ms
2025-02-11 21:09:46.100 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 21:09:46.100 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/12018 - 200 null application/json; charset=utf-8 127.851ms
2025-02-11 21:11:07.622 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/13015/save - application/json 81
2025-02-11 21:11:07.625 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:11:07.629 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 21:11:07.634 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 21:11:07.654 +05:00 [INF] SaveAnswers(UserTestId=13015), Count=1
2025-02-11 21:11:07.655 +05:00 [INF] SaveAnswersAsync(UserTestId=13015, CountAnswers=1)
2025-02-11 21:11:07.664 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 21:11:07.728 +05:00 [ERR] Failed executing DbCommand (24ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 21:11:07.753 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:11:07.831 +05:00 [ERR] Ошибка в SaveAnswers(UserTestId=13015)
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.UserTestRepository.GetUserTestWithEverythingAsync(Int32 userTestId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\UserTestRepository.cs:line 97
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 44
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:11:07.863 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 228.1705ms
2025-02-11 21:11:07.863 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 21:11:07.908 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.UserTestRepository.GetUserTestWithEverythingAsync(Int32 userTestId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\UserTestRepository.cs:line 97
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 44
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:11:07.914 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/13015/save - 500 null application/json 292.3389ms
2025-02-11 21:11:49.328 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/13015/save - application/json 129
2025-02-11 21:11:49.328 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:11:49.329 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 21:11:49.329 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 21:11:49.336 +05:00 [INF] SaveAnswers(UserTestId=13015), Count=1
2025-02-11 21:11:49.336 +05:00 [INF] SaveAnswersAsync(UserTestId=13015, CountAnswers=1)
2025-02-11 21:11:49.340 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 21:11:49.342 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:11:49.390 +05:00 [ERR] Ошибка в SaveAnswers(UserTestId=13015)
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.UserTestRepository.GetUserTestWithEverythingAsync(Int32 userTestId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\UserTestRepository.cs:line 97
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 44
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:11:49.408 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 78.8942ms
2025-02-11 21:11:49.408 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 21:11:49.436 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.UserTestRepository.GetUserTestWithEverythingAsync(Int32 userTestId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\UserTestRepository.cs:line 97
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 44
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:11:49.439 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/13015/save - 500 null application/json 112.0227ms
2025-02-11 21:12:01.986 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/13015/save - application/json 129
2025-02-11 21:12:01.986 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:12:01.986 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 21:12:01.986 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 21:12:01.990 +05:00 [INF] SaveAnswers(UserTestId=13015), Count=1
2025-02-11 21:12:01.990 +05:00 [INF] SaveAnswersAsync(UserTestId=13015, CountAnswers=1)
2025-02-11 21:12:01.993 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 21:12:01.995 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:12:02.043 +05:00 [ERR] Ошибка в SaveAnswers(UserTestId=13015)
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.UserTestRepository.GetUserTestWithEverythingAsync(Int32 userTestId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\UserTestRepository.cs:line 97
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 44
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:12:02.061 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 74.4994ms
2025-02-11 21:12:02.061 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 21:12:02.091 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.UserTestRepository.GetUserTestWithEverythingAsync(Int32 userTestId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\UserTestRepository.cs:line 97
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 44
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:c391d101-03c1-48f3-a881-98a819de7b2a
Error Number:207,State:1,Class:16
2025-02-11 21:12:02.094 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/13015/save - 500 null application/json 108.8917ms
2025-02-11 21:45:07.547 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Questions - application/json 147
2025-02-11 21:45:07.553 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:45:07.554 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 21:45:07.554 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-11 21:45:07.561 +05:00 [INF] Вход в CreateQuestion для Какой ваш любимый цвет?
2025-02-11 21:45:07.562 +05:00 [INF] CreateQuestion(Text=Какой ваш любимый цвет?)
2025-02-11 21:45:08.177 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectTextAnswer], [QuestionType], [Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-02-11 21:45:08.178 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.Entities.Question'.
2025-02-11 21:45:08.179 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 624.3641ms
2025-02-11 21:45:08.179 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-11 21:45:08.179 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Questions - 201 null application/json; charset=utf-8 633.092ms
2025-02-11 21:45:29.318 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%D0%A2%D0%B5%D0%BA%D1%82%D1%812&countOfQuestions=1&topicId=1&isPrivate=false&isRandom=false&testType=Mixed - null 0
2025-02-11 21:45:29.318 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:45:29.318 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 21:45:29.319 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] CreateTemplate(System.String, Int32, Int32, Boolean, Boolean, System.String) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 21:45:29.322 +05:00 [INF] CreateTemplate: ПроверкаТектс2, count=1, topic=1, isPrivate=false, isRandom=false, testType=Mixed
2025-02-11 21:45:29.330 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-11 21:45:29.337 +05:00 [INF] CreateTemplateAsync(Name=ПроверкаТектс2, isPrivate=false, isRandom=false, testType="Mixed")
2025-02-11 21:45:29.343 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsRandom], [Name], [TestType], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-11 21:45:29.344 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 21:45:29.345 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 26.2988ms
2025-02-11 21:45:29.345 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-11 21:45:29.345 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/create-template?name=%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%D0%A2%D0%B5%D0%BA%D1%82%D1%812&countOfQuestions=1&topicId=1&isPrivate=false&isRandom=false&testType=Mixed - 200 null application/json; charset=utf-8 27.8831ms
2025-02-11 21:45:58.323 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Tests/13018/questions/13005 - null 0
2025-02-11 21:45:58.323 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:45:58.324 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 21:45:58.324 +05:00 [INF] Route matched with {action = "AddQuestionToTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestDto]] AddQuestionToTest(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-11 21:45:58.325 +05:00 [INF] Добавляем вопрос 13005 в тест 13018
2025-02-11 21:45:58.325 +05:00 [INF] Добавляем вопрос 13005 в тест 13018
2025-02-11 21:45:58.345 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 21:45:58.350 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__p_0
2025-02-11 21:45:58.353 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestQuestions] ([QuestionId], [TestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 21:45:58.355 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 21:45:58.357 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-11 21:45:58.358 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI) in 34.5346ms
2025-02-11 21:45:58.358 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.AddQuestionToTest (QuizMasterAPI)'
2025-02-11 21:45:58.359 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Tests/13018/questions/13005 - 200 null application/json; charset=utf-8 36.0036ms
2025-02-11 21:47:59.410 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/13018 - null 0
2025-02-11 21:47:59.411 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:47:59.411 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 21:47:59.411 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-11 21:47:59.416 +05:00 [INF] Вход в StartTest(TestId=13018)
2025-02-11 21:47:59.416 +05:00 [INF] Старт теста 13018 для пользователя 0ab40610-2629-4627-b313-6a207691ba1a
2025-02-11 21:47:59.419 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s].[Id0], [s].[CategoryId], [s].[IsSurveyTopic], [s].[Name0], [s0].[Id], [s0].[QuestionId], [s0].[TestId], [s0].[Id0], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id1], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId], [t0].[Id] AS [Id0], [t0].[CategoryId], [t0].[IsSurveyTopic], [t0].[Name] AS [Name0]
    FROM [Tests] AS [t]
    LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
    WHERE [t].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[QuestionId], [t1].[TestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [TestQuestions] AS [t1]
    INNER JOIN [Questions] AS [q] ON [t1].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[TestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0]
2025-02-11 21:47:59.442 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-11 21:47:59.444 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTestQuestions] ([QuestionId], [UserTestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-11 21:47:59.450 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[CorrectTextAnswer], [s].[QuestionType], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-11 21:47:59.450 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-11 21:47:59.450 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 38.801ms
2025-02-11 21:47:59.450 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-11 21:47:59.451 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/13018 - 200 null application/json; charset=utf-8 40.8583ms
2025-02-11 21:51:16.993 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/14015/save - application/json 114
2025-02-11 21:51:16.999 +05:00 [INF] CORS policy execution successful.
2025-02-11 21:51:16.999 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 21:51:16.999 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 21:51:17.038 +05:00 [INF] SaveAnswers(UserTestId=14015), Count=1
2025-02-11 21:51:17.038 +05:00 [INF] SaveAnswersAsync(UserTestId=14015, CountAnswers=1)
2025-02-11 21:51:17.042 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 21:51:17.043 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:748d335d-97fd-41e4-8057-d7e8369fec5f
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:748d335d-97fd-41e4-8057-d7e8369fec5f
Error Number:207,State:1,Class:16
2025-02-11 21:51:17.125 +05:00 [ERR] Ошибка в SaveAnswers(UserTestId=14015)
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.UserTestRepository.GetUserTestWithEverythingAsync(Int32 userTestId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\UserTestRepository.cs:line 97
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 44
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
ClientConnectionId:748d335d-97fd-41e4-8057-d7e8369fec5f
Error Number:207,State:1,Class:16
2025-02-11 21:51:17.143 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 143.4168ms
2025-02-11 21:51:17.143 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 21:51:17.172 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserTextAnswer'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.UserTestRepository.GetUserTestWithEverythingAsync(Int32 userTestId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\UserTestRepository.cs:line 97
   at QuizMasterAPI.Services.UserTestAnswerService.SaveAnswersAsync(Int32 userTestId, List`1 answers, String userId) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestAnswerService.cs:line 44
   at UserTestAnswersController.SaveAnswers(Int32 userTestId, List`1 answers) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestAnswersController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:748d335d-97fd-41e4-8057-d7e8369fec5f
Error Number:207,State:1,Class:16
2025-02-11 21:51:17.175 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/14015/save - 500 null application/json 183.0771ms
2025-02-11 22:08:08.825 +05:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 22:08:08.906 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 22:08:09.016 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 22:08:09.197 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 22:08:09.272 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 22:08:09.272 +05:00 [INF] Hosting environment: Development
2025-02-11 22:08:09.272 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 22:08:09.371 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 182.5354ms
2025-02-11 22:08:09.435 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 22:08:09.435 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 22:08:09.444 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.0779ms
2025-02-11 22:08:09.472 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.3179ms
2025-02-11 22:08:09.517 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 22:08:09.541 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.1542ms
2025-02-11 22:08:47.821 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-11 22:08:47.846 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-11 22:08:47.868 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-11 22:08:47.916 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-11 22:08:47.928 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-11 22:08:47.935 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-11 22:08:47.942 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-11 22:08:47.952 +05:00 [INF] Applying migration '20250211170835_AddUserTextAnswerToUserTestAnswer'.
2025-02-11 22:08:48.006 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserTestAnswers]') AND [c].[name] = N'AnswerOptionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserTestAnswers] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserTestAnswers] ALTER COLUMN [AnswerOptionId] int NULL;
2025-02-11 22:08:48.014 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [UserTestAnswers] ADD [UserTextAnswer] nvarchar(max) NULL;
2025-02-11 22:08:48.020 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250211170835_AddUserTextAnswerToUserTestAnswer', N'9.0.1');
2025-02-11 22:08:48.031 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-11 22:09:00.725 +05:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 22:09:00.801 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-11 22:09:00.911 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-11 22:09:01.030 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-11 22:09:01.103 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-11 22:09:01.103 +05:00 [INF] Hosting environment: Development
2025-02-11 22:09:01.104 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-11 22:09:01.203 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 181.5013ms
2025-02-11 22:09:01.204 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-11 22:09:01.215 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.8958ms
2025-02-11 22:09:01.269 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-11 22:09:01.304 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.1461ms
2025-02-11 22:09:01.338 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-11 22:09:01.372 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.5017ms
2025-02-11 22:09:16.841 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-11 22:09:16.848 +05:00 [INF] CORS policy execution successful.
2025-02-11 22:09:16.886 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 22:09:16.901 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-11 22:09:16.930 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-11 22:09:16.983 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-11 22:09:17.110 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-11 22:09:17.128 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-11 22:09:17.133 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 22:09:17.139 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 235.2196ms
2025-02-11 22:09:17.140 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-11 22:09:17.143 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 302.7603ms
2025-02-11 22:13:02.655 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/14015/save - application/json 108
2025-02-11 22:13:02.663 +05:00 [INF] CORS policy execution successful.
2025-02-11 22:13:02.692 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 22:13:02.696 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 22:13:02.792 +05:00 [INF] SaveAnswers(UserTestId=14015), Count=1
2025-02-11 22:13:02.793 +05:00 [INF] SaveAnswersAsync(UserTestId=14015, CountAnswers=1)
2025-02-11 22:13:02.850 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-11 22:13:02.906 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 22:13:03.087 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTestAnswers] ([AnswerOptionId], [UserTestQuestionId], [UserTextAnswer])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-02-11 22:13:03.108 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-11 22:13:03.109 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 412.4026ms
2025-02-11 22:13:03.109 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-11 22:13:03.111 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/14015/save - 200 null application/json; charset=utf-8 454.939ms
2025-02-11 22:16:08.382 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/14015/check - null null
2025-02-11 22:16:08.386 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 22:16:08.388 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-11 22:16:08.429 +05:00 [INF] CheckAnswers(UserTestId=14015)
2025-02-11 22:16:08.431 +05:00 [INF] CheckAnswersAsync(UserTestId=14015)
2025-02-11 22:16:08.433 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsRandom], [s].[Name], [s].[TestType], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[UserTextAnswer], [s0].[CorrectTextAnswer], [s0].[QuestionType], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsRandom], [t].[Name], [t].[TestType], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [u1].[UserTextAnswer], [q].[CorrectTextAnswer], [q].[QuestionType], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-11 22:16:08.466 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-11 22:16:08.470 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 80.9727ms
2025-02-11 22:16:08.470 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-11 22:16:08.470 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/14015/check - 200 null application/json; charset=utf-8 87.8571ms
