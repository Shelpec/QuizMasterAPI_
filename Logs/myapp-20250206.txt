2025-02-06 10:58:20.995 +05:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 10:58:21.070 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 10:58:21.190 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 10:58:21.377 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 10:58:21.454 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 10:58:21.454 +05:00 [INF] Hosting environment: Development
2025-02-06 10:58:21.454 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 10:58:22.094 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 725.2615ms
2025-02-06 10:58:22.095 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 10:58:22.104 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 4.6147ms
2025-02-06 10:58:22.157 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 10:58:22.218 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.7103ms
2025-02-06 10:58:22.256 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 10:58:22.303 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.144ms
2025-02-06 11:24:57.385 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 11:24:57.392 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 7.5915ms
2025-02-06 11:24:57.442 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 11:24:57.443 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.9479ms
2025-02-06 11:24:57.446 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 11:24:57.458 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.1992ms
2025-02-06 11:24:57.526 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 11:24:57.545 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.663ms
2025-02-06 11:26:13.511 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 11:26:13.517 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 6.24ms
2025-02-06 11:26:13.534 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 11:26:13.534 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 11:26:13.534 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.8932ms
2025-02-06 11:26:13.540 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.4023ms
2025-02-06 11:26:13.603 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 11:26:13.611 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.7896ms
2025-02-06 11:35:08.690 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:35:08.698 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:35:08.700 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 9.3172ms
2025-02-06 11:35:08.712 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:35:08.715 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:35:08.796 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '05.02.2025 12:53:18', Current time (UTC): '06.02.2025 06:35:08'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-06 11:35:08.815 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '05.02.2025 12:53:18', Current time (UTC): '06.02.2025 06:35:08'.
2025-02-06 11:35:08.819 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 11:35:08.822 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:35:08.823 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 401 null null 110.7637ms
2025-02-06 11:41:45.395 +05:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 11:41:45.471 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 11:41:45.566 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 11:41:45.685 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 11:41:45.756 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 11:41:45.756 +05:00 [INF] Hosting environment: Development
2025-02-06 11:41:45.756 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 11:41:45.871 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 196.1168ms
2025-02-06 11:41:45.874 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 11:41:45.884 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.6736ms
2025-02-06 11:41:45.926 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 11:41:45.960 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6541ms
2025-02-06 11:41:45.999 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 11:41:46.027 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.9842ms
2025-02-06 11:42:03.577 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Users - null null
2025-02-06 11:42:03.628 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-06 11:42:03.630 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:42:03.631 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Users - 401 null null 53.7355ms
2025-02-06 11:42:25.472 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:42:25.475 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:25.479 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 11:42:25.480 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:42:25.481 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 8.2964ms
2025-02-06 11:42:28.994 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 11:42:28.995 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:28.996 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 2.4636ms
2025-02-06 11:42:28.998 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 11:42:28.999 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:29.000 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:42:29.018 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 11:42:29.048 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 11:42:29.094 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 11:42:29.225 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 11:42:29.242 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 11:42:29.247 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:42:29.253 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 231.7149ms
2025-02-06 11:42:29.253 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:42:29.257 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 258.4478ms
2025-02-06 11:42:29.267 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:42:29.268 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:29.268 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.0109ms
2025-02-06 11:42:29.274 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:42:29.275 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:29.305 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:42:29.308 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:42:29.394 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:42:29.396 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:42:29.424 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:42:29.482 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:42:29.523 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:42:29.528 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 219.4682ms
2025-02-06 11:42:29.528 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:42:29.531 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 256.8493ms
2025-02-06 11:42:32.808 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:42:32.808 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:32.808 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.8618ms
2025-02-06 11:42:32.812 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:42:32.813 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:32.814 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:42:32.817 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:42:32.820 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:42:32.822 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:42:32.839 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:42:32.850 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:42:32.866 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:42:32.872 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 54.5336ms
2025-02-06 11:42:32.872 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:42:32.872 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 60.0295ms
2025-02-06 11:42:35.150 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:42:35.151 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:35.151 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 1.0585ms
2025-02-06 11:42:35.154 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:42:35.154 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:42:35.155 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:42:35.158 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:42:35.160 +05:00 [INF] GetAll Topics
2025-02-06 11:42:35.178 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:42:35.183 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:42:35.185 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 26.3396ms
2025-02-06 11:42:35.185 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:42:35.185 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 31.1204ms
2025-02-06 11:43:42.652 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null null
2025-02-06 11:43:42.654 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:42.654 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 204 null null 2.5286ms
2025-02-06 11:43:42.656 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null 0
2025-02-06 11:43:42.657 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:42.658 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 11:43:42.660 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:43:42.670 +05:00 [INF] Вход в CreateTemplate: Мат, count=3, topic=1, isPrivate=true
2025-02-06 11:43:42.671 +05:00 [INF] CreateTemplateAsync(Name=Мат, count=3, topic=1, isPrivate=true)
2025-02-06 11:43:42.763 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 11:43:42.783 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 11:43:42.784 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 123.4356ms
2025-02-06 11:43:42.784 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 11:43:42.785 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 127.9521ms
2025-02-06 11:43:42.790 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:43:42.791 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:42.791 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.8201ms
2025-02-06 11:43:42.793 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:43:42.793 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:42.793 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:43:42.793 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:43:42.796 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:43:42.796 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:43:42.797 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:43:42.799 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:43:42.800 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:43:42.801 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.3833ms
2025-02-06 11:43:42.801 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:43:42.801 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.7875ms
2025-02-06 11:43:45.398 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:43:45.398 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:45.398 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.7042ms
2025-02-06 11:43:45.400 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:43:45.401 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:45.401 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:43:45.401 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:43:45.402 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:43:45.403 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:43:45.404 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:43:45.413 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:43:45.414 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:43:45.426 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 24.5958ms
2025-02-06 11:43:45.426 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:43:45.426 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 25.7516ms
2025-02-06 11:43:48.572 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:43:48.572 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:48.573 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.6875ms
2025-02-06 11:43:48.575 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:43:48.576 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:48.576 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:43:48.576 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:43:48.577 +05:00 [INF] GetAll Topics
2025-02-06 11:43:48.579 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:43:48.580 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:43:48.580 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.2934ms
2025-02-06 11:43:48.580 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:43:48.581 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.4271ms
2025-02-06 11:43:51.006 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:43:51.007 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:51.007 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - 204 null null 0.6886ms
2025-02-06 11:43:51.009 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:43:51.010 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:43:51.010 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:43:51.013 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:43:51.023 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:43:51.024 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:43:51.024 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 11.2593ms
2025-02-06 11:43:51.024 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:43:51.024 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - 200 null application/json; charset=utf-8 15.4868ms
2025-02-06 11:44:00.249 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 11:44:00.250 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:00.250 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.6536ms
2025-02-06 11:44:00.252 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 11:44:00.252 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:00.252 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:00.253 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:00.263 +05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-06 11:44:00.276 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:00.278 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:00.279 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 26.015ms
2025-02-06 11:44:00.279 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:00.279 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 27.8873ms
2025-02-06 11:44:00.365 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:44:00.365 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:00.365 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 0.4376ms
2025-02-06 11:44:00.367 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:44:00.367 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:00.368 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:00.368 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:00.370 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:00.370 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:00.371 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.9218ms
2025-02-06 11:44:00.371 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:00.371 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 4.0741ms
2025-02-06 11:44:00.476 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:44:00.476 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:00.476 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - 204 null null 0.5422ms
2025-02-06 11:44:00.478 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:44:00.478 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:00.479 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:00.479 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:00.480 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:00.481 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:00.481 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1203ms
2025-02-06 11:44:00.481 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:00.481 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zha - 200 null application/json; charset=utf-8 3.0694ms
2025-02-06 11:44:00.612 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhan - null null
2025-02-06 11:44:00.612 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:00.613 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhan - 204 null null 0.5372ms
2025-02-06 11:44:00.614 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zhan - null null
2025-02-06 11:44:00.614 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:00.615 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:00.615 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:00.617 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:00.617 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:00.617 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.4347ms
2025-02-06 11:44:00.617 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:00.618 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zhan - 200 null application/json; charset=utf-8 3.518ms
2025-02-06 11:44:01.670 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:44:01.670 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:01.671 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:01.671 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:01.673 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:01.673 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:01.674 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.7207ms
2025-02-06 11:44:01.674 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:01.674 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zha - 200 null application/json; charset=utf-8 3.837ms
2025-02-06 11:44:01.882 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:44:01.883 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:01.883 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:01.883 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:01.885 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:01.886 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:01.886 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.6072ms
2025-02-06 11:44:01.886 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:01.886 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 3.7788ms
2025-02-06 11:44:02.429 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 11:44:02.430 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:02.430 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:02.430 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:02.432 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:02.432 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:02.433 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.3375ms
2025-02-06 11:44:02.433 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:02.433 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 4.1079ms
2025-02-06 11:44:03.299 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 11:44:03.299 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:03.300 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.300 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:03.302 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:03.302 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:03.302 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.5297ms
2025-02-06 11:44:03.303 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.303 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 3.6883ms
2025-02-06 11:44:03.476 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:44:03.477 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:03.477 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.477 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:03.480 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:03.480 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:03.480 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.6683ms
2025-02-06 11:44:03.480 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.480 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 4.2101ms
2025-02-06 11:44:03.595 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:44:03.596 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:03.596 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.596 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:03.598 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:03.598 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:03.598 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.0762ms
2025-02-06 11:44:03.598 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.598 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zha - 200 null application/json; charset=utf-8 3.0545ms
2025-02-06 11:44:03.708 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zhan - null null
2025-02-06 11:44:03.708 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:03.708 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.708 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:03.710 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:03.710 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:03.711 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.2184ms
2025-02-06 11:44:03.711 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.711 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zhan - 200 null application/json; charset=utf-8 3.3119ms
2025-02-06 11:44:03.838 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhana - null null
2025-02-06 11:44:03.838 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:03.839 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhana - 204 null null 0.4699ms
2025-02-06 11:44:03.840 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zhana - null null
2025-02-06 11:44:03.840 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:03.841 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.841 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:03.842 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:03.843 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:03.843 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.0409ms
2025-02-06 11:44:03.843 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:03.843 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zhana - 200 null application/json; charset=utf-8 2.8444ms
2025-02-06 11:44:04.116 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zhan - null null
2025-02-06 11:44:04.116 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:04.116 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.116 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:04.118 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:04.118 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:04.119 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1998ms
2025-02-06 11:44:04.119 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.119 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zhan - 200 null application/json; charset=utf-8 3.1625ms
2025-02-06 11:44:04.300 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:44:04.301 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:04.301 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.301 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:04.304 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:04.305 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:04.306 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 4.3106ms
2025-02-06 11:44:04.306 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.306 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zha - 200 null application/json; charset=utf-8 5.5094ms
2025-02-06 11:44:04.454 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:44:04.454 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:04.454 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.455 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:04.456 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:04.457 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:04.457 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1902ms
2025-02-06 11:44:04.457 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.457 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 3.2043ms
2025-02-06 11:44:04.619 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 11:44:04.619 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:04.619 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.620 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:04.622 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:04.622 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:04.622 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.4873ms
2025-02-06 11:44:04.622 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.622 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 3.5519ms
2025-02-06 11:44:04.929 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 11:44:04.929 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:04.929 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.3242ms
2025-02-06 11:44:04.930 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 11:44:04.930 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:04.931 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.931 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:04.933 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:04.933 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:04.933 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.199ms
2025-02-06 11:44:04.933 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:04.933 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 3.269ms
2025-02-06 11:44:05.336 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=aa - null null
2025-02-06 11:44:05.336 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:05.336 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=aa - 204 null null 0.4009ms
2025-02-06 11:44:05.337 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=aa - null null
2025-02-06 11:44:05.338 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:05.338 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:05.338 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:05.340 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:05.340 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:05.340 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9868ms
2025-02-06 11:44:05.340 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:05.340 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=aa - 200 null application/json; charset=utf-8 2.7243ms
2025-02-06 11:44:05.778 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 11:44:05.778 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:05.779 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:05.779 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:05.781 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:05.781 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:05.781 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1807ms
2025-02-06 11:44:05.781 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:05.781 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 3.3264ms
2025-02-06 11:44:08.835 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 11:44:08.835 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:08.835 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.3251ms
2025-02-06 11:44:08.837 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 11:44:08.837 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:08.837 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:08.837 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:08.839 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:08.839 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:08.840 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.19ms
2025-02-06 11:44:08.840 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:08.840 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 3.0055ms
2025-02-06 11:44:08.936 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:44:08.936 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:08.937 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 0.4546ms
2025-02-06 11:44:08.938 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:44:08.938 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:08.939 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:08.939 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:08.940 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:08.941 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:08.941 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.0361ms
2025-02-06 11:44:08.941 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:08.941 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 2.8334ms
2025-02-06 11:44:09.082 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:44:09.082 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.082 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - 204 null null 0.3217ms
2025-02-06 11:44:09.083 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:44:09.084 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.084 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.084 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:09.085 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:09.086 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:09.086 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9124ms
2025-02-06 11:44:09.086 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.086 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zha - 200 null application/json; charset=utf-8 2.7451ms
2025-02-06 11:44:09.144 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhan - null null
2025-02-06 11:44:09.144 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.144 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhan - 204 null null 0.3327ms
2025-02-06 11:44:09.146 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zhan - null null
2025-02-06 11:44:09.146 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.146 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.146 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:09.148 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:09.148 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:09.148 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.8683ms
2025-02-06 11:44:09.148 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.148 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zhan - 200 null application/json; charset=utf-8 2.7039ms
2025-02-06 11:44:09.289 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhana - null null
2025-02-06 11:44:09.289 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.289 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhana - 204 null null 0.3463ms
2025-02-06 11:44:09.291 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zhana - null null
2025-02-06 11:44:09.291 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.291 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.291 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:09.293 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:09.293 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:09.293 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.0188ms
2025-02-06 11:44:09.293 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.294 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zhana - 200 null application/json; charset=utf-8 2.7385ms
2025-02-06 11:44:09.484 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhanar - null null
2025-02-06 11:44:09.484 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.484 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhanar - 204 null null 0.3492ms
2025-02-06 11:44:09.485 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zhanar - null null
2025-02-06 11:44:09.486 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.486 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.486 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:09.488 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:09.488 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:09.488 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.8812ms
2025-02-06 11:44:09.488 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.488 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zhanar - 200 null application/json; charset=utf-8 3.0085ms
2025-02-06 11:44:09.618 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhanary - null null
2025-02-06 11:44:09.618 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.618 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zhanary - 204 null null 0.3454ms
2025-02-06 11:44:09.620 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zhanary - null null
2025-02-06 11:44:09.620 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:09.620 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.620 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:09.622 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:09.622 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:09.622 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.8537ms
2025-02-06 11:44:09.622 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:09.623 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zhanary - 200 null application/json; charset=utf-8 2.6123ms
2025-02-06 11:44:11.761 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 11:44:11.762 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:11.762 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.7353ms
2025-02-06 11:44:11.764 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 11:44:11.764 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:11.765 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:44:11.767 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:44:11.769 +05:00 [INF] AddAccess(TestId=7007, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:44:11.770 +05:00 [INF] AddUserAccessAsync(TestId=7007, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:44:11.785 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 11:44:11.807 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 11:44:11.809 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:44:11.810 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 42.3007ms
2025-02-06 11:44:11.810 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:44:11.810 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null text/plain; charset=utf-8 45.7213ms
2025-02-06 11:44:13.657 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 11:44:13.657 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:13.657 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:44:13.657 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:44:13.659 +05:00 [INF] AddAccess(TestId=7007, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:44:13.659 +05:00 [INF] AddUserAccessAsync(TestId=7007, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:44:13.676 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 11:44:13.677 +05:00 [INF] Пользователь cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 уже имеет доступ к TestId=7007
2025-02-06 11:44:13.677 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:44:13.678 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 20.4682ms
2025-02-06 11:44:13.678 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:44:13.678 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null text/plain; charset=utf-8 21.3482ms
2025-02-06 11:44:15.493 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - null null
2025-02-06 11:44:15.493 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:15.493 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - 204 null null 0.3264ms
2025-02-06 11:44:15.495 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 11:44:15.495 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:15.495 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:15.495 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:44:15.497 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:44:15.497 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:15.497 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9232ms
2025-02-06 11:44:15.497 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:15.498 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 2.6328ms
2025-02-06 11:44:17.452 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 11:44:17.452 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:17.452 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 204 null null 0.3031ms
2025-02-06 11:44:17.454 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - application/json 2
2025-02-06 11:44:17.454 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:17.455 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:44:17.455 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:44:17.455 +05:00 [INF] AddAccess(TestId=7007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:44:17.456 +05:00 [INF] AddUserAccessAsync(TestId=7007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:44:17.457 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 11:44:17.470 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 11:44:17.471 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:44:17.471 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 16.1257ms
2025-02-06 11:44:17.471 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:44:17.471 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null text/plain; charset=utf-8 17.0675ms
2025-02-06 11:44:18.542 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 11:44:18.542 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:18.542 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 204 null null 0.3445ms
2025-02-06 11:44:18.544 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - application/json 2
2025-02-06 11:44:18.544 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:18.544 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:44:18.544 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:44:18.545 +05:00 [INF] AddAccess(TestId=7007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 11:44:18.545 +05:00 [INF] AddUserAccessAsync(TestId=7007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 11:44:18.546 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 11:44:18.559 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 11:44:18.560 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:44:18.560 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 15.62ms
2025-02-06 11:44:18.560 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:44:18.560 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null text/plain; charset=utf-8 16.3392ms
2025-02-06 11:44:21.667 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:44:21.667 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:21.667 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - 204 null null 0.2876ms
2025-02-06 11:44:21.668 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:44:21.668 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:21.669 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:44:21.669 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:44:21.672 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:44:21.673 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:44:21.673 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.0872ms
2025-02-06 11:44:21.673 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:44:21.673 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - 200 null application/json; charset=utf-8 4.73ms
2025-02-06 11:44:29.411 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null null
2025-02-06 11:44:29.411 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:29.411 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 204 null null 0.7216ms
2025-02-06 11:44:29.415 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null 0
2025-02-06 11:44:29.416 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:29.416 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:44:29.419 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:44:29.422 +05:00 [INF] Вход в UpdateTest(Id=7007)
2025-02-06 11:44:29.422 +05:00 [INF] UpdateTestAsync(Id=7007, Name=Мат, Count=3)
2025-02-06 11:44:29.430 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 11:44:29.441 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 11:44:29.442 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 11:44:29.443 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 22.9537ms
2025-02-06 11:44:29.443 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:44:29.443 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 27.4613ms
2025-02-06 11:44:29.447 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:44:29.447 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:29.447 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2231ms
2025-02-06 11:44:29.448 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:44:29.449 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:29.449 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:29.449 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:44:29.450 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:44:29.450 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:44:29.451 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:44:29.452 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:44:29.453 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:29.453 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.7839ms
2025-02-06 11:44:29.453 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:29.453 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.7695ms
2025-02-06 11:44:31.995 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:44:31.995 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:31.995 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3759ms
2025-02-06 11:44:31.998 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:44:31.999 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:32.000 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:32.000 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:44:32.003 +05:00 [INF] GetAll Topics
2025-02-06 11:44:32.005 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:44:32.007 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:32.008 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 8.0813ms
2025-02-06 11:44:32.008 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:32.008 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 9.97ms
2025-02-06 11:44:35.194 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:44:35.195 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:35.195 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - 204 null null 0.2653ms
2025-02-06 11:44:35.197 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:44:35.197 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:35.197 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:44:35.197 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:44:35.200 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:44:35.201 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:44:35.201 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.354ms
2025-02-06 11:44:35.201 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:44:35.201 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - 200 null application/json; charset=utf-8 4.5455ms
2025-02-06 11:44:38.626 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null null
2025-02-06 11:44:38.626 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:38.626 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 204 null null 0.3252ms
2025-02-06 11:44:38.628 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null 0
2025-02-06 11:44:38.628 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:38.628 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:44:38.628 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:44:38.630 +05:00 [INF] Вход в UpdateTest(Id=7007)
2025-02-06 11:44:38.630 +05:00 [INF] UpdateTestAsync(Id=7007, Name=Мат, Count=3)
2025-02-06 11:44:38.631 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 11:44:38.644 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 11:44:38.645 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 11:44:38.645 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 16.4949ms
2025-02-06 11:44:38.645 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:44:38.645 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 17.2322ms
2025-02-06 11:44:38.650 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:44:38.650 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:38.650 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3162ms
2025-02-06 11:44:38.652 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:44:38.652 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:38.652 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:38.652 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:44:38.653 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:44:38.653 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:44:38.654 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:44:38.655 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:44:38.656 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:38.656 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9154ms
2025-02-06 11:44:38.656 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:38.656 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.5463ms
2025-02-06 11:44:42.233 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:44:42.233 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:42.233 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.346ms
2025-02-06 11:44:42.236 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:44:42.236 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:42.237 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:42.237 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:44:42.237 +05:00 [INF] GetAll Topics
2025-02-06 11:44:42.239 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:44:42.240 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:42.240 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.2525ms
2025-02-06 11:44:42.240 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:44:42.240 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.1735ms
2025-02-06 11:44:44.332 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:44:44.332 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:44.333 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - 204 null null 0.2697ms
2025-02-06 11:44:44.334 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:44:44.334 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:44.334 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:44:44.335 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:44:44.337 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:44:44.338 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:44:44.338 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.2966ms
2025-02-06 11:44:44.338 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:44:44.338 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - 200 null application/json; charset=utf-8 4.1615ms
2025-02-06 11:44:46.835 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null null
2025-02-06 11:44:46.835 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:46.835 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 204 null null 0.4834ms
2025-02-06 11:44:46.837 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null 0
2025-02-06 11:44:46.837 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:46.837 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:44:46.837 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:44:46.838 +05:00 [INF] Вход в UpdateTest(Id=7007)
2025-02-06 11:44:46.838 +05:00 [INF] UpdateTestAsync(Id=7007, Name=Мат, Count=3)
2025-02-06 11:44:46.839 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 11:44:46.852 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 11:44:46.852 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 11:44:46.853 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 15.4565ms
2025-02-06 11:44:46.853 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:44:46.853 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 16.1988ms
2025-02-06 11:44:46.857 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:44:46.857 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:46.857 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3556ms
2025-02-06 11:44:46.859 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:44:46.859 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:46.859 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:46.860 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:44:46.861 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:44:46.861 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:44:46.862 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:44:46.863 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:44:46.864 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:46.864 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3421ms
2025-02-06 11:44:46.864 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:46.864 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 5.2781ms
2025-02-06 11:44:49.468 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:44:49.468 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:49.469 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 11:44:49.469 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:44:49.469 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.3403ms
2025-02-06 11:44:52.604 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 11:44:52.604 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:52.604 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.4064ms
2025-02-06 11:44:52.606 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 11:44:52.606 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:52.606 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:44:52.606 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 11:44:52.609 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 11:44:52.610 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 11:44:52.664 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 11:44:52.664 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 11:44:52.664 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:44:52.665 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 58.4316ms
2025-02-06 11:44:52.665 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:44:52.665 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 58.9838ms
2025-02-06 11:44:52.683 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:44:52.683 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:52.683 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5184ms
2025-02-06 11:44:52.685 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:44:52.686 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:52.686 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:44:52.686 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:44:52.688 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:44:52.688 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:44:52.696 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:44:52.699 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:44:52.702 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:52.703 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 16.3289ms
2025-02-06 11:44:52.703 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:44:52.703 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 17.8002ms
2025-02-06 11:44:54.723 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:44:54.723 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:54.723 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5657ms
2025-02-06 11:44:54.727 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:44:54.728 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:54.728 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:54.728 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:44:54.729 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:44:54.729 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:44:54.759 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:44:54.769 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:44:54.770 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:54.770 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 42.1566ms
2025-02-06 11:44:54.770 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:54.770 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 43.0349ms
2025-02-06 11:44:57.152 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:44:57.152 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:57.152 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3116ms
2025-02-06 11:44:57.155 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:44:57.155 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:57.155 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:57.155 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:44:57.156 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:44:57.156 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:44:57.158 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:44:57.171 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:44:57.171 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:44:57.172 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 16.1074ms
2025-02-06 11:44:57.172 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:44:57.172 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 17.018ms
2025-02-06 11:44:58.764 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/7007 - null null
2025-02-06 11:44:58.765 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:58.765 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/7007 - 204 null null 0.671ms
2025-02-06 11:44:58.768 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/7007 - application/json 2
2025-02-06 11:44:58.768 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:44:58.769 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 11:44:58.771 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 11:44:58.775 +05:00 [INF] Вход в StartTest(TestId=7007)
2025-02-06 11:44:58.776 +05:00 [INF] StartTestAsync(TestId=7007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:44:58.777 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 11:44:58.795 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 11:44:58.818 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 11:44:58.838 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 11:44:58.846 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 11:44:58.874 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 11:44:58.882 +05:00 [INF] Тест успешно создан: UserTestId=9012
2025-02-06 11:44:58.882 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 11:44:58.884 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 112.5656ms
2025-02-06 11:44:58.884 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 11:44:58.884 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/7007 - 200 null application/json; charset=utf-8 116.9209ms
2025-02-06 11:45:02.983 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/9012/save - null null
2025-02-06 11:45:02.984 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:02.984 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/9012/save - 204 null null 0.5328ms
2025-02-06 11:45:02.986 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/9012/save - application/json 184
2025-02-06 11:45:02.987 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:02.987 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 11:45:02.990 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 11:45:03.000 +05:00 [INF] Вход в SaveAnswers(UserTestId=9012), Count=3
2025-02-06 11:45:03.001 +05:00 [INF] SaveAnswersAsync(UserTestId=9012, CountAnswers=3)
2025-02-06 11:45:03.008 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 11:45:03.046 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 11:45:03.064 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 11:45:03.066 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:45:03.067 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 77.5026ms
2025-02-06 11:45:03.067 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 11:45:03.068 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/9012/save - 200 null application/json; charset=utf-8 81.5698ms
2025-02-06 11:45:03.074 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/9012/check - null null
2025-02-06 11:45:03.074 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:03.074 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/9012/check - 204 null null 0.3133ms
2025-02-06 11:45:03.076 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/9012/check - null null
2025-02-06 11:45:03.076 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:03.076 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 11:45:03.079 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 11:45:03.081 +05:00 [INF] Вход в CheckAnswers(UserTestId=9012)
2025-02-06 11:45:03.082 +05:00 [INF] CheckAnswersAsync(UserTestId=9012)
2025-02-06 11:45:03.083 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 11:45:03.121 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 11:45:03.126 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 11:45:03.128 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 49.2296ms
2025-02-06 11:45:03.128 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 11:45:03.128 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/9012/check - 200 null application/json; charset=utf-8 52.4563ms
2025-02-06 11:45:04.218 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:45:04.218 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:04.218 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5632ms
2025-02-06 11:45:04.222 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:45:04.223 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:04.223 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:45:04.223 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:45:04.224 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:45:04.224 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:45:04.225 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:45:04.227 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:45:04.227 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:45:04.227 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.394ms
2025-02-06 11:45:04.228 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:45:04.228 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.3257ms
2025-02-06 11:45:07.693 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:45:07.694 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:07.694 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4037ms
2025-02-06 11:45:07.697 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:45:07.697 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:07.697 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:45:07.698 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:45:07.698 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:45:07.698 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:45:07.699 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:45:07.701 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:45:07.702 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:45:07.702 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3357ms
2025-02-06 11:45:07.702 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:45:07.702 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 5.4669ms
2025-02-06 11:45:11.920 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:45:11.920 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:11.921 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 11:45:11.921 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:45:11.921 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.2841ms
2025-02-06 11:45:15.318 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 11:45:15.319 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:15.319 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.7587ms
2025-02-06 11:45:15.323 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 11:45:15.323 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:15.323 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:45:15.323 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 11:45:15.324 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 11:45:15.326 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 11:45:15.379 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 11:45:15.379 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 11:45:15.379 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:45:15.379 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 55.9986ms
2025-02-06 11:45:15.379 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:45:15.379 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 56.8333ms
2025-02-06 11:45:15.397 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:45:15.397 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:15.397 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3173ms
2025-02-06 11:45:15.401 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:45:15.401 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:15.401 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:45:15.402 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:45:15.404 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:45:15.404 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:45:15.406 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:45:15.408 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:45:15.409 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:45:15.410 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 8.1256ms
2025-02-06 11:45:15.410 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:45:15.410 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.3896ms
2025-02-06 11:45:16.728 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:45:16.728 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:16.728 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3866ms
2025-02-06 11:45:16.732 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:45:16.732 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:16.733 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:45:16.733 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:45:16.734 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:45:16.734 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:45:16.735 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:45:16.737 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:45:16.737 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:45:16.738 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.6351ms
2025-02-06 11:45:16.738 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:45:16.738 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.1514ms
2025-02-06 11:45:18.287 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:45:18.287 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:18.287 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3905ms
2025-02-06 11:45:18.290 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:45:18.290 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:18.290 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:45:18.290 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:45:18.291 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:45:18.291 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:45:18.292 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:45:18.294 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:45:18.294 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:45:18.294 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.0573ms
2025-02-06 11:45:18.294 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:45:18.295 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 5.1915ms
2025-02-06 11:45:19.662 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:45:19.662 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:19.662 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3397ms
2025-02-06 11:45:19.665 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:45:19.665 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:19.666 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:45:19.666 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:45:19.667 +05:00 [INF] GetAll Topics
2025-02-06 11:45:19.668 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:45:19.669 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:45:19.670 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.7369ms
2025-02-06 11:45:19.670 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:45:19.670 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.8307ms
2025-02-06 11:45:24.205 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:45:24.205 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:24.205 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - 204 null null 0.4091ms
2025-02-06 11:45:24.208 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:45:24.208 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:24.208 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:45:24.208 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:45:24.210 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:45:24.211 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:45:24.211 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.0936ms
2025-02-06 11:45:24.211 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:45:24.212 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - 200 null application/json; charset=utf-8 3.9302ms
2025-02-06 11:45:33.246 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 11:45:33.246 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:33.246 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 204 null null 0.2745ms
2025-02-06 11:45:33.248 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 11:45:33.248 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:33.249 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:33.251 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:45:33.253 +05:00 [INF] RemoveAccess(TestId=7007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 11:45:33.254 +05:00 [INF] RemoveUserAccessAsync(TestId=7007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 11:45:33.261 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 11:45:33.282 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestAccesses]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 11:45:33.284 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:45:33.284 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 32.73ms
2025-02-06 11:45:33.284 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:33.284 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null text/plain; charset=utf-8 35.8514ms
2025-02-06 11:45:34.032 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 11:45:34.032 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:34.032 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 204 null null 0.2727ms
2025-02-06 11:45:34.034 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 11:45:34.034 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:34.034 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:34.034 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:45:34.035 +05:00 [INF] RemoveAccess(TestId=7007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:45:34.035 +05:00 [INF] RemoveUserAccessAsync(TestId=7007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:45:34.036 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 11:45:34.048 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestAccesses]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 11:45:34.048 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:45:34.049 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 14.2203ms
2025-02-06 11:45:34.049 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:34.049 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null text/plain; charset=utf-8 14.9997ms
2025-02-06 11:45:34.599 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 11:45:34.599 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:34.599 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.2807ms
2025-02-06 11:45:34.601 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 11:45:34.601 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:34.601 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:34.601 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:45:34.602 +05:00 [INF] RemoveAccess(TestId=7007, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:45:34.602 +05:00 [INF] RemoveUserAccessAsync(TestId=7007, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:45:34.602 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 11:45:34.614 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestAccesses]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 11:45:34.615 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:45:34.615 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 13.9864ms
2025-02-06 11:45:34.615 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:34.615 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null text/plain; charset=utf-8 14.5831ms
2025-02-06 11:45:35.851 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 11:45:35.852 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:35.852 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:35.852 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:45:35.853 +05:00 [INF] RemoveAccess(TestId=7007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 11:45:35.853 +05:00 [INF] RemoveUserAccessAsync(TestId=7007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 11:45:35.853 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 11:45:35.854 +05:00 [WRN] Не найден TestAccess для testId=7007, userId=0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-06 11:45:35.854 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:45:35.855 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 2.7325ms
2025-02-06 11:45:35.855 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:35.855 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null text/plain; charset=utf-8 3.398ms
2025-02-06 11:45:36.570 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 11:45:36.570 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:36.570 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:36.570 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:45:36.571 +05:00 [INF] RemoveAccess(TestId=7007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:45:36.571 +05:00 [INF] RemoveUserAccessAsync(TestId=7007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:45:36.572 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 11:45:36.573 +05:00 [WRN] Не найден TestAccess для testId=7007, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960
2025-02-06 11:45:36.573 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:45:36.573 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 2.9471ms
2025-02-06 11:45:36.573 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:36.574 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null text/plain; charset=utf-8 3.7314ms
2025-02-06 11:45:56.807 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 11:45:56.807 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:56.807 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 204 null null 0.3882ms
2025-02-06 11:45:56.809 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 11:45:56.809 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:45:56.809 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:56.809 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:45:56.811 +05:00 [INF] RemoveAccess(TestId=7007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 11:45:56.811 +05:00 [INF] RemoveUserAccessAsync(TestId=7007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 11:45:56.815 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 11:45:56.816 +05:00 [WRN] Не найден TestAccess для testId=7007, userId=0b2c8b40-ca96-446f-999f-1281c3589515
2025-02-06 11:45:56.816 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:45:56.818 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 8.6962ms
2025-02-06 11:45:56.818 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 11:45:56.820 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null text/plain; charset=utf-8 10.7481ms
2025-02-06 11:46:08.824 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:46:08.824 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:08.824 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7007 - 204 null null 0.3723ms
2025-02-06 11:46:08.825 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - null null
2025-02-06 11:46:08.825 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:08.825 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:46:08.826 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:46:08.827 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:46:08.828 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:46:08.828 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.3899ms
2025-02-06 11:46:08.828 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:46:08.828 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7007 - 200 null application/json; charset=utf-8 2.9418ms
2025-02-06 11:46:13.750 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null null
2025-02-06 11:46:13.750 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:13.750 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 204 null null 0.4044ms
2025-02-06 11:46:13.752 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - null 0
2025-02-06 11:46:13.752 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:13.753 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:46:13.753 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:46:13.753 +05:00 [INF] Вход в UpdateTest(Id=7007)
2025-02-06 11:46:13.753 +05:00 [INF] UpdateTestAsync(Id=7007, Name=Мат, Count=3)
2025-02-06 11:46:13.754 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 11:46:13.757 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 11:46:13.757 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 11:46:13.758 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 4.9603ms
2025-02-06 11:46:13.758 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:46:13.758 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/7007?newName=%D0%9C%D0%B0%D1%82&countOfQuestions=3&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 5.9391ms
2025-02-06 11:46:13.764 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:46:13.764 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:13.764 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4407ms
2025-02-06 11:46:13.767 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:46:13.767 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:13.767 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:13.767 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:46:13.768 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:46:13.768 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:46:13.769 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:46:13.771 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:46:13.771 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:46:13.771 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.649ms
2025-02-06 11:46:13.771 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:13.771 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.5226ms
2025-02-06 11:46:16.484 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:46:16.485 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:16.485 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 11:46:16.485 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:46:16.487 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 2.5802ms
2025-02-06 11:46:20.955 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 11:46:20.955 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:20.955 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.325ms
2025-02-06 11:46:20.958 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 11:46:20.959 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:20.959 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:46:20.959 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 11:46:20.960 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 11:46:20.962 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 11:46:21.015 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 11:46:21.015 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 11:46:21.015 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:46:21.015 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 56.3922ms
2025-02-06 11:46:21.015 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:46:21.016 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 57.4632ms
2025-02-06 11:46:21.041 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:46:21.041 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:21.041 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5498ms
2025-02-06 11:46:21.045 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:46:21.045 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:21.046 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:46:21.046 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:46:21.047 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:46:21.047 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:46:21.049 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:46:21.052 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:46:21.053 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:46:21.053 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.1698ms
2025-02-06 11:46:21.053 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:46:21.054 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.6ms
2025-02-06 11:46:22.214 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:46:22.214 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:22.214 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.51ms
2025-02-06 11:46:22.218 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:46:22.218 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:22.218 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:22.218 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:46:22.219 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:46:22.219 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:46:22.220 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:46:22.222 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:46:22.222 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:46:22.223 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.4852ms
2025-02-06 11:46:22.223 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:22.223 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.3092ms
2025-02-06 11:46:23.770 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:46:23.771 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:23.771 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4277ms
2025-02-06 11:46:23.773 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:46:23.773 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:23.774 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:23.774 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:46:23.774 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:46:23.774 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:46:23.775 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:46:23.777 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:46:23.777 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:46:23.777 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.3579ms
2025-02-06 11:46:23.777 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:23.777 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.2463ms
2025-02-06 11:46:26.601 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:46:26.601 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:26.601 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:26.601 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:46:26.602 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:46:26.602 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:46:26.603 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:46:26.605 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:46:26.606 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:46:26.606 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.5974ms
2025-02-06 11:46:26.606 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:26.606 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.3547ms
2025-02-06 11:46:30.986 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:46:30.986 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:30.987 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.7094ms
2025-02-06 11:46:30.992 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:46:30.992 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:30.992 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:46:30.993 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:46:30.994 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:46:30.994 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:46:30.995 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:46:30.997 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:46:30.999 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:46:31.000 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.9325ms
2025-02-06 11:46:31.000 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:46:31.000 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.5698ms
2025-02-06 11:46:39.796 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:46:39.796 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:39.797 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 11:46:39.797 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:46:39.797 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 1.1613ms
2025-02-06 11:46:56.523 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 11:46:56.524 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:56.524 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2865ms
2025-02-06 11:46:56.525 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 11:46:56.526 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:56.526 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:46:56.526 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 11:46:56.526 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 11:46:56.528 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 11:46:56.583 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 11:46:56.586 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 11:46:56.586 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:46:56.587 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 61.3251ms
2025-02-06 11:46:56.587 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:46:56.587 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 61.9985ms
2025-02-06 11:46:56.602 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:46:56.603 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:56.603 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5817ms
2025-02-06 11:46:56.607 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:46:56.607 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:56.607 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:46:56.607 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:46:56.608 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:46:56.608 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:46:56.610 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:46:56.612 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:46:56.614 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:46:56.614 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.0469ms
2025-02-06 11:46:56.614 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:46:56.615 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.0614ms
2025-02-06 11:46:59.700 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:46:59.701 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:59.701 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3656ms
2025-02-06 11:46:59.703 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:46:59.703 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:46:59.704 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:59.704 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:46:59.705 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:46:59.705 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:46:59.706 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:46:59.708 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:46:59.708 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:46:59.709 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.769ms
2025-02-06 11:46:59.709 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:46:59.709 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8111ms
2025-02-06 11:47:02.195 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:47:02.195 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:02.195 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.5002ms
2025-02-06 11:47:02.198 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:47:02.198 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:02.198 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:02.198 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:47:02.199 +05:00 [INF] GetAll Topics
2025-02-06 11:47:02.200 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:47:02.201 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:02.201 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8302ms
2025-02-06 11:47:02.201 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:02.201 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.7369ms
2025-02-06 11:47:23.135 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=true&topicId=1 - null null
2025-02-06 11:47:23.136 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:23.136 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=true&topicId=1 - 204 null null 0.3939ms
2025-02-06 11:47:23.138 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=true&topicId=1 - null 0
2025-02-06 11:47:23.138 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:23.138 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 11:47:23.138 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:47:23.139 +05:00 [INF] Вход в CreateTemplate: Мат 2, count=3, topic=1, isPrivate=true
2025-02-06 11:47:23.139 +05:00 [INF] CreateTemplateAsync(Name=Мат 2, count=3, topic=1, isPrivate=true)
2025-02-06 11:47:23.152 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 11:47:23.156 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 11:47:23.156 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 17.4469ms
2025-02-06 11:47:23.156 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 11:47:23.156 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 18.1929ms
2025-02-06 11:47:23.162 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:47:23.162 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:23.163 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3457ms
2025-02-06 11:47:23.164 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:47:23.164 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:23.164 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:47:23.165 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:47:23.165 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:47:23.166 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:47:23.168 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:47:23.172 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:47:23.173 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:23.173 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.2274ms
2025-02-06 11:47:23.173 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:47:23.173 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.0708ms
2025-02-06 11:47:25.854 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:47:25.854 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:25.854 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3359ms
2025-02-06 11:47:25.856 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:47:25.857 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:25.857 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:47:25.857 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:47:25.858 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:47:25.858 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:47:25.859 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:47:25.860 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:47:25.861 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:25.861 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.1563ms
2025-02-06 11:47:25.861 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:47:25.862 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 5.147ms
2025-02-06 11:47:30.487 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7007 - null null
2025-02-06 11:47:30.487 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:30.487 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7007 - 204 null null 0.4018ms
2025-02-06 11:47:30.489 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/7007 - null null
2025-02-06 11:47:30.490 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:30.490 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 11:47:30.494 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:47:30.497 +05:00 [INF] Вход в DeleteTest(Id=7007)
2025-02-06 11:47:30.498 +05:00 [INF] DeleteTestAsync(Id=7007)
2025-02-06 11:47:30.501 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 11:47:30.547 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 11:47:30.548 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 11:47:30.548 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 53.4811ms
2025-02-06 11:47:30.548 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 11:47:30.548 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/7007 - 204 null null 59.0617ms
2025-02-06 11:47:30.554 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:47:30.555 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:30.555 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:47:30.555 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:47:30.556 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:47:30.556 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:47:30.557 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:47:30.558 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:47:30.559 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:30.559 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9727ms
2025-02-06 11:47:30.559 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:47:30.559 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.7647ms
2025-02-06 11:47:34.319 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:47:34.319 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:34.319 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.34ms
2025-02-06 11:47:34.323 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:47:34.323 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:34.323 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:34.323 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:47:34.324 +05:00 [INF] GetAll Topics
2025-02-06 11:47:34.325 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:47:34.326 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:34.326 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.7729ms
2025-02-06 11:47:34.326 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:34.326 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.6095ms
2025-02-06 11:47:36.590 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7008 - null null
2025-02-06 11:47:36.590 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:36.590 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7008 - 204 null null 0.2548ms
2025-02-06 11:47:36.592 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7008 - null null
2025-02-06 11:47:36.592 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:36.592 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:47:36.592 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:47:36.594 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:47:36.594 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:47:36.595 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.5948ms
2025-02-06 11:47:36.595 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:47:36.595 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7008 - 200 null application/json; charset=utf-8 3.1526ms
2025-02-06 11:47:40.381 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 11:47:40.382 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:40.382 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.4861ms
2025-02-06 11:47:40.384 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 11:47:40.384 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:40.385 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:40.385 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:47:40.386 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:47:40.386 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:40.386 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.7711ms
2025-02-06 11:47:40.386 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:40.387 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 2.446ms
2025-02-06 11:47:40.571 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:47:40.571 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:40.571 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 0.3406ms
2025-02-06 11:47:40.573 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:47:40.573 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:40.573 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:40.573 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:47:40.575 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:47:40.575 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:40.575 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.6385ms
2025-02-06 11:47:40.575 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:40.575 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 2.1579ms
2025-02-06 11:47:40.698 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:47:40.698 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:40.699 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - 204 null null 0.4257ms
2025-02-06 11:47:40.701 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zha - null null
2025-02-06 11:47:40.701 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:40.701 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:40.701 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:47:40.702 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:47:40.703 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:40.703 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.6288ms
2025-02-06 11:47:40.703 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:40.703 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zha - 200 null application/json; charset=utf-8 2.2308ms
2025-02-06 11:47:42.716 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7008&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 11:47:42.716 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:42.716 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7008&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.3717ms
2025-02-06 11:47:42.718 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7008&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 11:47:42.718 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:42.718 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:47:42.718 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:47:42.719 +05:00 [INF] AddAccess(TestId=7008, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:47:42.719 +05:00 [INF] AddUserAccessAsync(TestId=7008, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:47:42.720 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 11:47:42.732 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 11:47:42.732 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:47:42.732 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.3619ms
2025-02-06 11:47:42.732 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:47:42.733 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7008&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null text/plain; charset=utf-8 14.9199ms
2025-02-06 11:47:59.889 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:47:59.890 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:59.891 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 1.2018ms
2025-02-06 11:47:59.894 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 11:47:59.895 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:59.895 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:59.895 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:47:59.897 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:47:59.897 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:59.898 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.7728ms
2025-02-06 11:47:59.898 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:59.898 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 3.592ms
2025-02-06 11:47:59.983 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 11:47:59.984 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:59.984 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.6617ms
2025-02-06 11:47:59.986 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 11:47:59.986 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:47:59.987 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:59.987 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:47:59.988 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:47:59.988 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:47:59.988 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.6039ms
2025-02-06 11:47:59.988 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:47:59.988 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 2.2839ms
2025-02-06 11:48:03.086 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7008 - null null
2025-02-06 11:48:03.087 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:03.087 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7008 - 204 null null 0.2665ms
2025-02-06 11:48:03.088 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7008 - null null
2025-02-06 11:48:03.088 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:03.088 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:48:03.088 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:48:03.090 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:48:03.091 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:48:03.091 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.415ms
2025-02-06 11:48:03.091 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:48:03.091 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7008 - 200 null application/json; charset=utf-8 2.9261ms
2025-02-06 11:48:12.747 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 11:48:12.747 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:12.747 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.3628ms
2025-02-06 11:48:12.749 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 11:48:12.750 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:12.750 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:48:12.750 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:48:12.751 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:48:12.752 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:48:12.752 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1196ms
2025-02-06 11:48:12.752 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:48:12.752 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 2.8155ms
2025-02-06 11:48:13.812 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - null null
2025-02-06 11:48:13.812 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:13.812 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - 204 null null 0.3662ms
2025-02-06 11:48:13.814 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 11:48:13.814 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:13.814 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:48:13.814 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:48:13.816 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:48:13.816 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:48:13.816 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.7571ms
2025-02-06 11:48:13.816 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:48:13.816 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 2.3137ms
2025-02-06 11:48:16.435 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7008&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 11:48:16.435 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:16.436 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7008&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 204 null null 0.372ms
2025-02-06 11:48:16.438 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7008&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - application/json 2
2025-02-06 11:48:16.438 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:16.438 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:48:16.438 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:48:16.439 +05:00 [INF] AddAccess(TestId=7008, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:48:16.439 +05:00 [INF] AddUserAccessAsync(TestId=7008, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:48:16.440 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 11:48:16.442 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 11:48:16.442 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:48:16.442 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 4.3511ms
2025-02-06 11:48:16.442 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:48:16.443 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7008&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null text/plain; charset=utf-8 5.0987ms
2025-02-06 11:48:30.830 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7008 - null null
2025-02-06 11:48:30.830 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:30.831 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7008 - 204 null null 0.6372ms
2025-02-06 11:48:30.832 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7008 - null null
2025-02-06 11:48:30.833 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:30.833 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:48:30.833 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:48:30.834 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:48:30.835 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:48:30.835 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.4932ms
2025-02-06 11:48:30.835 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:48:30.835 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7008 - 200 null application/json; charset=utf-8 3.0393ms
2025-02-06 11:48:35.431 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7008?newName=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=true&topicId=1 - null null
2025-02-06 11:48:35.431 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:35.431 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7008?newName=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=true&topicId=1 - 204 null null 0.4018ms
2025-02-06 11:48:35.433 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/7008?newName=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=true&topicId=1 - null 0
2025-02-06 11:48:35.433 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:35.434 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:48:35.434 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:48:35.435 +05:00 [INF] Вход в UpdateTest(Id=7008)
2025-02-06 11:48:35.435 +05:00 [INF] UpdateTestAsync(Id=7008, Name=Мат 2, Count=3)
2025-02-06 11:48:35.436 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 11:48:35.449 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 11:48:35.450 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 11:48:35.450 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 16.4468ms
2025-02-06 11:48:35.450 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 11:48:35.450 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/7008?newName=%D0%9C%D0%B0%D1%82%202&countOfQuestions=3&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 17.1168ms
2025-02-06 11:48:35.456 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:48:35.456 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:35.456 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3837ms
2025-02-06 11:48:35.458 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:48:35.458 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:35.458 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:48:35.458 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:48:35.459 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:48:35.459 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:48:35.460 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:48:35.461 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:48:35.461 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:48:35.462 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.1984ms
2025-02-06 11:48:35.462 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:48:35.462 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 3.8099ms
2025-02-06 11:48:37.089 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:48:37.090 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:37.090 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3ms
2025-02-06 11:48:37.093 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:48:37.094 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:37.094 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:48:37.094 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:48:37.095 +05:00 [INF] GetAll Topics
2025-02-06 11:48:37.095 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:48:37.096 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:48:37.097 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.4723ms
2025-02-06 11:48:37.097 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:48:37.097 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.3421ms
2025-02-06 11:48:50.923 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:48:50.924 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:48:50.925 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 11:48:50.925 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:48:50.925 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.7536ms
2025-02-06 11:49:05.533 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 11:49:05.533 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:05.534 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.4105ms
2025-02-06 11:49:05.537 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 11:49:05.537 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:05.537 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:49:05.537 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 11:49:05.538 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 11:49:05.539 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 11:49:05.592 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 11:49:05.593 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 11:49:05.593 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:49:05.593 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 55.7868ms
2025-02-06 11:49:05.593 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:49:05.593 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 56.3285ms
2025-02-06 11:49:05.610 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:05.610 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:05.610 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4283ms
2025-02-06 11:49:05.614 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:05.615 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:05.615 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:05.615 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:05.617 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:49:05.617 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:49:05.619 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:05.621 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:05.623 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:05.623 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.8935ms
2025-02-06 11:49:05.623 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:05.624 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.435ms
2025-02-06 11:49:08.212 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:49:08.212 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:08.213 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5686ms
2025-02-06 11:49:08.216 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:49:08.216 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:08.217 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:49:08.217 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:49:08.218 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:49:08.218 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:49:08.219 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:49:08.221 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:49:08.221 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:08.222 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.88ms
2025-02-06 11:49:08.222 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:49:08.222 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8699ms
2025-02-06 11:49:10.355 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:49:10.355 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:10.355 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.309ms
2025-02-06 11:49:10.356 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:49:10.357 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:10.357 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:49:10.357 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:49:10.358 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:49:10.358 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:49:10.359 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:49:10.361 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:49:10.361 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:10.361 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.5827ms
2025-02-06 11:49:10.361 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:49:10.362 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 5.1535ms
2025-02-06 11:49:18.155 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/7008 - null null
2025-02-06 11:49:18.155 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:18.156 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/7008 - 204 null null 0.3729ms
2025-02-06 11:49:18.161 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/7008 - application/json 2
2025-02-06 11:49:18.161 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:18.162 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 11:49:18.162 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 11:49:18.164 +05:00 [INF] Вход в StartTest(TestId=7008)
2025-02-06 11:49:18.164 +05:00 [INF] StartTestAsync(TestId=7008, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 11:49:18.165 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 11:49:18.168 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 11:49:18.182 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 11:49:18.184 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 11:49:18.185 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 11:49:18.187 +05:00 [INF] Тест успешно создан: UserTestId=9013
2025-02-06 11:49:18.189 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 11:49:18.190 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 27.4561ms
2025-02-06 11:49:18.190 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 11:49:18.190 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/7008 - 200 null application/json; charset=utf-8 29.253ms
2025-02-06 11:49:24.856 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/9013/save - null null
2025-02-06 11:49:24.856 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:24.856 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/9013/save - 204 null null 0.3052ms
2025-02-06 11:49:24.859 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/9013/save - application/json 184
2025-02-06 11:49:24.859 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:24.859 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 11:49:24.859 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 11:49:24.862 +05:00 [INF] Вход в SaveAnswers(UserTestId=9013), Count=3
2025-02-06 11:49:24.862 +05:00 [INF] SaveAnswersAsync(UserTestId=9013, CountAnswers=3)
2025-02-06 11:49:24.863 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 11:49:24.877 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 11:49:24.877 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:49:24.877 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 18.0338ms
2025-02-06 11:49:24.877 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 11:49:24.877 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/9013/save - 200 null application/json; charset=utf-8 18.6468ms
2025-02-06 11:49:24.883 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/9013/check - null null
2025-02-06 11:49:24.883 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:24.883 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/9013/check - 204 null null 0.2767ms
2025-02-06 11:49:24.885 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/9013/check - null null
2025-02-06 11:49:24.885 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:24.885 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 11:49:24.886 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 11:49:24.886 +05:00 [INF] Вход в CheckAnswers(UserTestId=9013)
2025-02-06 11:49:24.886 +05:00 [INF] CheckAnswersAsync(UserTestId=9013)
2025-02-06 11:49:24.888 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 11:49:24.889 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 11:49:24.890 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 11:49:24.890 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 4.177ms
2025-02-06 11:49:24.890 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 11:49:24.890 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/9013/check - 200 null application/json; charset=utf-8 4.8795ms
2025-02-06 11:49:26.762 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:49:26.762 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:26.763 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5006ms
2025-02-06 11:49:26.768 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:49:26.768 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:26.768 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:49:26.768 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:49:26.769 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:49:26.769 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:49:26.770 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:49:26.772 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:49:26.773 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:26.773 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.0824ms
2025-02-06 11:49:26.773 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:49:26.774 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8582ms
2025-02-06 11:49:30.040 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:30.040 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:30.040 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3776ms
2025-02-06 11:49:30.043 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:30.043 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:30.044 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:30.044 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:30.045 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:49:30.045 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:49:30.046 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:30.049 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:30.050 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:30.051 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.5071ms
2025-02-06 11:49:30.051 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:30.051 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.8006ms
2025-02-06 11:49:32.807 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 11:49:32.807 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:32.807 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - 204 null null 0.3173ms
2025-02-06 11:49:32.809 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 11:49:32.810 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:32.810 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:32.810 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:32.811 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=2, pageSize=5
2025-02-06 11:49:32.811 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=2, pageSize=5)
2025-02-06 11:49:32.812 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:32.833 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:32.835 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:32.836 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 25.5345ms
2025-02-06 11:49:32.836 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:32.836 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - 200 null application/json; charset=utf-8 26.5258ms
2025-02-06 11:49:33.197 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 11:49:33.197 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:33.198 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.5077ms
2025-02-06 11:49:33.200 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 11:49:33.200 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:33.200 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:33.200 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:33.201 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 11:49:33.201 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 11:49:33.202 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:33.203 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:33.204 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:33.204 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.9302ms
2025-02-06 11:49:33.204 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:33.204 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.6085ms
2025-02-06 11:49:34.931 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 11:49:34.931 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:34.932 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:34.932 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:34.933 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=2, pageSize=5
2025-02-06 11:49:34.933 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=2, pageSize=5)
2025-02-06 11:49:34.934 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:34.935 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:34.936 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:34.936 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.0955ms
2025-02-06 11:49:34.936 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:34.936 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - 200 null application/json; charset=utf-8 5.0582ms
2025-02-06 11:49:36.929 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 11:49:36.929 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:36.930 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:36.930 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:36.930 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 11:49:36.930 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 11:49:36.931 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:36.933 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:36.933 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:36.934 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.818ms
2025-02-06 11:49:36.934 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:36.934 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.7334ms
2025-02-06 11:49:38.102 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 11:49:38.103 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:38.103 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - 204 null null 0.3461ms
2025-02-06 11:49:38.104 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 11:49:38.104 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:38.104 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:38.104 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:38.105 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=2, pageSize=5
2025-02-06 11:49:38.105 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=2, pageSize=5)
2025-02-06 11:49:38.106 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:38.107 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:38.108 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:38.108 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.7566ms
2025-02-06 11:49:38.108 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:38.109 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.317ms
2025-02-06 11:49:39.453 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:39.453 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:39.453 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3426ms
2025-02-06 11:49:39.455 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:39.455 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:39.455 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:39.455 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:39.456 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:49:39.456 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:49:39.457 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:39.459 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:39.459 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:39.460 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.561ms
2025-02-06 11:49:39.460 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:39.460 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.1312ms
2025-02-06 11:49:46.048 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - null null
2025-02-06 11:49:46.048 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:46.048 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - 204 null null 0.5391ms
2025-02-06 11:49:46.063 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - null null
2025-02-06 11:49:46.063 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:46.063 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 11:49:46.066 +05:00 [INF] Route matched with {action = "GetAllByUserEmail", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllByUserEmail(System.String, Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 11:49:46.068 +05:00 [INF] Вход в GetAllByUserEmail: d, page=1, size=5
2025-02-06 11:49:46.075 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [a].[Email] = @__email_0
2025-02-06 11:49:46.083 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 11:49:46.140 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[DateRegistered], [s].[Email], [s].[EmailConfirmed], [s].[FullName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserTests] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
    WHERE [a].[Email] = @__email_0
    ORDER BY [u].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tests] AS [t] ON [s].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [t].[Id], [t0].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 11:49:46.154 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:46.158 +05:00 [INF] Executed action UserTestsController.GetAllByUserEmail (QuizMasterAPI) in 91.7322ms
2025-02-06 11:49:46.158 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 11:49:46.158 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - 200 null application/json; charset=utf-8 95.475ms
2025-02-06 11:49:56.110 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:56.111 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:56.111 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.9102ms
2025-02-06 11:49:56.116 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:56.116 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:56.116 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:56.116 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:56.117 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:49:56.117 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:49:56.118 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:56.120 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:56.121 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:56.122 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.381ms
2025-02-06 11:49:56.122 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:56.122 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.14ms
2025-02-06 11:49:57.449 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - null null
2025-02-06 11:49:57.449 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:57.449 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - 204 null null 0.4743ms
2025-02-06 11:49:57.454 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - null null
2025-02-06 11:49:57.454 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:57.455 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 11:49:57.455 +05:00 [INF] Route matched with {action = "GetAllByUserEmail", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllByUserEmail(System.String, Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 11:49:57.456 +05:00 [INF] Вход в GetAllByUserEmail: d, page=1, size=5
2025-02-06 11:49:57.457 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [a].[Email] = @__email_0
2025-02-06 11:49:57.460 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[DateRegistered], [s].[Email], [s].[EmailConfirmed], [s].[FullName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserTests] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
    WHERE [a].[Email] = @__email_0
    ORDER BY [u].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tests] AS [t] ON [s].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [t].[Id], [t0].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 11:49:57.462 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:57.463 +05:00 [INF] Executed action UserTestsController.GetAllByUserEmail (QuizMasterAPI) in 7.8525ms
2025-02-06 11:49:57.463 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 11:49:57.463 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.6991ms
2025-02-06 11:49:58.246 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:49:58.246 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:58.247 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:58.247 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:49:58.248 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:49:58.248 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:49:58.250 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:49:58.251 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:49:58.252 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:58.252 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.9672ms
2025-02-06 11:49:58.252 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:49:58.252 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.3997ms
2025-02-06 11:49:59.131 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:49:59.131 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:59.131 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5296ms
2025-02-06 11:49:59.135 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:49:59.135 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:49:59.135 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:49:59.135 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:49:59.136 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:49:59.136 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 11:49:59.137 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 11:49:59.140 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 11:49:59.140 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:49:59.141 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.1972ms
2025-02-06 11:49:59.141 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:49:59.141 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.995ms
2025-02-06 11:50:01.538 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:50:01.538 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:01.539 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.1859ms
2025-02-06 11:50:01.543 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:50:01.543 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:01.544 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:50:01.544 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:50:01.545 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:50:01.545 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:50:01.546 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:50:01.548 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:50:01.548 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:01.549 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.8794ms
2025-02-06 11:50:01.549 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:50:01.549 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8733ms
2025-02-06 11:50:03.421 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:50:03.422 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:03.422 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 11:50:03.422 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 11:50:03.423 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 1.1937ms
2025-02-06 11:50:11.687 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 11:50:11.687 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:11.687 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.3265ms
2025-02-06 11:50:11.689 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 11:50:11.689 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:11.689 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:50:11.689 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 11:50:11.690 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 11:50:11.692 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 11:50:11.748 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 11:50:11.748 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 11:50:11.748 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:50:11.748 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 58.9061ms
2025-02-06 11:50:11.748 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 11:50:11.748 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 59.5345ms
2025-02-06 11:50:11.765 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:50:11.765 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:11.765 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.6062ms
2025-02-06 11:50:11.768 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 11:50:11.768 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:11.768 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:50:11.768 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 11:50:11.770 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 11:50:11.770 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 11:50:11.771 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 11:50:11.773 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 11:50:11.774 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:11.775 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.5977ms
2025-02-06 11:50:11.775 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 11:50:11.775 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.6279ms
2025-02-06 11:50:13.923 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:50:13.923 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:13.924 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3326ms
2025-02-06 11:50:13.926 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:50:13.926 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:13.927 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:50:13.927 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:50:13.929 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:50:13.929 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:50:13.930 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:50:13.932 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:50:13.932 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:13.933 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.383ms
2025-02-06 11:50:13.933 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:50:13.933 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.4799ms
2025-02-06 11:50:14.629 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:50:14.629 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:14.629 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2817ms
2025-02-06 11:50:14.632 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:50:14.632 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:14.632 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:50:14.632 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:50:14.633 +05:00 [INF] GetAll Topics
2025-02-06 11:50:14.634 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:50:14.635 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:14.635 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.7046ms
2025-02-06 11:50:14.635 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:50:14.635 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.4117ms
2025-02-06 11:50:44.339 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - null null
2025-02-06 11:50:44.339 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:44.339 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - 204 null null 0.4038ms
2025-02-06 11:50:44.342 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - null 0
2025-02-06 11:50:44.342 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:44.343 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 11:50:44.343 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:50:44.344 +05:00 [INF] Вход в CreateTemplate: Мат 3, count=1, topic=1, isPrivate=true
2025-02-06 11:50:44.344 +05:00 [INF] CreateTemplateAsync(Name=Мат 3, count=1, topic=1, isPrivate=true)
2025-02-06 11:50:44.356 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 11:50:44.361 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 11:50:44.361 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 18.5011ms
2025-02-06 11:50:44.361 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 11:50:44.362 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 19.2826ms
2025-02-06 11:50:44.368 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:50:44.368 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:44.368 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4565ms
2025-02-06 11:50:44.370 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 11:50:44.371 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:44.371 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:50:44.371 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:50:44.372 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 11:50:44.372 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:50:44.373 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:50:44.378 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:50:44.379 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:44.379 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.6569ms
2025-02-06 11:50:44.379 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:50:44.379 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.4995ms
2025-02-06 11:50:45.902 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:50:45.902 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:45.902 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3255ms
2025-02-06 11:50:45.904 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 11:50:45.904 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:45.904 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:50:45.904 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 11:50:45.905 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 11:50:45.906 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 11:50:45.906 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 11:50:45.908 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 11:50:45.909 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:45.909 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.1763ms
2025-02-06 11:50:45.909 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 11:50:45.909 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.9669ms
2025-02-06 11:50:48.296 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 11:50:48.296 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:48.296 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.455ms
2025-02-06 11:50:48.299 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 11:50:48.300 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:48.300 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:50:48.300 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 11:50:48.301 +05:00 [INF] GetAll Topics
2025-02-06 11:50:48.302 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 11:50:48.304 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:48.304 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.5117ms
2025-02-06 11:50:48.304 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 11:50:48.304 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.7211ms
2025-02-06 11:50:51.279 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 11:50:51.279 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:51.279 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - 204 null null 0.3581ms
2025-02-06 11:50:51.281 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 11:50:51.281 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:51.281 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:50:51.281 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:50:51.282 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:50:51.283 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:50:51.283 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.4278ms
2025-02-06 11:50:51.284 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:50:51.284 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - 200 null application/json; charset=utf-8 2.9979ms
2025-02-06 11:50:54.865 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=h - null null
2025-02-06 11:50:54.866 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:54.866 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=h - 204 null null 0.4414ms
2025-02-06 11:50:54.868 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=h - null null
2025-02-06 11:50:54.868 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:54.868 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:50:54.868 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:50:54.870 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:50:54.870 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:54.870 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.5531ms
2025-02-06 11:50:54.870 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:50:54.870 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=h - 200 null application/json; charset=utf-8 2.1076ms
2025-02-06 11:50:55.047 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=ha - null null
2025-02-06 11:50:55.047 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:55.047 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=ha - 204 null null 0.4535ms
2025-02-06 11:50:55.049 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=ha - null null
2025-02-06 11:50:55.049 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:55.049 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:50:55.049 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 11:50:55.051 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id], [a].[Email], [a].[FullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 11:50:55.051 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 11:50:55.051 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.542ms
2025-02-06 11:50:55.051 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 11:50:55.051 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=ha - 200 null application/json; charset=utf-8 2.0686ms
2025-02-06 11:50:58.169 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 11:50:58.169 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:58.169 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.3607ms
2025-02-06 11:50:58.173 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 11:50:58.173 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:50:58.173 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:50:58.173 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:50:58.174 +05:00 [INF] AddAccess(TestId=7009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:50:58.174 +05:00 [INF] AddUserAccessAsync(TestId=7009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 11:50:58.175 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 11:50:58.189 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 11:50:58.189 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-02-06 11:50:58.190 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 16.2727ms
2025-02-06 11:50:58.190 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 11:50:58.190 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null text/plain; charset=utf-8 17.0314ms
2025-02-06 11:51:02.131 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 11:51:02.132 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:51:02.132 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - 204 null null 0.3046ms
2025-02-06 11:51:02.134 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 11:51:02.135 +05:00 [INF] CORS policy execution successful.
2025-02-06 11:51:02.135 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:51:02.135 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[System.String]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 11:51:02.136 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 11:51:02.137 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 11:51:02.137 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.4576ms
2025-02-06 11:51:02.137 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 11:51:02.137 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - 200 null application/json; charset=utf-8 3.0836ms
2025-02-06 12:09:11.938 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 12:09:11.949 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 11.0868ms
2025-02-06 12:09:12.000 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 12:09:12.000 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.6427ms
2025-02-06 12:09:12.001 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 12:09:12.011 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.197ms
2025-02-06 12:09:12.086 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 12:09:12.099 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.0385ms
2025-02-06 12:10:47.187 +05:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 12:10:47.264 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 12:10:47.366 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 12:10:47.514 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 12:10:47.593 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 12:10:47.594 +05:00 [INF] Hosting environment: Development
2025-02-06 12:10:47.594 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 12:10:47.693 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 190.7871ms
2025-02-06 12:10:47.707 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 12:10:47.717 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 6.1922ms
2025-02-06 12:10:47.750 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 12:10:47.780 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.8944ms
2025-02-06 12:10:47.825 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 12:10:47.857 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.135ms
2025-02-06 12:11:04.874 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:11:04.887 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:04.889 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 16.1033ms
2025-02-06 12:11:04.892 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:11:04.895 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:05.025 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:11:05.044 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:11:05.184 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:11:05.186 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:11:05.222 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:11:05.276 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:11:05.322 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:05.335 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 286.578ms
2025-02-06 12:11:05.335 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:11:05.339 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 447.1326ms
2025-02-06 12:11:08.706 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:11:08.708 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:08.712 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:11:08.719 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:11:08.721 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 15.7251ms
2025-02-06 12:11:11.488 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:11:11.489 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:11.489 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 1.1334ms
2025-02-06 12:11:11.491 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 12:11:11.492 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:11.493 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:11:11.496 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:11:11.518 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 12:11:11.536 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:11:11.631 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:11:11.637 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 12:11:11.638 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:11:11.640 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 143.7389ms
2025-02-06 12:11:11.640 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:11:11.643 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 150.2416ms
2025-02-06 12:11:11.657 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:11:11.657 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:11.657 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.7398ms
2025-02-06 12:11:11.662 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:11:11.662 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:11.665 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:11:11.668 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:11:11.672 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:11:11.673 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:11:11.679 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:11:11.720 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:11:11.741 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:11.745 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 76.4946ms
2025-02-06 12:11:11.745 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:11:11.745 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 83.3691ms
2025-02-06 12:11:14.475 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:11:14.476 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:14.477 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 1.4291ms
2025-02-06 12:11:14.481 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:11:14.481 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:14.482 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:11:14.482 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:11:14.484 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:11:14.484 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:11:14.487 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:11:14.489 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:11:14.490 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:14.490 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.5074ms
2025-02-06 12:11:14.490 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:11:14.491 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.1725ms
2025-02-06 12:11:16.067 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:11:16.067 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:16.068 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.8575ms
2025-02-06 12:11:16.070 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:11:16.070 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:16.071 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:16.073 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:11:16.075 +05:00 [INF] GetAll Topics
2025-02-06 12:11:16.093 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:11:16.098 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:16.099 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 25.673ms
2025-02-06 12:11:16.099 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:16.099 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 29.4754ms
2025-02-06 12:11:49.464 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%204&countOfQuestions=5&isPrivate=true&topicId=1 - null null
2025-02-06 12:11:49.465 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:49.465 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%204&countOfQuestions=5&isPrivate=true&topicId=1 - 204 null null 0.978ms
2025-02-06 12:11:49.469 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%204&countOfQuestions=5&isPrivate=true&topicId=1 - null 0
2025-02-06 12:11:49.470 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:49.472 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:11:49.475 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:11:49.484 +05:00 [INF] Вход в CreateTemplate: Мат 4, count=5, topic=1, isPrivate=true
2025-02-06 12:11:49.484 +05:00 [INF] CreateTemplateAsync(Name=Мат 4, count=5, topic=1, isPrivate=true)
2025-02-06 12:11:49.588 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:11:49.612 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:11:49.613 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 138.4259ms
2025-02-06 12:11:49.613 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:11:49.613 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%204&countOfQuestions=5&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 144.336ms
2025-02-06 12:11:49.617 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:11:49.617 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:49.618 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:11:49.618 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.6965ms
2025-02-06 12:11:49.618 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:49.618 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - 204 null null 0.6289ms
2025-02-06 12:11:49.620 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:11:49.621 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:49.621 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:11:49.621 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:11:49.621 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:11:49.622 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:49.622 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:11:49.623 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:11:49.623 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:11:49.625 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:11:49.630 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:11:49.631 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:11:49.632 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:49.632 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 11.1317ms
2025-02-06 12:11:49.633 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:11:49.633 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 12.7133ms
2025-02-06 12:11:49.647 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:11:49.650 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:49.652 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 21.4916ms
2025-02-06 12:11:49.652 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:11:49.652 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - 200 null application/json; charset=utf-8 30.8563ms
2025-02-06 12:11:54.316 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 12:11:54.316 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:54.317 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.8205ms
2025-02-06 12:11:54.318 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 12:11:54.319 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:54.319 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:54.320 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:11:54.327 +05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-06 12:11:54.340 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:11:54.342 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:54.343 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 22.873ms
2025-02-06 12:11:54.343 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:54.343 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 24.9297ms
2025-02-06 12:11:54.370 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:11:54.371 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:54.371 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 0.5468ms
2025-02-06 12:11:54.372 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:11:54.372 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:54.373 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:54.373 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:11:54.375 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:11:54.375 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:54.376 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.8111ms
2025-02-06 12:11:54.376 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:54.376 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 3.6685ms
2025-02-06 12:11:54.499 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - null null
2025-02-06 12:11:54.499 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:54.499 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - 204 null null 0.434ms
2025-02-06 12:11:54.501 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zha - null null
2025-02-06 12:11:54.501 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:54.501 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:54.501 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:11:54.503 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:11:54.503 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:54.504 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1927ms
2025-02-06 12:11:54.504 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:54.504 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zha - 200 null application/json; charset=utf-8 3.1814ms
2025-02-06 12:11:56.318 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 12:11:56.318 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:56.318 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.7772ms
2025-02-06 12:11:56.320 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 12:11:56.320 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:56.320 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:11:56.323 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:11:56.325 +05:00 [INF] AddAccess(TestId=8007, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:11:56.326 +05:00 [INF] AddUserAccessAsync(TestId=8007, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:11:56.353 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:11:56.363 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:11:56.366 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:11:56.367 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 43.2905ms
2025-02-06 12:11:56.367 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:11:56.367 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8007&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 46.8872ms
2025-02-06 12:11:56.370 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:11:56.370 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:56.370 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - 204 null null 0.2962ms
2025-02-06 12:11:56.371 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:11:56.371 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:56.371 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:11:56.371 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:11:56.375 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:11:56.391 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:11:56.391 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:56.392 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 20.6237ms
2025-02-06 12:11:56.392 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:11:56.392 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - 200 null application/json; charset=utf-8 21.4567ms
2025-02-06 12:11:58.360 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:11:58.360 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:58.360 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:58.361 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:11:58.363 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:11:58.363 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:58.363 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.5701ms
2025-02-06 12:11:58.363 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:58.363 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 3.8407ms
2025-02-06 12:11:58.499 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 12:11:58.499 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:58.500 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:58.500 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:11:58.501 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:11:58.502 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:58.502 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.3298ms
2025-02-06 12:11:58.502 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:58.502 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 3.49ms
2025-02-06 12:11:59.149 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - null null
2025-02-06 12:11:59.149 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:59.150 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - 204 null null 0.4998ms
2025-02-06 12:11:59.151 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 12:11:59.151 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:11:59.152 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:59.152 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:11:59.153 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:11:59.154 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:11:59.154 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.126ms
2025-02-06 12:11:59.154 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:11:59.154 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 3.1139ms
2025-02-06 12:12:00.970 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 12:12:00.971 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:00.971 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 204 null null 0.5604ms
2025-02-06 12:12:00.972 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - application/json 2
2025-02-06 12:12:00.973 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:00.973 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:12:00.973 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:00.974 +05:00 [INF] AddAccess(TestId=8007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:12:00.974 +05:00 [INF] AddUserAccessAsync(TestId=8007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:12:00.976 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:12:00.989 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:12:00.989 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:12:00.990 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 16.5433ms
2025-02-06 12:12:00.990 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:12:00.990 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null application/json; charset=utf-8 17.9269ms
2025-02-06 12:12:00.994 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:00.994 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:00.995 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:00.995 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:00.997 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:12:01.000 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:01.001 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:01.001 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:01.001 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 6.6362ms
2025-02-06 12:12:01.001 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:01.002 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - 200 null application/json; charset=utf-8 7.6874ms
2025-02-06 12:12:02.905 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 12:12:02.905 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:02.905 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.3945ms
2025-02-06 12:12:02.907 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 12:12:02.907 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:02.907 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:02.907 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:02.909 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:02.909 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:02.909 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.095ms
2025-02-06 12:12:02.909 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:02.909 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 2.929ms
2025-02-06 12:12:03.111 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=ad - null null
2025-02-06 12:12:03.111 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:03.111 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=ad - 204 null null 0.4155ms
2025-02-06 12:12:03.113 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=ad - null null
2025-02-06 12:12:03.113 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:03.113 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:03.113 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:03.115 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:03.115 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:03.116 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.4922ms
2025-02-06 12:12:03.116 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:03.116 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=ad - 200 null application/json; charset=utf-8 3.3172ms
2025-02-06 12:12:03.449 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=adm - null null
2025-02-06 12:12:03.450 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:03.450 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=adm - 204 null null 0.7257ms
2025-02-06 12:12:03.452 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=adm - null null
2025-02-06 12:12:03.452 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:03.452 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:03.452 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:03.454 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:03.455 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:03.455 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1174ms
2025-02-06 12:12:03.455 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:03.455 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=adm - 200 null application/json; charset=utf-8 3.3497ms
2025-02-06 12:12:03.569 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=admi - null null
2025-02-06 12:12:03.569 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:03.569 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=admi - 204 null null 0.3705ms
2025-02-06 12:12:03.570 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=admi - null null
2025-02-06 12:12:03.570 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:03.571 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:03.571 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:03.572 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:03.573 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:03.573 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.0098ms
2025-02-06 12:12:03.573 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:03.573 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=admi - 200 null application/json; charset=utf-8 2.8152ms
2025-02-06 12:12:05.204 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 12:12:05.205 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:05.205 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 204 null null 0.4759ms
2025-02-06 12:12:05.206 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - application/json 2
2025-02-06 12:12:05.206 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:05.207 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:12:05.207 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:05.208 +05:00 [INF] AddAccess(TestId=8007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:12:05.208 +05:00 [INF] AddUserAccessAsync(TestId=8007, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:12:05.210 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:12:05.223 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:12:05.223 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:12:05.224 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 16.9023ms
2025-02-06 12:12:05.224 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:12:05.224 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8007&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null application/json; charset=utf-8 18.1332ms
2025-02-06 12:12:05.228 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:05.228 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:05.228 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - 204 null null 0.3715ms
2025-02-06 12:12:05.230 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:05.230 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:05.230 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:05.230 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:05.233 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:12:05.235 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:05.235 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:05.236 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:05.237 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:05.237 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 6.3275ms
2025-02-06 12:12:05.237 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:05.237 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - 200 null application/json; charset=utf-8 7.217ms
2025-02-06 12:12:09.696 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=f - null null
2025-02-06 12:12:09.696 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:09.696 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=f - 204 null null 0.4606ms
2025-02-06 12:12:09.698 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=f - null null
2025-02-06 12:12:09.698 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:09.698 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:09.698 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:09.700 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:09.700 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:09.701 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.55ms
2025-02-06 12:12:09.701 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:09.701 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=f - 200 null application/json; charset=utf-8 3.3657ms
2025-02-06 12:12:09.792 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=ff - null null
2025-02-06 12:12:09.792 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:09.792 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=ff - 204 null null 0.4901ms
2025-02-06 12:12:09.794 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=ff - null null
2025-02-06 12:12:09.794 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:09.794 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:09.794 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:09.796 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:09.796 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:09.796 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9773ms
2025-02-06 12:12:09.796 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:09.797 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=ff - 200 null application/json; charset=utf-8 2.8593ms
2025-02-06 12:12:10.249 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=f - null null
2025-02-06 12:12:10.249 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:10.250 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:10.250 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:10.251 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:10.252 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:10.252 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9529ms
2025-02-06 12:12:10.252 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:10.252 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=f - 200 null application/json; charset=utf-8 2.8523ms
2025-02-06 12:12:10.809 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 12:12:10.809 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:10.809 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.3105ms
2025-02-06 12:12:10.811 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 12:12:10.811 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:10.811 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:10.811 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:10.813 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:10.813 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:10.813 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.021ms
2025-02-06 12:12:10.813 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:10.813 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 2.7667ms
2025-02-06 12:12:10.988 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=aa - null null
2025-02-06 12:12:10.988 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:10.988 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=aa - 204 null null 0.2972ms
2025-02-06 12:12:10.989 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=aa - null null
2025-02-06 12:12:10.990 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:10.990 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:10.990 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:12:10.992 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:12:10.992 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:10.993 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.5455ms
2025-02-06 12:12:10.993 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:10.993 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=aa - 200 null application/json; charset=utf-8 3.5209ms
2025-02-06 12:12:13.175 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8007&userId=0ab40610-2629-4627-b313-6a207691ba1a - null null
2025-02-06 12:12:13.175 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:13.175 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8007&userId=0ab40610-2629-4627-b313-6a207691ba1a - 204 null null 0.3432ms
2025-02-06 12:12:13.177 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8007&userId=0ab40610-2629-4627-b313-6a207691ba1a - application/json 2
2025-02-06 12:12:13.177 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:13.177 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:12:13.177 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:13.179 +05:00 [INF] AddAccess(TestId=8007, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 12:12:13.179 +05:00 [INF] AddUserAccessAsync(TestId=8007, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 12:12:13.180 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:12:13.192 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:12:13.193 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:12:13.193 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 15.8195ms
2025-02-06 12:12:13.193 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:12:13.194 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8007&userId=0ab40610-2629-4627-b313-6a207691ba1a - 200 null application/json; charset=utf-8 17.0783ms
2025-02-06 12:12:13.197 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:13.197 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:13.197 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - 204 null null 0.2824ms
2025-02-06 12:12:13.198 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:13.198 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:13.199 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:13.199 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:13.200 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:12:13.202 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:13.203 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:13.204 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:13.205 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:13.205 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:13.205 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 6.5268ms
2025-02-06 12:12:13.205 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:13.206 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - 200 null application/json; charset=utf-8 7.3572ms
2025-02-06 12:12:25.833 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:12:25.833 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:25.833 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4872ms
2025-02-06 12:12:25.835 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:12:25.835 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:25.836 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:12:25.836 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:12:25.837 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:12:25.837 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:12:25.839 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:12:25.848 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:12:25.849 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:25.850 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 13.3155ms
2025-02-06 12:12:25.850 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:12:25.850 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 14.6944ms
2025-02-06 12:12:27.571 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=3&pageSize=5 - null null
2025-02-06 12:12:27.571 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:27.571 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=3&pageSize=5 - 204 null null 0.3922ms
2025-02-06 12:12:27.573 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=3&pageSize=5 - null null
2025-02-06 12:12:27.573 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:27.574 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:12:27.574 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:12:27.574 +05:00 [INF] Вход в GetAllTests c пагинацией: page=3, pageSize=5
2025-02-06 12:12:27.574 +05:00 [INF] GetAllTestsPaginatedAsync(page=3, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:12:27.575 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:12:27.577 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:12:27.578 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:27.578 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.6322ms
2025-02-06 12:12:27.578 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:12:27.579 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=3&pageSize=5 - 200 null application/json; charset=utf-8 5.8005ms
2025-02-06 12:12:30.018 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:12:30.018 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:30.018 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3728ms
2025-02-06 12:12:30.020 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:12:30.020 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:30.020 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:30.020 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:12:30.021 +05:00 [INF] GetAll Topics
2025-02-06 12:12:30.023 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:12:30.024 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:30.024 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.1563ms
2025-02-06 12:12:30.024 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:30.025 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.9041ms
2025-02-06 12:12:34.227 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:34.227 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:34.227 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - 204 null null 0.3147ms
2025-02-06 12:12:34.229 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:34.229 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:34.229 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:34.229 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:34.231 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:12:34.234 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:34.235 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:34.236 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:34.236 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:34.237 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:34.237 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 7.7946ms
2025-02-06 12:12:34.237 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:34.237 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - 200 null application/json; charset=utf-8 8.556ms
2025-02-06 12:12:44.121 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=8007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 12:12:44.121 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:44.121 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=8007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 204 null null 0.3204ms
2025-02-06 12:12:44.123 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=8007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 12:12:44.123 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:44.123 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 12:12:44.126 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:44.128 +05:00 [INF] RemoveAccess(TestId=8007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:12:44.128 +05:00 [INF] RemoveUserAccessAsync(TestId=8007, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:12:44.135 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 12:12:44.153 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestAccesses]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:12:44.156 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:12:44.157 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 30.5249ms
2025-02-06 12:12:44.157 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 12:12:44.157 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=8007&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null application/json; charset=utf-8 34.001ms
2025-02-06 12:12:44.160 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:44.160 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:44.160 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8007 - 204 null null 0.2062ms
2025-02-06 12:12:44.161 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:44.161 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:44.161 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:44.161 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:44.164 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:12:44.165 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:44.166 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:44.167 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:44.167 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:44.167 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 5.9494ms
2025-02-06 12:12:44.167 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:44.167 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - 200 null application/json; charset=utf-8 6.5793ms
2025-02-06 12:12:47.917 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - null null
2025-02-06 12:12:47.918 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:47.918 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:47.918 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:12:47.920 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:12:47.922 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:47.923 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:47.923 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:12:47.924 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:47.924 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 6.0171ms
2025-02-06 12:12:47.924 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:12:47.924 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8007 - 200 null application/json; charset=utf-8 6.9774ms
2025-02-06 12:12:50.351 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8007?newName=%D0%9C%D0%B0%D1%82%204&countOfQuestions=5&isPrivate=true&topicId=1 - null null
2025-02-06 12:12:50.351 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:50.352 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8007?newName=%D0%9C%D0%B0%D1%82%204&countOfQuestions=5&isPrivate=true&topicId=1 - 204 null null 0.3203ms
2025-02-06 12:12:50.354 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8007?newName=%D0%9C%D0%B0%D1%82%204&countOfQuestions=5&isPrivate=true&topicId=1 - null 0
2025-02-06 12:12:50.354 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:50.354 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:12:50.358 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:12:50.360 +05:00 [INF] Вход в UpdateTest(Id=8007)
2025-02-06 12:12:50.361 +05:00 [INF] UpdateTestAsync(Id=8007, Name=Мат 4, Count=5)
2025-02-06 12:12:50.367 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:12:50.383 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 12:12:50.384 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:12:50.384 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 26.3274ms
2025-02-06 12:12:50.384 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:12:50.384 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8007?newName=%D0%9C%D0%B0%D1%82%204&countOfQuestions=5&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 30.9607ms
2025-02-06 12:12:50.389 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=3&pageSize=5 - null null
2025-02-06 12:12:50.389 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:50.389 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=3&pageSize=5 - 204 null null 0.3695ms
2025-02-06 12:12:50.391 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=3&pageSize=5 - null null
2025-02-06 12:12:50.391 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:50.391 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:12:50.391 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:12:50.392 +05:00 [INF] Вход в GetAllTests c пагинацией: page=3, pageSize=5
2025-02-06 12:12:50.392 +05:00 [INF] GetAllTestsPaginatedAsync(page=3, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:12:50.394 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:12:50.397 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:12:50.397 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:50.398 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.0769ms
2025-02-06 12:12:50.398 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:12:50.398 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=3&pageSize=5 - 200 null application/json; charset=utf-8 7.184ms
2025-02-06 12:12:52.177 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:12:52.177 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:52.177 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.298ms
2025-02-06 12:12:52.179 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:12:52.179 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:12:52.179 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:52.179 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:12:52.181 +05:00 [INF] GetAll Topics
2025-02-06 12:12:52.182 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:12:52.183 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:12:52.183 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.1687ms
2025-02-06 12:12:52.183 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:12:52.184 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.0487ms
2025-02-06 12:13:00.412 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:00.413 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:00.413 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.345ms
2025-02-06 12:13:00.414 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:00.414 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:00.414 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:00.414 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:00.415 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:13:00.415 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:13:00.416 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:13:00.419 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:13:00.420 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:00.420 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.6949ms
2025-02-06 12:13:00.420 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:00.420 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 6.3504ms
2025-02-06 12:13:02.668 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:13:02.668 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:02.668 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3016ms
2025-02-06 12:13:02.669 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:13:02.669 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:02.670 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:13:02.670 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:13:02.670 +05:00 [INF] GetAll Topics
2025-02-06 12:13:02.671 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:13:02.672 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:02.673 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8655ms
2025-02-06 12:13:02.673 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:13:02.673 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.6345ms
2025-02-06 12:13:04.622 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:13:04.622 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:04.622 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - 204 null null 0.2759ms
2025-02-06 12:13:04.623 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:13:04.623 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:04.624 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:13:04.624 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:13:04.626 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:13:04.628 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:13:04.628 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:04.629 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.707ms
2025-02-06 12:13:04.629 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:13:04.629 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - 200 null application/json; charset=utf-8 5.6372ms
2025-02-06 12:13:08.164 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 12:13:08.164 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:08.164 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.2529ms
2025-02-06 12:13:08.165 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 12:13:08.166 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:08.166 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 12:13:08.166 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:13:08.167 +05:00 [INF] RemoveAccess(TestId=7009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:13:08.167 +05:00 [INF] RemoveUserAccessAsync(TestId=7009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:13:08.168 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 12:13:08.170 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestAccesses]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:13:08.171 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:13:08.171 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 4.8426ms
2025-02-06 12:13:08.171 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 12:13:08.171 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 5.6955ms
2025-02-06 12:13:08.174 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:13:08.174 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:08.175 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:13:08.175 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:13:08.176 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:13:08.177 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:08.178 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.6096ms
2025-02-06 12:13:08.178 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:13:08.178 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - 200 null application/json; charset=utf-8 3.5337ms
2025-02-06 12:13:10.421 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - null null
2025-02-06 12:13:10.422 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:10.422 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - 204 null null 0.3067ms
2025-02-06 12:13:10.423 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - null 0
2025-02-06 12:13:10.423 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:10.424 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:13:10.424 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:10.425 +05:00 [INF] Вход в UpdateTest(Id=7009)
2025-02-06 12:13:10.425 +05:00 [INF] UpdateTestAsync(Id=7009, Name=Мат 3, Count=1)
2025-02-06 12:13:10.427 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:13:10.431 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 12:13:10.431 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:13:10.432 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 7.8516ms
2025-02-06 12:13:10.432 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:13:10.432 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 8.6734ms
2025-02-06 12:13:10.437 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:10.437 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:10.437 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2416ms
2025-02-06 12:13:10.438 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:10.438 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:10.438 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:10.438 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:10.439 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:13:10.439 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:13:10.440 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:13:10.441 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:13:10.442 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:10.442 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.7724ms
2025-02-06 12:13:10.442 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:10.442 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.4821ms
2025-02-06 12:13:11.779 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:13:11.780 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:11.780 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2772ms
2025-02-06 12:13:11.782 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:13:11.782 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:11.782 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:13:11.782 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:13:11.783 +05:00 [INF] GetAll Topics
2025-02-06 12:13:11.784 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:13:11.785 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:11.786 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.0259ms
2025-02-06 12:13:11.786 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:13:11.786 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.916ms
2025-02-06 12:13:14.702 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=false&topicId=1 - null null
2025-02-06 12:13:14.702 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:14.703 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=false&topicId=1 - 204 null null 0.2684ms
2025-02-06 12:13:14.704 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=false&topicId=1 - null 0
2025-02-06 12:13:14.704 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:14.704 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:13:14.705 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:14.705 +05:00 [INF] Вход в UpdateTest(Id=7009)
2025-02-06 12:13:14.705 +05:00 [INF] UpdateTestAsync(Id=7009, Name=Мат 3, Count=1)
2025-02-06 12:13:14.706 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:13:14.719 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 12:13:14.719 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:13:14.719 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 14.6599ms
2025-02-06 12:13:14.719 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:13:14.719 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=false&topicId=1 - 200 null application/json; charset=utf-8 15.5145ms
2025-02-06 12:13:14.722 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:14.722 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:14.723 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:14.723 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:14.723 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:13:14.723 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:13:14.724 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:13:14.725 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:13:14.726 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:14.726 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.7212ms
2025-02-06 12:13:14.726 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:14.727 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.424ms
2025-02-06 12:13:19.533 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:19.533 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:19.534 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:13:19.534 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:13:19.535 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.956ms
2025-02-06 12:13:26.161 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:13:26.161 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:26.161 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2909ms
2025-02-06 12:13:26.163 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 12:13:26.163 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:26.163 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:13:26.163 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:13:26.166 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 12:13:26.169 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:13:26.222 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:13:26.223 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 12:13:26.223 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:13:26.223 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 59.9287ms
2025-02-06 12:13:26.223 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:13:26.223 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 60.5095ms
2025-02-06 12:13:26.237 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:13:26.237 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:26.237 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4782ms
2025-02-06 12:13:26.241 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:13:26.241 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:26.241 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:13:26.241 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:13:26.242 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:13:26.243 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:13:26.244 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:13:26.248 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:13:26.249 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:26.249 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 8.0415ms
2025-02-06 12:13:26.249 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:13:26.250 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.8269ms
2025-02-06 12:13:27.644 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:27.644 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:27.644 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3283ms
2025-02-06 12:13:27.648 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:27.649 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:27.649 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:27.649 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:27.650 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:13:27.650 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:13:27.673 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:13:27.682 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:13:27.683 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:27.683 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 33.7371ms
2025-02-06 12:13:27.683 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:27.684 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 35.4097ms
2025-02-06 12:13:29.872 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:29.872 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:29.872 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2867ms
2025-02-06 12:13:29.873 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:29.874 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:29.874 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:29.874 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:29.875 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:13:29.875 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:13:29.876 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:13:29.888 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:13:29.888 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:29.889 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 14.4856ms
2025-02-06 12:13:29.889 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:29.889 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 15.3008ms
2025-02-06 12:13:34.968 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:34.968 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:34.968 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3472ms
2025-02-06 12:13:34.970 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:34.970 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:34.970 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:34.970 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:34.971 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:13:34.971 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:13:34.972 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:13:34.974 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:13:34.975 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:34.975 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.5003ms
2025-02-06 12:13:34.975 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:34.975 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.2811ms
2025-02-06 12:13:36.570 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:36.570 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:36.570 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4621ms
2025-02-06 12:13:36.572 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:36.572 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:36.572 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:36.573 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:36.573 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:13:36.573 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:13:36.574 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:13:36.576 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:13:36.576 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:36.576 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.8654ms
2025-02-06 12:13:36.577 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:36.577 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.602ms
2025-02-06 12:13:41.141 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:41.141 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:41.141 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.351ms
2025-02-06 12:13:41.142 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:41.142 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:41.143 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:41.143 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:41.143 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:13:41.143 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:13:41.144 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:13:41.150 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:13:41.151 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:41.151 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.3971ms
2025-02-06 12:13:41.151 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:41.151 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.0938ms
2025-02-06 12:13:43.958 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:43.958 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:43.958 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:13:43.958 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:13:43.959 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.2803ms
2025-02-06 12:13:47.402 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:13:47.402 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:47.402 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.258ms
2025-02-06 12:13:47.404 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 12:13:47.404 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:47.404 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:13:47.404 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:13:47.405 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 12:13:47.407 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:13:47.460 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:13:47.461 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 12:13:47.461 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:13:47.461 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 56.7387ms
2025-02-06 12:13:47.461 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:13:47.461 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 57.2294ms
2025-02-06 12:13:47.476 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:13:47.476 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:47.477 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3253ms
2025-02-06 12:13:47.482 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:13:47.482 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:47.483 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:13:47.483 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:13:47.485 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:13:47.485 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:13:47.487 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:13:47.491 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:13:47.492 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:47.492 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 9.318ms
2025-02-06 12:13:47.492 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:13:47.492 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.5451ms
2025-02-06 12:13:49.765 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:49.765 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:49.765 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4053ms
2025-02-06 12:13:49.769 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:13:49.769 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:49.769 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:49.769 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:49.771 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:13:49.771 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:13:49.773 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:13:49.775 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:13:49.776 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:49.776 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.4548ms
2025-02-06 12:13:49.776 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:49.776 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.7782ms
2025-02-06 12:13:51.340 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:51.340 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:51.340 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2663ms
2025-02-06 12:13:51.342 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:13:51.342 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:51.342 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:51.342 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:13:51.343 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:13:51.343 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:13:51.344 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:13:51.347 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:13:51.347 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:51.347 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.3597ms
2025-02-06 12:13:51.347 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:13:51.348 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 6.0525ms
2025-02-06 12:13:53.729 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:13:53.730 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:53.730 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2558ms
2025-02-06 12:13:53.732 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:13:53.732 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:13:53.732 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:13:53.732 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:13:53.733 +05:00 [INF] GetAll Topics
2025-02-06 12:13:53.734 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:13:53.735 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:13:53.735 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.0978ms
2025-02-06 12:13:53.736 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:13:53.736 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.9828ms
2025-02-06 12:14:02.718 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:14:02.718 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:02.718 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - 204 null null 0.3604ms
2025-02-06 12:14:02.720 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:14:02.720 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:02.721 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:14:02.721 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:14:02.723 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:14:02.724 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:02.724 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.9404ms
2025-02-06 12:14:02.724 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:14:02.724 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - 200 null application/json; charset=utf-8 4.0012ms
2025-02-06 12:14:06.626 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=f - null null
2025-02-06 12:14:06.626 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:06.626 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=f - 204 null null 0.2729ms
2025-02-06 12:14:06.627 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=f - null null
2025-02-06 12:14:06.628 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:06.628 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:06.628 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:06.631 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:06.631 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:06.631 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 3.0135ms
2025-02-06 12:14:06.631 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:06.631 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=f - 200 null application/json; charset=utf-8 3.5729ms
2025-02-06 12:14:06.987 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=fl - null null
2025-02-06 12:14:06.988 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:06.988 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=fl - 204 null null 0.2502ms
2025-02-06 12:14:06.989 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=fl - null null
2025-02-06 12:14:06.989 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:06.989 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:06.989 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:06.990 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:06.991 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:06.991 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.6308ms
2025-02-06 12:14:06.991 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:06.991 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=fl - 200 null application/json; charset=utf-8 2.1284ms
2025-02-06 12:14:07.263 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=f - null null
2025-02-06 12:14:07.263 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:07.263 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:07.263 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:07.265 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:07.265 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:07.265 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.6883ms
2025-02-06 12:14:07.265 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:07.265 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=f - 200 null application/json; charset=utf-8 2.3072ms
2025-02-06 12:14:07.601 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 12:14:07.601 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:07.601 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.2725ms
2025-02-06 12:14:07.602 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 12:14:07.603 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:07.603 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:07.603 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:07.604 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:07.604 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:07.605 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.8331ms
2025-02-06 12:14:07.605 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:07.605 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 2.3039ms
2025-02-06 12:14:07.739 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=al - null null
2025-02-06 12:14:07.739 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:07.739 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=al - 204 null null 0.3104ms
2025-02-06 12:14:07.740 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=al - null null
2025-02-06 12:14:07.741 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:07.741 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:07.741 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:07.742 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:07.742 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:07.742 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.5514ms
2025-02-06 12:14:07.742 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:07.743 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=al - 200 null application/json; charset=utf-8 2.078ms
2025-02-06 12:14:07.911 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=all - null null
2025-02-06 12:14:07.911 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:07.911 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=all - 204 null null 0.2872ms
2025-02-06 12:14:07.913 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=all - null null
2025-02-06 12:14:07.913 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:07.913 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:07.913 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:07.915 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:07.915 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:07.915 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9592ms
2025-02-06 12:14:07.915 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:07.915 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=all - 200 null application/json; charset=utf-8 2.5504ms
2025-02-06 12:14:08.350 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=al - null null
2025-02-06 12:14:08.350 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:08.350 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:08.351 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:08.352 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:08.352 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:08.352 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.5529ms
2025-02-06 12:14:08.352 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:08.352 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=al - 200 null application/json; charset=utf-8 2.2321ms
2025-02-06 12:14:08.525 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 12:14:08.525 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:08.525 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:08.525 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:08.526 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:08.527 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:08.527 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.611ms
2025-02-06 12:14:08.527 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:08.527 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 2.2496ms
2025-02-06 12:14:09.247 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 12:14:09.247 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:09.248 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:09.248 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:09.249 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:09.249 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:09.249 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.597ms
2025-02-06 12:14:09.249 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:09.250 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 2.2264ms
2025-02-06 12:14:09.805 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 12:14:09.805 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:09.805 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.2483ms
2025-02-06 12:14:09.806 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 12:14:09.806 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:09.806 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:09.806 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:09.808 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:09.808 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:09.808 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.584ms
2025-02-06 12:14:09.808 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:09.808 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 2.0777ms
2025-02-06 12:14:09.943 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:14:09.943 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:09.943 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 0.353ms
2025-02-06 12:14:09.945 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:14:09.945 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:09.945 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:09.945 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:09.946 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:09.946 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:09.947 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.4402ms
2025-02-06 12:14:09.947 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:09.947 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 1.9875ms
2025-02-06 12:14:10.293 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 12:14:10.293 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:10.293 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:10.293 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:10.295 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:10.295 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:10.295 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.5439ms
2025-02-06 12:14:10.295 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:10.295 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 2.1495ms
2025-02-06 12:14:11.385 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 12:14:11.385 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:11.385 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:11.385 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:11.387 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:11.387 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:11.387 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9411ms
2025-02-06 12:14:11.387 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:11.387 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 2.8677ms
2025-02-06 12:14:12.863 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=g - null null
2025-02-06 12:14:12.863 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:12.863 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=g - 204 null null 0.2448ms
2025-02-06 12:14:12.864 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=g - null null
2025-02-06 12:14:12.864 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:12.864 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:12.864 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:12.866 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:12.866 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:12.866 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.6768ms
2025-02-06 12:14:12.866 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:12.866 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=g - 200 null application/json; charset=utf-8 2.1536ms
2025-02-06 12:14:14.001 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - null null
2025-02-06 12:14:14.001 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:14.001 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - 204 null null 0.3032ms
2025-02-06 12:14:14.003 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 12:14:14.003 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:14.003 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:14.003 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:14.005 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:14.005 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:14.005 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.8762ms
2025-02-06 12:14:14.005 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:14.005 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 2.5245ms
2025-02-06 12:14:15.622 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 12:14:15.623 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:15.623 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:15.623 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:15.624 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:15.625 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:15.625 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.7917ms
2025-02-06 12:14:15.625 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:15.625 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 2.5943ms
2025-02-06 12:14:16.559 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 12:14:16.559 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:16.559 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:16.559 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:16.561 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:16.561 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:16.561 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9407ms
2025-02-06 12:14:16.561 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:16.561 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 2.6261ms
2025-02-06 12:14:17.505 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 12:14:17.505 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:17.505 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:17.505 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:17.507 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:17.507 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:17.507 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.9397ms
2025-02-06 12:14:17.507 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:17.507 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 2.6677ms
2025-02-06 12:14:18.743 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 12:14:18.743 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:18.743 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.2606ms
2025-02-06 12:14:18.744 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 12:14:18.744 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:18.745 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:18.745 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:18.746 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:18.746 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:18.746 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.7184ms
2025-02-06 12:14:18.746 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:18.747 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 2.356ms
2025-02-06 12:14:19.955 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 12:14:19.955 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:19.955 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.254ms
2025-02-06 12:14:19.956 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 12:14:19.956 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:19.957 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:19.957 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:14:19.958 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:14:19.958 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:19.958 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.5482ms
2025-02-06 12:14:19.958 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:19.958 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 2.0424ms
2025-02-06 12:14:26.242 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7009&userId=0ab40610-2629-4627-b313-6a207691ba1a - null null
2025-02-06 12:14:26.242 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:26.242 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7009&userId=0ab40610-2629-4627-b313-6a207691ba1a - 204 null null 0.2833ms
2025-02-06 12:14:26.244 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7009&userId=0ab40610-2629-4627-b313-6a207691ba1a - application/json 2
2025-02-06 12:14:26.244 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:26.244 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:14:26.244 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:14:26.245 +05:00 [INF] AddAccess(TestId=7009, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 12:14:26.245 +05:00 [INF] AddUserAccessAsync(TestId=7009, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 12:14:26.247 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:14:26.261 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:14:26.261 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:14:26.262 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 17.1282ms
2025-02-06 12:14:26.262 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:14:26.262 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7009&userId=0ab40610-2629-4627-b313-6a207691ba1a - 200 null application/json; charset=utf-8 17.6867ms
2025-02-06 12:14:26.265 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:14:26.265 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:26.265 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=7009 - 204 null null 0.3446ms
2025-02-06 12:14:26.267 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:14:26.267 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:26.267 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:14:26.267 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:14:26.268 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:14:26.270 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:14:26.271 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:26.271 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.5934ms
2025-02-06 12:14:26.271 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:14:26.271 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - 200 null application/json; charset=utf-8 4.1232ms
2025-02-06 12:14:26.992 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7009&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 12:14:26.992 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:26.992 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7009&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 204 null null 0.2617ms
2025-02-06 12:14:26.994 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7009&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - application/json 2
2025-02-06 12:14:26.994 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:26.994 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:14:26.994 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:14:26.994 +05:00 [INF] AddAccess(TestId=7009, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:14:26.994 +05:00 [INF] AddUserAccessAsync(TestId=7009, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:14:26.995 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:14:27.008 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:14:27.008 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:14:27.008 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.4877ms
2025-02-06 12:14:27.008 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:14:27.009 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7009&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null application/json; charset=utf-8 15.0445ms
2025-02-06 12:14:27.012 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:14:27.012 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:27.012 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:14:27.012 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:14:27.013 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:14:27.015 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:14:27.016 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:14:27.016 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:27.016 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.3139ms
2025-02-06 12:14:27.016 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:14:27.017 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - 200 null application/json; charset=utf-8 5.1049ms
2025-02-06 12:14:27.605 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 12:14:27.606 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:27.606 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.2899ms
2025-02-06 12:14:27.607 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 12:14:27.607 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:27.607 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:14:27.608 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:14:27.608 +05:00 [INF] AddAccess(TestId=7009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:14:27.608 +05:00 [INF] AddUserAccessAsync(TestId=7009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:14:27.609 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:14:27.622 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:14:27.623 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:14:27.623 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 15.2217ms
2025-02-06 12:14:27.623 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:14:27.623 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=7009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 15.7968ms
2025-02-06 12:14:27.625 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - null null
2025-02-06 12:14:27.626 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:27.626 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:14:27.626 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:14:27.627 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:14:27.628 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:14:27.629 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:14:27.630 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:14:27.630 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:27.631 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.8755ms
2025-02-06 12:14:27.631 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:14:27.631 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=7009 - 200 null application/json; charset=utf-8 5.4164ms
2025-02-06 12:14:32.522 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - null null
2025-02-06 12:14:32.522 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:32.522 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - 204 null null 0.2668ms
2025-02-06 12:14:32.524 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - null 0
2025-02-06 12:14:32.524 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:32.524 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:14:32.524 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:14:32.525 +05:00 [INF] Вход в UpdateTest(Id=7009)
2025-02-06 12:14:32.525 +05:00 [INF] UpdateTestAsync(Id=7009, Name=Мат 3, Count=1)
2025-02-06 12:14:32.527 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:14:32.541 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 12:14:32.542 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:14:32.542 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 17.6495ms
2025-02-06 12:14:32.542 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:14:32.542 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/7009?newName=%D0%9C%D0%B0%D1%82%203&countOfQuestions=1&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 18.292ms
2025-02-06 12:14:32.545 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:14:32.545 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:32.545 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2334ms
2025-02-06 12:14:32.547 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:14:32.547 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:32.547 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:14:32.547 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:14:32.548 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:14:32.548 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:14:32.548 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:14:32.550 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:14:32.550 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:32.550 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.0028ms
2025-02-06 12:14:32.550 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:14:32.550 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 3.706ms
2025-02-06 12:14:35.162 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:14:35.162 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:35.163 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2722ms
2025-02-06 12:14:35.164 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:14:35.164 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:35.164 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:35.164 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:14:35.165 +05:00 [INF] GetAll Topics
2025-02-06 12:14:35.165 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:14:35.167 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:35.167 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.6808ms
2025-02-06 12:14:35.167 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:35.167 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.2553ms
2025-02-06 12:14:47.968 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=dd&countOfQuestions=3&isPrivate=false&topicId=1 - null null
2025-02-06 12:14:47.968 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:47.968 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=dd&countOfQuestions=3&isPrivate=false&topicId=1 - 204 null null 0.3363ms
2025-02-06 12:14:47.970 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=dd&countOfQuestions=3&isPrivate=false&topicId=1 - null 0
2025-02-06 12:14:47.970 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:47.970 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:14:47.970 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:14:47.971 +05:00 [INF] Вход в CreateTemplate: dd, count=3, topic=1, isPrivate=false
2025-02-06 12:14:47.971 +05:00 [INF] CreateTemplateAsync(Name=dd, count=3, topic=1, isPrivate=false)
2025-02-06 12:14:47.974 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:14:47.975 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:14:47.975 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 4.741ms
2025-02-06 12:14:47.975 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:14:47.975 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=dd&countOfQuestions=3&isPrivate=false&topicId=1 - 200 null application/json; charset=utf-8 5.4235ms
2025-02-06 12:14:47.980 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:14:47.980 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:47.980 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2685ms
2025-02-06 12:14:47.982 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:14:47.982 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:47.982 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:14:47.982 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:14:47.983 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:14:47.983 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:14:47.983 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:14:47.985 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:14:47.985 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:47.986 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.5898ms
2025-02-06 12:14:47.986 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:14:47.986 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.1881ms
2025-02-06 12:14:50.396 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=3&pageSize=5 - null null
2025-02-06 12:14:50.396 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:50.396 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=3&pageSize=5 - 204 null null 0.2633ms
2025-02-06 12:14:50.398 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=3&pageSize=5 - null null
2025-02-06 12:14:50.399 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:50.399 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:14:50.399 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:14:50.400 +05:00 [INF] Вход в GetAllTests c пагинацией: page=3, pageSize=5
2025-02-06 12:14:50.400 +05:00 [INF] GetAllTestsPaginatedAsync(page=3, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:14:50.400 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:14:50.402 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:14:50.402 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:50.403 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.3678ms
2025-02-06 12:14:50.403 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:14:50.403 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.2756ms
2025-02-06 12:14:58.586 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:14:58.586 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:58.586 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.265ms
2025-02-06 12:14:58.588 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:14:58.588 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:14:58.588 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:58.588 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:14:58.589 +05:00 [INF] GetAll Topics
2025-02-06 12:14:58.590 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:14:58.591 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:14:58.591 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8239ms
2025-02-06 12:14:58.591 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:14:58.591 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.4338ms
2025-02-06 12:15:00.930 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:15:00.930 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:00.931 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:15:00.931 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:15:00.931 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 0.8402ms
2025-02-06 12:15:04.958 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:15:04.958 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:04.959 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2447ms
2025-02-06 12:15:04.960 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 12:15:04.960 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:04.960 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:15:04.960 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:15:04.961 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 12:15:04.962 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:15:05.015 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:15:05.016 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 12:15:05.016 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:15:05.016 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 55.5398ms
2025-02-06 12:15:05.016 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:15:05.016 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 55.995ms
2025-02-06 12:15:05.035 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:15:05.035 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:05.035 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4499ms
2025-02-06 12:15:05.039 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:15:05.040 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:05.040 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:15:05.040 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:15:05.041 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:15:05.041 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:15:05.042 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:15:05.044 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:15:05.044 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:05.045 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.4621ms
2025-02-06 12:15:05.045 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:15:05.045 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8156ms
2025-02-06 12:15:06.137 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:15:06.137 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:06.137 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3504ms
2025-02-06 12:15:06.141 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:15:06.141 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:06.142 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:15:06.142 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:15:06.143 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:15:06.143 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:15:06.147 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:15:06.152 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:15:06.152 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:06.153 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 10.8041ms
2025-02-06 12:15:06.153 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:15:06.153 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.8323ms
2025-02-06 12:15:07.910 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:15:07.910 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:07.910 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2989ms
2025-02-06 12:15:07.912 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:15:07.912 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:07.912 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:15:07.912 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:15:07.913 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:15:07.913 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:15:07.914 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:15:07.919 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:15:07.919 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:07.920 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.5336ms
2025-02-06 12:15:07.920 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:15:07.920 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 8.0504ms
2025-02-06 12:15:10.747 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8008 - null null
2025-02-06 12:15:10.747 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:10.748 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8008 - 204 null null 0.6067ms
2025-02-06 12:15:10.751 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8008 - application/json 2
2025-02-06 12:15:10.752 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:10.752 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:15:10.766 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:15:10.767 +05:00 [INF] Вход в StartTest(TestId=8008)
2025-02-06 12:15:10.768 +05:00 [INF] StartTestAsync(TestId=8008, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:15:10.769 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:15:10.785 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:15:10.808 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:15:10.829 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:15:10.837 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 12:15:10.868 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:15:10.875 +05:00 [INF] Тест успешно создан: UserTestId=10012
2025-02-06 12:15:10.875 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:15:10.877 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 110.9809ms
2025-02-06 12:15:10.877 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:15:10.877 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8008 - 200 null application/json; charset=utf-8 126.001ms
2025-02-06 12:15:17.492 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10012/save - null null
2025-02-06 12:15:17.493 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:17.493 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10012/save - 204 null null 0.4935ms
2025-02-06 12:15:17.494 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10012/save - application/json 189
2025-02-06 12:15:17.495 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:17.495 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:15:17.497 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:15:17.505 +05:00 [INF] Вход в SaveAnswers(UserTestId=10012), Count=3
2025-02-06 12:15:17.506 +05:00 [INF] SaveAnswersAsync(UserTestId=10012, CountAnswers=3)
2025-02-06 12:15:17.514 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 12:15:17.552 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:15:17.579 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:15:17.580 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:15:17.580 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 83.4741ms
2025-02-06 12:15:17.580 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:15:17.581 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10012/save - 200 null application/json; charset=utf-8 86.3947ms
2025-02-06 12:15:17.584 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10012/check - null null
2025-02-06 12:15:17.585 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:17.585 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10012/check - 204 null null 0.2426ms
2025-02-06 12:15:17.586 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10012/check - null null
2025-02-06 12:15:17.586 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:17.586 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:15:17.589 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:15:17.590 +05:00 [INF] Вход в CheckAnswers(UserTestId=10012)
2025-02-06 12:15:17.592 +05:00 [INF] CheckAnswersAsync(UserTestId=10012)
2025-02-06 12:15:17.593 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:15:17.627 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:15:17.631 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:15:17.634 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 45.0467ms
2025-02-06 12:15:17.634 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:15:17.634 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10012/check - 200 null application/json; charset=utf-8 47.8586ms
2025-02-06 12:15:18.616 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:15:18.616 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:18.617 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3409ms
2025-02-06 12:15:18.621 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:15:18.622 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:18.622 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:15:18.622 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:15:18.623 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:15:18.623 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:15:18.625 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:15:18.626 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:15:18.626 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:18.627 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.547ms
2025-02-06 12:15:18.627 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:15:18.627 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.9061ms
2025-02-06 12:15:20.412 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:15:20.412 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:20.412 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4369ms
2025-02-06 12:15:20.419 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:15:20.419 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:20.420 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:15:20.420 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:15:20.421 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:15:20.421 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:15:20.422 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:15:20.424 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:15:20.424 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:20.424 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.7454ms
2025-02-06 12:15:20.425 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:15:20.425 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.8716ms
2025-02-06 12:15:21.443 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - null null
2025-02-06 12:15:21.443 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:21.443 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - 204 null null 0.4141ms
2025-02-06 12:15:21.447 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - null null
2025-02-06 12:15:21.447 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:21.447 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 12:15:21.450 +05:00 [INF] Route matched with {action = "GetAllByUserEmail", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllByUserEmail(System.String, Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:15:21.453 +05:00 [INF] Вход в GetAllByUserEmail: d, page=1, size=5
2025-02-06 12:15:21.462 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [a].[Email] = @__email_0
2025-02-06 12:15:21.472 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 12:15:21.525 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[DateRegistered], [s].[Email], [s].[EmailConfirmed], [s].[FullName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserTests] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
    WHERE [a].[Email] = @__email_0
    ORDER BY [u].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tests] AS [t] ON [s].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [t].[Id], [t0].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 12:15:21.539 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:21.543 +05:00 [INF] Executed action UserTestsController.GetAllByUserEmail (QuizMasterAPI) in 92.8563ms
2025-02-06 12:15:21.543 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 12:15:21.543 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - 200 null application/json; charset=utf-8 96.4941ms
2025-02-06 12:15:40.763 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:15:40.763 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:40.763 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3452ms
2025-02-06 12:15:40.768 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:15:40.768 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:40.768 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:15:40.768 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:15:40.769 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:15:40.769 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:15:40.770 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:15:40.771 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:15:40.772 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:40.772 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.0312ms
2025-02-06 12:15:40.772 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:15:40.772 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.8999ms
2025-02-06 12:15:41.890 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:15:41.890 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:41.890 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:15:41.890 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:15:41.891 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 1.3754ms
2025-02-06 12:15:44.505 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:15:44.506 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:44.506 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2641ms
2025-02-06 12:15:44.507 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 12:15:44.507 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:44.507 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:15:44.507 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:15:44.508 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 12:15:44.509 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:15:44.564 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:15:44.564 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 12:15:44.564 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:15:44.565 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 57.2301ms
2025-02-06 12:15:44.565 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:15:44.565 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 57.6922ms
2025-02-06 12:15:44.577 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:15:44.577 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:44.578 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:15:44.578 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:15:44.578 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:15:44.578 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:15:44.580 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:15:44.582 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:15:44.583 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:44.583 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.4239ms
2025-02-06 12:15:44.583 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:15:44.583 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.1851ms
2025-02-06 12:15:45.795 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 12:15:45.795 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:45.796 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.3365ms
2025-02-06 12:15:45.799 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 12:15:45.799 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:45.800 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:15:45.802 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:15:45.805 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 12:15:45.811 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 12:15:45.817 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 12:15:45.872 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:15:45.882 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:45.882 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 79.566ms
2025-02-06 12:15:45.882 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:15:45.882 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 83.6387ms
2025-02-06 12:15:47.859 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 12:15:47.859 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:47.859 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.2737ms
2025-02-06 12:15:47.861 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 12:15:47.861 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:47.861 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:15:47.861 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:15:47.862 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 12:15:47.863 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 12:15:47.873 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 12:15:47.932 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:15:47.941 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:47.941 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 80.091ms
2025-02-06 12:15:47.941 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:15:47.942 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 80.7509ms
2025-02-06 12:15:52.190 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=3&pageSize=5 - null null
2025-02-06 12:15:52.190 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:52.190 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=3&pageSize=5 - 204 null null 0.4419ms
2025-02-06 12:15:52.202 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=3&pageSize=5 - null null
2025-02-06 12:15:52.203 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:52.203 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:15:52.203 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:15:52.203 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=3, size=5
2025-02-06 12:15:52.205 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 12:15:52.207 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:15:52.210 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:52.210 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 7.107ms
2025-02-06 12:15:52.210 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:15:52.210 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=3&pageSize=5 - 200 null application/json; charset=utf-8 7.8405ms
2025-02-06 12:15:54.483 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 12:15:54.483 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:54.484 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.4831ms
2025-02-06 12:15:54.485 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 12:15:54.485 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:15:54.485 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:15:54.485 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:15:54.486 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 12:15:54.487 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 12:15:54.489 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:15:54.494 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:15:54.494 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 8.3489ms
2025-02-06 12:15:54.494 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:15:54.494 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 8.9362ms
2025-02-06 12:16:00.612 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=3&pageSize=5 - null null
2025-02-06 12:16:00.612 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:16:00.612 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=3&pageSize=5 - 204 null null 0.3202ms
2025-02-06 12:16:00.614 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=3&pageSize=5 - null null
2025-02-06 12:16:00.614 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:16:00.614 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:16:00.614 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:16:00.615 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=3, size=5
2025-02-06 12:16:00.616 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 12:16:00.618 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:16:00.620 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:16:00.621 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 6.5703ms
2025-02-06 12:16:00.621 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 12:16:00.621 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=3&pageSize=5 - 200 null application/json; charset=utf-8 7.2305ms
2025-02-06 12:16:08.810 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - null null
2025-02-06 12:16:08.810 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:16:08.810 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - 204 null null 0.3143ms
2025-02-06 12:16:08.812 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - null null
2025-02-06 12:16:08.812 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:16:08.812 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 12:16:08.812 +05:00 [INF] Route matched with {action = "GetAllByUserEmail", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllByUserEmail(System.String, Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:16:08.813 +05:00 [INF] Вход в GetAllByUserEmail: d, page=1, size=5
2025-02-06 12:16:08.814 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [a].[Email] = @__email_0
2025-02-06 12:16:08.815 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[DateRegistered], [s].[Email], [s].[EmailConfirmed], [s].[FullName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserTests] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
    WHERE [a].[Email] = @__email_0
    ORDER BY [u].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tests] AS [t] ON [s].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [t].[Id], [t0].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 12:16:08.819 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:16:08.819 +05:00 [INF] Executed action UserTestsController.GetAllByUserEmail (QuizMasterAPI) in 6.7587ms
2025-02-06 12:16:08.819 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 12:16:08.819 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=d&page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.3588ms
2025-02-06 12:17:06.261 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:17:06.261 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:06.261 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3865ms
2025-02-06 12:17:06.266 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:17:06.266 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:06.266 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:17:06.266 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:17:06.268 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:17:06.268 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:17:06.272 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:17:06.278 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:17:06.279 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:06.279 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 12.5692ms
2025-02-06 12:17:06.279 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:17:06.279 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 13.4045ms
2025-02-06 12:17:10.150 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 12:17:10.151 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:10.151 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - 204 null null 0.3827ms
2025-02-06 12:17:10.152 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 12:17:10.152 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:10.153 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:17:10.153 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:17:10.153 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=2, pageSize=5
2025-02-06 12:17:10.153 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=2, pageSize=5)
2025-02-06 12:17:10.154 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:17:10.178 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:17:10.179 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:10.180 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 26.8053ms
2025-02-06 12:17:10.180 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:17:10.180 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - 200 null application/json; charset=utf-8 27.3443ms
2025-02-06 12:17:10.695 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 12:17:10.695 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:10.696 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.2866ms
2025-02-06 12:17:10.697 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 12:17:10.697 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:10.697 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:17:10.697 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:17:10.698 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 12:17:10.698 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 12:17:10.699 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:17:10.701 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:17:10.701 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:10.701 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.8818ms
2025-02-06 12:17:10.701 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:17:10.701 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.5285ms
2025-02-06 12:17:13.528 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:17:13.528 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:13.528 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3805ms
2025-02-06 12:17:13.532 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:17:13.532 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:13.532 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:17:13.532 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:17:13.533 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:17:13.533 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:17:13.534 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:17:13.536 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:17:13.536 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:13.537 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.0057ms
2025-02-06 12:17:13.537 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:17:13.537 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.0329ms
2025-02-06 12:17:16.248 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:17:16.248 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:16.248 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3166ms
2025-02-06 12:17:16.250 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:17:16.250 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:16.250 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:17:16.250 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:17:16.251 +05:00 [INF] GetAll Topics
2025-02-06 12:17:16.252 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:17:16.253 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:16.253 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.6144ms
2025-02-06 12:17:16.253 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:17:16.253 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.2921ms
2025-02-06 12:17:19.427 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=5005 - null null
2025-02-06 12:17:19.427 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:19.427 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=5005 - 204 null null 0.2693ms
2025-02-06 12:17:19.429 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=5005 - null null
2025-02-06 12:17:19.429 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:19.429 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:17:19.429 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:17:19.431 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:17:19.431 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:19.432 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.416ms
2025-02-06 12:17:19.432 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:17:19.432 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=5005 - 200 null application/json; charset=utf-8 3.097ms
2025-02-06 12:17:23.245 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 12:17:23.245 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:23.245 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.252ms
2025-02-06 12:17:23.246 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 12:17:23.246 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:23.247 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:17:23.247 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:17:23.248 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:17:23.248 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:23.248 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.5885ms
2025-02-06 12:17:23.248 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:17:23.248 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 2.1125ms
2025-02-06 12:17:23.308 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:17:23.308 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:23.308 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 0.2387ms
2025-02-06 12:17:23.309 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:17:23.309 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:23.310 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:17:23.310 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:17:23.311 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:17:23.311 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:23.311 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.5986ms
2025-02-06 12:17:23.311 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:17:23.311 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 2.0717ms
2025-02-06 12:17:25.430 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=5005&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 12:17:25.430 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:25.430 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=5005&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.4255ms
2025-02-06 12:17:25.432 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=5005&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 12:17:25.432 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:25.432 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:17:25.432 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:17:25.433 +05:00 [INF] AddAccess(TestId=5005, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:17:25.433 +05:00 [INF] AddUserAccessAsync(TestId=5005, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:17:25.434 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:17:25.446 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:17:25.446 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:17:25.446 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.1413ms
2025-02-06 12:17:25.446 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:17:25.447 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=5005&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 14.7819ms
2025-02-06 12:17:25.450 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=5005 - null null
2025-02-06 12:17:25.450 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:25.450 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=5005 - 204 null null 0.2531ms
2025-02-06 12:17:25.451 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=5005 - null null
2025-02-06 12:17:25.452 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:25.452 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:17:25.452 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:17:25.453 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:17:25.455 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:17:25.455 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:25.455 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.6145ms
2025-02-06 12:17:25.455 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:17:25.456 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=5005 - 200 null application/json; charset=utf-8 4.2279ms
2025-02-06 12:17:28.066 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/5005?newName=%D0%AF%D0%B7%D1%8B%D0%BA%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%A1%23%20%D0%A2%D0%B5%D1%81%D1%82%201&countOfQuestions=3&isPrivate=true&topicId=1005 - null null
2025-02-06 12:17:28.066 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:28.066 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/5005?newName=%D0%AF%D0%B7%D1%8B%D0%BA%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%A1%23%20%D0%A2%D0%B5%D1%81%D1%82%201&countOfQuestions=3&isPrivate=true&topicId=1005 - 204 null null 0.2617ms
2025-02-06 12:17:28.068 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/5005?newName=%D0%AF%D0%B7%D1%8B%D0%BA%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%A1%23%20%D0%A2%D0%B5%D1%81%D1%82%201&countOfQuestions=3&isPrivate=true&topicId=1005 - null 0
2025-02-06 12:17:28.068 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:28.068 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:17:28.068 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:17:28.069 +05:00 [INF] Вход в UpdateTest(Id=5005)
2025-02-06 12:17:28.069 +05:00 [INF] UpdateTestAsync(Id=5005, Name=Язык программирования С# Тест 1, Count=3)
2025-02-06 12:17:28.070 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:17:28.072 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 12:17:28.072 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:17:28.072 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 4.1506ms
2025-02-06 12:17:28.072 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:17:28.073 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/5005?newName=%D0%AF%D0%B7%D1%8B%D0%BA%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%A1%23%20%D0%A2%D0%B5%D1%81%D1%82%201&countOfQuestions=3&isPrivate=true&topicId=1005 - 200 null application/json; charset=utf-8 4.8593ms
2025-02-06 12:17:28.076 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:17:28.076 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:28.076 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4331ms
2025-02-06 12:17:28.078 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:17:28.078 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:28.078 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:17:28.078 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:17:28.079 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:17:28.079 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:17:28.079 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:17:28.081 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:17:28.081 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:28.081 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.0204ms
2025-02-06 12:17:28.081 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:17:28.081 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.4991ms
2025-02-06 12:17:29.666 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:17:29.667 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:29.667 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3809ms
2025-02-06 12:17:29.670 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:17:29.671 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:29.671 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:17:29.671 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:17:29.672 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:17:29.672 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:17:29.674 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:17:29.676 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:17:29.677 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:29.677 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.0231ms
2025-02-06 12:17:29.677 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:17:29.677 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.0069ms
2025-02-06 12:17:32.012 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:17:32.012 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:32.012 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:17:32.012 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:17:32.013 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:17:32.013 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:17:32.014 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:17:32.016 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:17:32.016 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:32.017 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.277ms
2025-02-06 12:17:32.017 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:17:32.017 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.0904ms
2025-02-06 12:17:36.631 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/5005 - null null
2025-02-06 12:17:36.631 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:36.631 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/5005 - 204 null null 0.4023ms
2025-02-06 12:17:36.635 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/5005 - application/json 2
2025-02-06 12:17:36.635 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:36.635 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:17:36.635 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:17:36.636 +05:00 [INF] Вход в StartTest(TestId=5005)
2025-02-06 12:17:36.636 +05:00 [INF] StartTestAsync(TestId=5005, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:17:36.637 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:17:36.639 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:17:36.652 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:17:36.654 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:17:36.655 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:17:36.656 +05:00 [INF] Тест успешно создан: UserTestId=10013
2025-02-06 12:17:36.656 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:17:36.656 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 20.3556ms
2025-02-06 12:17:36.656 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:17:36.656 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/5005 - 200 null application/json; charset=utf-8 21.3225ms
2025-02-06 12:17:40.566 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10013/save - null null
2025-02-06 12:17:40.566 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:40.566 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10013/save - 204 null null 0.2835ms
2025-02-06 12:17:40.568 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10013/save - application/json 184
2025-02-06 12:17:40.568 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:40.568 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:17:40.568 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:17:40.570 +05:00 [INF] Вход в SaveAnswers(UserTestId=10013), Count=3
2025-02-06 12:17:40.570 +05:00 [INF] SaveAnswersAsync(UserTestId=10013, CountAnswers=3)
2025-02-06 12:17:40.572 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:17:40.587 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:17:40.588 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:17:40.588 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 19.553ms
2025-02-06 12:17:40.588 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:17:40.588 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10013/save - 200 null application/json; charset=utf-8 20.0726ms
2025-02-06 12:17:40.591 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10013/check - null null
2025-02-06 12:17:40.591 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:40.591 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10013/check - 204 null null 0.1859ms
2025-02-06 12:17:40.592 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10013/check - null null
2025-02-06 12:17:40.592 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:40.593 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:17:40.593 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:17:40.593 +05:00 [INF] Вход в CheckAnswers(UserTestId=10013)
2025-02-06 12:17:40.593 +05:00 [INF] CheckAnswersAsync(UserTestId=10013)
2025-02-06 12:17:40.594 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:17:40.596 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:17:40.596 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:17:40.597 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 4.0199ms
2025-02-06 12:17:40.597 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:17:40.597 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10013/check - 200 null application/json; charset=utf-8 4.5168ms
2025-02-06 12:17:43.648 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:17:43.648 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:43.648 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5288ms
2025-02-06 12:17:43.652 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:17:43.652 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:17:43.652 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:17:43.652 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:17:43.653 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:17:43.653 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:17:43.654 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:17:43.656 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:17:43.656 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:17:43.657 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9882ms
2025-02-06 12:17:43.657 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:17:43.657 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.9969ms
2025-02-06 12:18:02.153 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:18:02.154 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:18:02.154 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4227ms
2025-02-06 12:18:02.159 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:18:02.159 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:18:02.160 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:18:02.160 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:18:02.161 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:18:02.161 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:18:02.162 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:18:02.163 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:18:02.164 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:18:02.164 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.053ms
2025-02-06 12:18:02.180 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:18:02.181 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 22.2689ms
2025-02-06 12:18:09.419 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 12:18:09.419 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:18:09.419 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - 204 null null 0.2576ms
2025-02-06 12:18:09.420 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 12:18:09.421 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:18:09.421 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:18:09.421 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:18:09.421 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=2, pageSize=5
2025-02-06 12:18:09.421 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=2, pageSize=5)
2025-02-06 12:18:09.422 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:18:09.424 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:18:09.424 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:18:09.424 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.5459ms
2025-02-06 12:18:09.424 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:18:09.424 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.1828ms
2025-02-06 12:19:03.053 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:19:03.053 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:03.053 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2697ms
2025-02-06 12:19:03.055 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:19:03.055 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:03.055 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:19:03.055 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:19:03.055 +05:00 [INF] GetAll Topics
2025-02-06 12:19:03.057 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:19:03.060 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:19:03.061 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 6.3414ms
2025-02-06 12:19:03.061 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:19:03.062 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 6.8951ms
2025-02-06 12:19:13.528 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:19:13.528 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:13.529 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:19:13.529 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:19:13.529 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 0.7873ms
2025-02-06 12:19:50.410 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:19:50.411 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:50.411 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.248ms
2025-02-06 12:19:50.412 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 12:19:50.412 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:50.412 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:19:50.412 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:19:50.413 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 12:19:50.420 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:19:50.502 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:19:50.502 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 12:19:50.503 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:19:50.503 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 90.1833ms
2025-02-06 12:19:50.503 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:19:50.503 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 90.704ms
2025-02-06 12:19:50.518 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:19:50.518 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:50.518 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.2906ms
2025-02-06 12:19:50.523 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:19:50.524 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:50.524 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:19:50.524 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:19:50.525 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:19:50.525 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:19:50.527 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:19:50.533 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:19:50.534 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:19:50.534 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 9.3867ms
2025-02-06 12:19:50.534 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:19:50.534 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.7531ms
2025-02-06 12:19:51.869 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:19:51.870 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:51.870 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3049ms
2025-02-06 12:19:51.873 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:19:51.873 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:51.874 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:19:51.874 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:19:51.874 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:19:51.874 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:19:51.875 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:19:51.877 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:19:51.877 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:19:51.877 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.5476ms
2025-02-06 12:19:51.877 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:19:51.877 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.2687ms
2025-02-06 12:19:52.758 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:19:52.758 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:52.759 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.252ms
2025-02-06 12:19:52.760 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:19:52.760 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:19:52.761 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:19:52.761 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:19:52.761 +05:00 [INF] GetAll Topics
2025-02-06 12:19:52.762 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:19:52.763 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:19:52.763 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.5602ms
2025-02-06 12:19:52.763 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:19:52.763 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.1934ms
2025-02-06 12:20:25.433 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:20:25.433 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:25.433 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.4152ms
2025-02-06 12:20:25.434 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:20:25.435 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:25.435 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:20:25.435 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:20:25.435 +05:00 [INF] GetAll Topics
2025-02-06 12:20:25.437 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:20:25.438 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:20:25.441 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 6.553ms
2025-02-06 12:20:25.441 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:20:25.442 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 7.1812ms
2025-02-06 12:20:28.118 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=5005 - null null
2025-02-06 12:20:28.118 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:28.118 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=5005 - 204 null null 0.2453ms
2025-02-06 12:20:28.120 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=5005 - null null
2025-02-06 12:20:28.120 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:28.120 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:20:28.120 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:20:28.121 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:20:28.123 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:20:28.123 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:20:28.123 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.396ms
2025-02-06 12:20:28.123 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:20:28.124 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=5005 - 200 null application/json; charset=utf-8 3.9236ms
2025-02-06 12:20:32.933 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/5005?newName=%D0%AF%D0%B7%D1%8B%D0%BA%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%A1%23%20%D0%A2%D0%B5%D1%81%D1%82%201&countOfQuestions=3&isPrivate=true&topicId=1005 - null null
2025-02-06 12:20:32.933 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:32.933 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/5005?newName=%D0%AF%D0%B7%D1%8B%D0%BA%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%A1%23%20%D0%A2%D0%B5%D1%81%D1%82%201&countOfQuestions=3&isPrivate=true&topicId=1005 - 204 null null 0.2579ms
2025-02-06 12:20:32.935 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/5005?newName=%D0%AF%D0%B7%D1%8B%D0%BA%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%A1%23%20%D0%A2%D0%B5%D1%81%D1%82%201&countOfQuestions=3&isPrivate=true&topicId=1005 - null 0
2025-02-06 12:20:32.935 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:32.935 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:20:32.935 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:20:32.936 +05:00 [INF] Вход в UpdateTest(Id=5005)
2025-02-06 12:20:32.936 +05:00 [INF] UpdateTestAsync(Id=5005, Name=Язык программирования С# Тест 1, Count=3)
2025-02-06 12:20:32.937 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:20:32.950 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 12:20:32.950 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:20:32.950 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 15.3273ms
2025-02-06 12:20:32.950 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:20:32.951 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/5005?newName=%D0%AF%D0%B7%D1%8B%D0%BA%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%A1%23%20%D0%A2%D0%B5%D1%81%D1%82%201&countOfQuestions=3&isPrivate=true&topicId=1005 - 200 null application/json; charset=utf-8 15.8966ms
2025-02-06 12:20:32.954 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:20:32.954 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:32.954 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.1903ms
2025-02-06 12:20:32.955 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:20:32.955 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:32.955 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:20:32.955 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:20:32.956 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:20:32.956 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:20:32.957 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:20:32.959 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:20:32.959 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:20:32.959 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.4375ms
2025-02-06 12:20:32.959 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:20:32.959 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.0973ms
2025-02-06 12:20:37.647 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:20:37.647 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:37.647 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:20:37.647 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:20:37.648 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 0.9273ms
2025-02-06 12:20:40.969 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:20:40.969 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:40.970 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2362ms
2025-02-06 12:20:40.971 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 12:20:40.971 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:40.971 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:20:40.971 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:20:40.972 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 12:20:40.973 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:20:41.026 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:20:41.027 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 12:20:41.027 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:20:41.027 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 55.5398ms
2025-02-06 12:20:41.027 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:20:41.027 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 55.9489ms
2025-02-06 12:20:41.041 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:20:41.041 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:41.041 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.2682ms
2025-02-06 12:20:41.046 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:20:41.046 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:41.046 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:20:41.046 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:20:41.047 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:20:41.047 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:20:41.048 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:20:41.050 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:20:41.050 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:20:41.051 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.2933ms
2025-02-06 12:20:41.051 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:20:41.051 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.1127ms
2025-02-06 12:20:44.753 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:20:44.753 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:44.753 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2619ms
2025-02-06 12:20:44.758 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:20:44.758 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:44.758 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:20:44.758 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:20:44.759 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:20:44.759 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:20:44.761 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:20:44.763 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:20:44.763 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:20:44.763 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.0529ms
2025-02-06 12:20:44.763 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:20:44.764 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.9313ms
2025-02-06 12:20:51.016 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/5005 - null null
2025-02-06 12:20:51.016 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:51.016 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/5005 - 204 null null 0.5482ms
2025-02-06 12:20:51.020 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/5005 - application/json 2
2025-02-06 12:20:51.020 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:51.020 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:20:51.021 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:20:51.021 +05:00 [INF] Вход в StartTest(TestId=5005)
2025-02-06 12:20:51.021 +05:00 [INF] StartTestAsync(TestId=5005, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:20:51.022 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:20:51.024 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:20:51.026 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:20:51.028 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:20:51.029 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:20:51.029 +05:00 [INF] Тест успешно создан: UserTestId=10014
2025-02-06 12:20:51.029 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:20:51.029 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 8.8123ms
2025-02-06 12:20:51.029 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:20:51.030 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/5005 - 200 null application/json; charset=utf-8 9.4551ms
2025-02-06 12:20:57.834 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10014/save - null null
2025-02-06 12:20:57.834 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:57.834 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10014/save - 204 null null 0.2574ms
2025-02-06 12:20:57.836 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10014/save - application/json 184
2025-02-06 12:20:57.836 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:57.836 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:20:57.836 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:20:57.837 +05:00 [INF] Вход в SaveAnswers(UserTestId=10014), Count=3
2025-02-06 12:20:57.837 +05:00 [INF] SaveAnswersAsync(UserTestId=10014, CountAnswers=3)
2025-02-06 12:20:57.838 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:20:57.841 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:20:57.841 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:20:57.842 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 5.4453ms
2025-02-06 12:20:57.842 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:20:57.842 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10014/save - 200 null application/json; charset=utf-8 6.0551ms
2025-02-06 12:20:57.846 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10014/check - null null
2025-02-06 12:20:57.846 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:57.846 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10014/check - 204 null null 0.2723ms
2025-02-06 12:20:57.847 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10014/check - null null
2025-02-06 12:20:57.847 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:57.848 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:20:57.848 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:20:57.848 +05:00 [INF] Вход в CheckAnswers(UserTestId=10014)
2025-02-06 12:20:57.848 +05:00 [INF] CheckAnswersAsync(UserTestId=10014)
2025-02-06 12:20:57.849 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:20:57.851 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:20:57.851 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:20:57.851 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 3.5515ms
2025-02-06 12:20:57.851 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:20:57.851 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10014/check - 200 null application/json; charset=utf-8 4.041ms
2025-02-06 12:20:59.043 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:20:59.043 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:59.043 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2947ms
2025-02-06 12:20:59.047 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:20:59.047 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:20:59.047 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:20:59.047 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:20:59.048 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:20:59.048 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:20:59.049 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:20:59.051 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:20:59.052 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:20:59.052 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.468ms
2025-02-06 12:20:59.052 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:20:59.052 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.3095ms
2025-02-06 12:21:48.471 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:21:48.471 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:48.471 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:21:48.471 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:21:48.472 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 0.7862ms
2025-02-06 12:21:51.739 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:21:51.739 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:51.739 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2385ms
2025-02-06 12:21:51.742 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 12:21:51.742 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:51.742 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:21:51.742 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:21:51.743 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 12:21:51.746 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:21:51.800 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:21:51.801 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 12:21:51.803 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:21:51.804 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 61.5412ms
2025-02-06 12:21:51.804 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:21:51.804 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 62.2239ms
2025-02-06 12:21:51.818 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:21:51.818 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:51.818 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3486ms
2025-02-06 12:21:51.823 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:21:51.823 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:51.823 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:21:51.823 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:21:51.824 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:21:51.824 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:21:51.825 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:21:51.827 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:21:51.827 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:21:51.828 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.3809ms
2025-02-06 12:21:51.828 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:21:51.828 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.2569ms
2025-02-06 12:21:53.767 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:21:53.768 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:53.768 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3373ms
2025-02-06 12:21:53.772 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:21:53.772 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:53.772 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:21:53.773 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:21:53.773 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:21:53.773 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:21:53.774 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:21:53.776 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:21:53.776 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:21:53.776 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.5687ms
2025-02-06 12:21:53.776 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:21:53.776 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.5174ms
2025-02-06 12:21:56.087 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/1 - null null
2025-02-06 12:21:56.087 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:56.087 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/1 - 204 null null 0.3321ms
2025-02-06 12:21:56.090 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/1 - null null
2025-02-06 12:21:56.091 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:56.091 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:21:56.094 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:21:56.095 +05:00 [INF] Вход в DeleteTest(Id=1)
2025-02-06 12:21:56.096 +05:00 [INF] DeleteTestAsync(Id=1)
2025-02-06 12:21:56.097 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:21:56.104 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:21:56.105 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:21:56.105 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 11.6668ms
2025-02-06 12:21:56.105 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:21:56.106 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/1 - 204 null null 15.4366ms
2025-02-06 12:21:56.109 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:21:56.109 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:56.109 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:21:56.109 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:21:56.110 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:21:56.110 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:21:56.111 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:21:56.115 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:21:56.116 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:21:56.117 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.0317ms
2025-02-06 12:21:56.117 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:21:56.117 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.8014ms
2025-02-06 12:21:58.042 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/2 - null null
2025-02-06 12:21:58.042 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:58.043 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/2 - 204 null null 0.3173ms
2025-02-06 12:21:58.045 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/2 - null null
2025-02-06 12:21:58.045 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:58.045 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:21:58.045 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:21:58.046 +05:00 [INF] Вход в DeleteTest(Id=2)
2025-02-06 12:21:58.046 +05:00 [INF] DeleteTestAsync(Id=2)
2025-02-06 12:21:58.047 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:21:58.049 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:21:58.049 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:21:58.049 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 4.3597ms
2025-02-06 12:21:58.049 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:21:58.049 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/2 - 204 null null 4.9982ms
2025-02-06 12:21:58.052 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:21:58.052 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:58.052 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:21:58.052 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:21:58.053 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:21:58.053 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:21:58.053 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:21:58.055 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:21:58.056 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:21:58.056 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.6964ms
2025-02-06 12:21:58.056 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:21:58.056 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.2116ms
2025-02-06 12:21:59.719 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/2008 - null null
2025-02-06 12:21:59.720 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:59.720 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/2008 - 204 null null 0.2942ms
2025-02-06 12:21:59.721 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/2008 - null null
2025-02-06 12:21:59.722 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:59.722 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:21:59.722 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:21:59.722 +05:00 [INF] Вход в DeleteTest(Id=2008)
2025-02-06 12:21:59.722 +05:00 [INF] DeleteTestAsync(Id=2008)
2025-02-06 12:21:59.723 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:21:59.736 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:21:59.737 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:21:59.737 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 14.7787ms
2025-02-06 12:21:59.737 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:21:59.737 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/2008 - 204 null null 15.4821ms
2025-02-06 12:21:59.740 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:21:59.740 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:59.740 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2035ms
2025-02-06 12:21:59.741 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:21:59.742 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:21:59.742 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:21:59.742 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:21:59.743 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:21:59.743 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:21:59.744 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:21:59.745 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:21:59.746 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:21:59.746 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3369ms
2025-02-06 12:21:59.746 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:21:59.746 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.8938ms
2025-02-06 12:22:00.629 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/3005 - null null
2025-02-06 12:22:00.629 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:00.629 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/3005 - 204 null null 0.3379ms
2025-02-06 12:22:00.631 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/3005 - null null
2025-02-06 12:22:00.631 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:00.631 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:00.631 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:00.632 +05:00 [INF] Вход в DeleteTest(Id=3005)
2025-02-06 12:22:00.632 +05:00 [INF] DeleteTestAsync(Id=3005)
2025-02-06 12:22:00.633 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:00.646 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:00.646 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:00.646 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 15.3591ms
2025-02-06 12:22:00.647 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:00.647 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/3005 - 204 null null 15.8797ms
2025-02-06 12:22:00.649 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:00.650 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:00.650 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:00.650 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:00.651 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:00.651 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:00.652 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:00.653 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:00.653 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:00.653 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.2495ms
2025-02-06 12:22:00.653 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:00.654 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.0795ms
2025-02-06 12:22:01.418 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/5005 - null null
2025-02-06 12:22:01.418 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:01.418 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/5005 - 204 null null 0.3403ms
2025-02-06 12:22:01.420 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/5005 - null null
2025-02-06 12:22:01.420 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:01.420 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:01.420 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:01.421 +05:00 [INF] Вход в DeleteTest(Id=5005)
2025-02-06 12:22:01.421 +05:00 [INF] DeleteTestAsync(Id=5005)
2025-02-06 12:22:01.422 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:01.436 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:01.436 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:01.436 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 15.8503ms
2025-02-06 12:22:01.436 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:01.436 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/5005 - 204 null null 16.3749ms
2025-02-06 12:22:01.439 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:01.439 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:01.439 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:01.439 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:01.440 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:01.440 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:01.441 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:01.443 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:01.443 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:01.443 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.6846ms
2025-02-06 12:22:01.443 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:01.443 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.4203ms
2025-02-06 12:22:02.123 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/5006 - null null
2025-02-06 12:22:02.123 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:02.123 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/5006 - 204 null null 0.2609ms
2025-02-06 12:22:02.125 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/5006 - null null
2025-02-06 12:22:02.125 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:02.125 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:02.125 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:02.126 +05:00 [INF] Вход в DeleteTest(Id=5006)
2025-02-06 12:22:02.126 +05:00 [INF] DeleteTestAsync(Id=5006)
2025-02-06 12:22:02.127 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:02.140 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:02.140 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:02.140 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 14.4948ms
2025-02-06 12:22:02.140 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:02.140 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/5006 - 204 null null 15.4418ms
2025-02-06 12:22:02.143 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:02.144 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:02.144 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:02.144 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:02.144 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:02.144 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:02.145 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:02.146 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:02.147 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:02.147 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.3505ms
2025-02-06 12:22:02.147 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:02.147 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.9509ms
2025-02-06 12:22:02.825 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/5007 - null null
2025-02-06 12:22:02.825 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:02.825 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/5007 - 204 null null 0.327ms
2025-02-06 12:22:02.827 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/5007 - null null
2025-02-06 12:22:02.827 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:02.827 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:02.827 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:02.828 +05:00 [INF] Вход в DeleteTest(Id=5007)
2025-02-06 12:22:02.828 +05:00 [INF] DeleteTestAsync(Id=5007)
2025-02-06 12:22:02.829 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:02.832 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:02.832 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:02.832 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 5.199ms
2025-02-06 12:22:02.832 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:02.833 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/5007 - 204 null null 5.7688ms
2025-02-06 12:22:02.837 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:02.837 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:02.837 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:02.837 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:02.839 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:02.839 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:02.841 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:02.842 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:02.843 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:02.843 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.8437ms
2025-02-06 12:22:02.843 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:02.843 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.8938ms
2025-02-06 12:22:03.508 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/6007 - null null
2025-02-06 12:22:03.508 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:03.508 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/6007 - 204 null null 0.3225ms
2025-02-06 12:22:03.510 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/6007 - null null
2025-02-06 12:22:03.510 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:03.510 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:03.510 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:03.510 +05:00 [INF] Вход в DeleteTest(Id=6007)
2025-02-06 12:22:03.511 +05:00 [INF] DeleteTestAsync(Id=6007)
2025-02-06 12:22:03.512 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:03.525 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:03.525 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:03.525 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 14.9426ms
2025-02-06 12:22:03.525 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:03.525 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/6007 - 204 null null 15.4527ms
2025-02-06 12:22:03.529 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:03.529 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:03.529 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:03.529 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:03.530 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:03.530 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:03.531 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:03.532 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:03.533 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:03.533 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.1562ms
2025-02-06 12:22:03.533 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:03.533 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.1649ms
2025-02-06 12:22:04.911 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7008 - null null
2025-02-06 12:22:04.911 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:04.911 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7008 - 204 null null 0.2637ms
2025-02-06 12:22:04.913 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/7008 - null null
2025-02-06 12:22:04.913 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:04.913 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:04.913 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:04.914 +05:00 [INF] Вход в DeleteTest(Id=7008)
2025-02-06 12:22:04.914 +05:00 [INF] DeleteTestAsync(Id=7008)
2025-02-06 12:22:04.915 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:04.928 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:04.929 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:04.929 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 15.2865ms
2025-02-06 12:22:04.929 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:04.929 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/7008 - 204 null null 16.0677ms
2025-02-06 12:22:04.932 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:04.932 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:04.932 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.1919ms
2025-02-06 12:22:04.933 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:04.933 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:04.934 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:04.934 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:04.935 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:04.935 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:04.935 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:04.937 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:04.937 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:04.937 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.6021ms
2025-02-06 12:22:04.937 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:04.937 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.221ms
2025-02-06 12:22:05.579 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/7009 - null null
2025-02-06 12:22:05.579 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:05.579 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/7009 - 204 null null 0.3228ms
2025-02-06 12:22:05.581 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/7009 - null null
2025-02-06 12:22:05.581 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:05.581 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:05.581 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:05.582 +05:00 [INF] Вход в DeleteTest(Id=7009)
2025-02-06 12:22:05.582 +05:00 [INF] DeleteTestAsync(Id=7009)
2025-02-06 12:22:05.583 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:05.596 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:05.596 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:05.596 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 14.6946ms
2025-02-06 12:22:05.596 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:05.596 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/7009 - 204 null null 15.3144ms
2025-02-06 12:22:05.599 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:05.599 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:05.599 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:05.599 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:05.600 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:05.600 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:05.601 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:05.602 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:05.602 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:05.603 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.0288ms
2025-02-06 12:22:05.603 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:05.603 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.8167ms
2025-02-06 12:22:06.230 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8007 - null null
2025-02-06 12:22:06.231 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:06.231 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8007 - 204 null null 0.4248ms
2025-02-06 12:22:06.235 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8007 - null null
2025-02-06 12:22:06.235 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:06.235 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:06.235 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:06.236 +05:00 [INF] Вход в DeleteTest(Id=8007)
2025-02-06 12:22:06.236 +05:00 [INF] DeleteTestAsync(Id=8007)
2025-02-06 12:22:06.237 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:06.250 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:06.250 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:06.250 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 14.549ms
2025-02-06 12:22:06.250 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:06.250 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8007 - 204 null null 15.2778ms
2025-02-06 12:22:06.254 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:06.254 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:06.254 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:06.254 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:06.255 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:06.255 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:06.256 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:06.257 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:06.258 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:06.258 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.0398ms
2025-02-06 12:22:06.258 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:06.258 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.7917ms
2025-02-06 12:22:07.926 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8008 - null null
2025-02-06 12:22:07.927 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:07.927 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8008 - 204 null null 0.2581ms
2025-02-06 12:22:07.929 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8008 - null null
2025-02-06 12:22:07.929 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:07.929 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:07.929 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:07.930 +05:00 [INF] Вход в DeleteTest(Id=8008)
2025-02-06 12:22:07.930 +05:00 [INF] DeleteTestAsync(Id=8008)
2025-02-06 12:22:07.931 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:22:07.944 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 12:22:07.944 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 12:22:07.944 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 14.775ms
2025-02-06 12:22:07.944 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 12:22:07.944 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8008 - 204 null null 15.744ms
2025-02-06 12:22:07.948 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:22:07.948 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:07.948 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:07.948 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:22:07.949 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:22:07.949 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:22:07.950 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:22:07.951 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:22:07.951 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:07.951 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.0726ms
2025-02-06 12:22:07.951 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:22:07.952 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.7204ms
2025-02-06 12:22:09.589 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:22:09.589 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:09.589 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3839ms
2025-02-06 12:22:09.591 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:22:09.591 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:22:09.591 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:22:09.591 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:22:09.592 +05:00 [INF] GetAll Topics
2025-02-06 12:22:09.593 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:22:09.594 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:22:09.595 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.9854ms
2025-02-06 12:22:09.595 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:22:09.595 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.6749ms
2025-02-06 12:23:02.245 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - null null
2025-02-06 12:23:02.245 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:02.245 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - 204 null null 0.2503ms
2025-02-06 12:23:02.247 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - null 0
2025-02-06 12:23:02.247 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:02.247 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:02.247 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:02.249 +05:00 [INF] Вход в CreateTemplate: Матиматика № 1 тест, count=5, topic=1, isPrivate=false
2025-02-06 12:23:02.251 +05:00 [INF] CreateTemplateAsync(Name=Матиматика № 1 тест, count=5, topic=1, isPrivate=false)
2025-02-06 12:23:02.264 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:23:02.265 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:23:02.266 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 18.0778ms
2025-02-06 12:23:02.266 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:02.266 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - 200 null application/json; charset=utf-8 18.7642ms
2025-02-06 12:23:02.269 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:02.269 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:02.269 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.204ms
2025-02-06 12:23:02.271 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:02.271 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:02.271 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:02.271 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:02.272 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:23:02.272 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:23:02.273 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:23:02.278 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:23:02.280 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:02.282 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 10.4873ms
2025-02-06 12:23:02.282 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:02.282 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.2156ms
2025-02-06 12:23:03.244 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:23:03.244 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:03.244 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2443ms
2025-02-06 12:23:03.246 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:23:03.246 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:03.246 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:03.246 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:23:03.247 +05:00 [INF] GetAll Topics
2025-02-06 12:23:03.248 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:23:03.249 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:03.249 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8701ms
2025-02-06 12:23:03.249 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:03.249 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.5233ms
2025-02-06 12:23:08.375 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=false - null null
2025-02-06 12:23:08.375 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:08.375 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=false - 204 null null 0.3302ms
2025-02-06 12:23:08.377 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=false - null 0
2025-02-06 12:23:08.377 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:08.377 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:08.377 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:08.378 +05:00 [INF] Вход в CreateTemplate: Матиматика № 2 тест, count=1, topic=null, isPrivate=false
2025-02-06 12:23:08.378 +05:00 [INF] CreateTemplateAsync(Name=Матиматика № 2 тест, count=1, topic=null, isPrivate=false)
2025-02-06 12:23:08.391 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:23:08.392 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:23:08.392 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 15.2313ms
2025-02-06 12:23:08.392 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:08.392 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=false - 200 null application/json; charset=utf-8 15.7291ms
2025-02-06 12:23:08.395 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:08.396 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:08.396 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2918ms
2025-02-06 12:23:08.397 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:08.398 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:08.398 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:08.398 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:08.398 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:23:08.398 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:23:08.399 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:23:08.401 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:23:08.401 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:08.401 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.0736ms
2025-02-06 12:23:08.401 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:08.401 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.5576ms
2025-02-06 12:23:11.319 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:23:11.320 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:11.320 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2692ms
2025-02-06 12:23:11.321 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:23:11.321 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:11.321 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:11.321 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:23:11.322 +05:00 [INF] GetAll Topics
2025-02-06 12:23:11.322 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:23:11.324 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:11.324 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.5115ms
2025-02-06 12:23:11.324 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:11.324 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.0395ms
2025-02-06 12:23:14.133 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8010?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=false&topicId=1 - null null
2025-02-06 12:23:14.134 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:14.134 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8010?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=false&topicId=1 - 204 null null 0.2664ms
2025-02-06 12:23:14.135 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8010?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=false&topicId=1 - null 0
2025-02-06 12:23:14.136 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:14.136 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:23:14.136 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:14.137 +05:00 [INF] Вход в UpdateTest(Id=8010)
2025-02-06 12:23:14.137 +05:00 [INF] UpdateTestAsync(Id=8010, Name=Матиматика № 2 тест, Count=1)
2025-02-06 12:23:14.138 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:23:14.151 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 12:23:14.152 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:23:14.152 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 16.1408ms
2025-02-06 12:23:14.152 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:23:14.152 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8010?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=false&topicId=1 - 200 null application/json; charset=utf-8 16.9337ms
2025-02-06 12:23:14.156 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:14.156 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:14.156 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2286ms
2025-02-06 12:23:14.157 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:14.157 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:14.157 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:14.157 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:14.158 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:23:14.158 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:23:14.159 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:23:14.160 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:23:14.161 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:14.161 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.2862ms
2025-02-06 12:23:14.161 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:14.161 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.8144ms
2025-02-06 12:23:16.288 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:23:16.288 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:16.288 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:16.289 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:23:16.289 +05:00 [INF] GetAll Topics
2025-02-06 12:23:16.290 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:23:16.291 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:16.291 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8469ms
2025-02-06 12:23:16.291 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:16.292 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.5175ms
2025-02-06 12:23:35.718 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%201&countOfQuestions=3&isPrivate=false&topicId=1005 - null null
2025-02-06 12:23:35.718 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:35.718 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%201&countOfQuestions=3&isPrivate=false&topicId=1005 - 204 null null 0.3214ms
2025-02-06 12:23:35.719 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%201&countOfQuestions=3&isPrivate=false&topicId=1005 - null 0
2025-02-06 12:23:35.719 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:35.720 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:35.720 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:35.720 +05:00 [INF] Вход в CreateTemplate: Program C# Test 1, count=3, topic=1005, isPrivate=false
2025-02-06 12:23:35.720 +05:00 [INF] CreateTemplateAsync(Name=Program C# Test 1, count=3, topic=1005, isPrivate=false)
2025-02-06 12:23:35.732 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:23:35.732 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:23:35.733 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 13.1094ms
2025-02-06 12:23:35.733 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:35.733 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%201&countOfQuestions=3&isPrivate=false&topicId=1005 - 200 null application/json; charset=utf-8 13.7847ms
2025-02-06 12:23:35.736 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:35.736 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:35.736 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.1955ms
2025-02-06 12:23:35.737 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:35.738 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:35.738 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:35.738 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:35.738 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:23:35.738 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:23:35.739 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:23:35.741 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:23:35.741 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:35.741 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.3527ms
2025-02-06 12:23:35.741 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:35.741 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.8235ms
2025-02-06 12:23:38.170 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:23:38.171 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:38.171 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3161ms
2025-02-06 12:23:38.172 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:23:38.173 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:38.173 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:38.173 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:23:38.173 +05:00 [INF] GetAll Topics
2025-02-06 12:23:38.174 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:23:38.175 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:38.175 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.5344ms
2025-02-06 12:23:38.175 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:38.175 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.1301ms
2025-02-06 12:23:45.837 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%202&countOfQuestions=3&isPrivate=false&topicId=1005 - null null
2025-02-06 12:23:45.837 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:45.837 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%202&countOfQuestions=3&isPrivate=false&topicId=1005 - 204 null null 0.3304ms
2025-02-06 12:23:45.839 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%202&countOfQuestions=3&isPrivate=false&topicId=1005 - null 0
2025-02-06 12:23:45.839 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:45.839 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:45.839 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:45.840 +05:00 [INF] Вход в CreateTemplate: Program C# Test 2, count=3, topic=1005, isPrivate=false
2025-02-06 12:23:45.840 +05:00 [INF] CreateTemplateAsync(Name=Program C# Test 2, count=3, topic=1005, isPrivate=false)
2025-02-06 12:23:45.842 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:23:45.843 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:23:45.843 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 3.682ms
2025-02-06 12:23:45.843 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:45.843 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%202&countOfQuestions=3&isPrivate=false&topicId=1005 - 200 null application/json; charset=utf-8 4.2772ms
2025-02-06 12:23:45.847 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:45.847 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:45.847 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4407ms
2025-02-06 12:23:45.849 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:45.849 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:45.849 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:45.849 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:45.850 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:23:45.850 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:23:45.851 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:23:45.852 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:23:45.852 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:45.852 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.2782ms
2025-02-06 12:23:45.852 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:45.853 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.8162ms
2025-02-06 12:23:48.620 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:23:48.620 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:48.620 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2434ms
2025-02-06 12:23:48.622 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:23:48.622 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:48.622 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:48.622 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:23:48.622 +05:00 [INF] GetAll Topics
2025-02-06 12:23:48.623 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:23:48.624 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:48.624 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.5027ms
2025-02-06 12:23:48.624 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:23:48.625 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.0287ms
2025-02-06 12:23:58.996 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%203&countOfQuestions=3&isPrivate=true&topicId=1005 - null null
2025-02-06 12:23:58.996 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:58.996 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%203&countOfQuestions=3&isPrivate=true&topicId=1005 - 204 null null 0.2601ms
2025-02-06 12:23:58.998 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%203&countOfQuestions=3&isPrivate=true&topicId=1005 - null 0
2025-02-06 12:23:58.998 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:58.998 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:58.999 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:58.999 +05:00 [INF] Вход в CreateTemplate: Program C# Test 3, count=3, topic=1005, isPrivate=true
2025-02-06 12:23:58.999 +05:00 [INF] CreateTemplateAsync(Name=Program C# Test 3, count=3, topic=1005, isPrivate=true)
2025-02-06 12:23:59.011 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:23:59.012 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:23:59.012 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 13.5346ms
2025-02-06 12:23:59.012 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:23:59.012 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%203&countOfQuestions=3&isPrivate=true&topicId=1005 - 200 null application/json; charset=utf-8 14.1934ms
2025-02-06 12:23:59.016 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:59.016 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:59.016 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2567ms
2025-02-06 12:23:59.016 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8013 - null null
2025-02-06 12:23:59.016 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:59.016 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8013 - 204 null null 0.1388ms
2025-02-06 12:23:59.019 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:23:59.019 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:59.019 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8013 - null null
2025-02-06 12:23:59.019 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:23:59.019 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:59.019 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:23:59.019 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:23:59.019 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:23:59.020 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:23:59.020 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:23:59.021 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:23:59.025 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:23:59.026 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:59.026 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.9725ms
2025-02-06 12:23:59.026 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:23:59.026 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.6505ms
2025-02-06 12:23:59.030 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:23:59.030 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:23:59.031 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 11.3605ms
2025-02-06 12:23:59.031 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:23:59.031 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8013 - 200 null application/json; charset=utf-8 11.8809ms
2025-02-06 12:24:01.246 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D0%B2 - null null
2025-02-06 12:24:01.246 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:01.246 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D0%B2 - 204 null null 0.2568ms
2025-02-06 12:24:01.247 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D0%B2 - null null
2025-02-06 12:24:01.248 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:01.248 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:01.248 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:24:01.249 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:24:01.249 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:01.249 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.4656ms
2025-02-06 12:24:01.249 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:01.249 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D0%B2 - 200 null application/json; charset=utf-8 1.9287ms
2025-02-06 12:24:03.912 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 12:24:03.912 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:03.912 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.2294ms
2025-02-06 12:24:03.914 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 12:24:03.914 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:03.914 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:03.914 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:24:03.915 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:24:03.915 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:03.915 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.4163ms
2025-02-06 12:24:03.916 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:03.916 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 1.9018ms
2025-02-06 12:24:04.058 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:24:04.058 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:04.058 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 0.2151ms
2025-02-06 12:24:04.059 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 12:24:04.059 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:04.059 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:04.059 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:24:04.060 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:24:04.060 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:04.061 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.2844ms
2025-02-06 12:24:04.061 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:04.061 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 1.6909ms
2025-02-06 12:24:04.187 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - null null
2025-02-06 12:24:04.187 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:04.187 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zha - 204 null null 0.2874ms
2025-02-06 12:24:04.189 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zha - null null
2025-02-06 12:24:04.189 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:04.189 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:04.189 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:24:04.190 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:24:04.190 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:04.191 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.4518ms
2025-02-06 12:24:04.191 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:04.191 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zha - 200 null application/json; charset=utf-8 1.9356ms
2025-02-06 12:24:05.888 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8013&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 12:24:05.889 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:05.889 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8013&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.2579ms
2025-02-06 12:24:05.890 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8013&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 12:24:05.891 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:05.891 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:24:05.891 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:05.891 +05:00 [INF] AddAccess(TestId=8013, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:24:05.891 +05:00 [INF] AddUserAccessAsync(TestId=8013, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:24:05.892 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:24:05.904 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:24:05.905 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:24:05.905 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.239ms
2025-02-06 12:24:05.905 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:24:05.905 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8013&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 14.7688ms
2025-02-06 12:24:05.908 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8013 - null null
2025-02-06 12:24:05.908 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:05.908 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8013 - 204 null null 0.1962ms
2025-02-06 12:24:05.909 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8013 - null null
2025-02-06 12:24:05.910 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:05.910 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:05.910 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:05.911 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:24:05.913 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:24:05.913 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:05.913 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.5249ms
2025-02-06 12:24:05.913 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:05.914 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8013 - 200 null application/json; charset=utf-8 4.0772ms
2025-02-06 12:24:11.497 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:24:11.498 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:11.498 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2533ms
2025-02-06 12:24:11.499 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:24:11.499 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:11.499 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:11.499 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:24:11.500 +05:00 [INF] GetAll Topics
2025-02-06 12:24:11.501 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:24:11.502 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:11.502 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.5933ms
2025-02-06 12:24:11.502 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:11.502 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.0875ms
2025-02-06 12:24:24.674 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%204&countOfQuestions=3&isPrivate=true&topicId=1005 - null null
2025-02-06 12:24:24.674 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:24.674 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%204&countOfQuestions=3&isPrivate=true&topicId=1005 - 204 null null 0.2564ms
2025-02-06 12:24:24.675 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%204&countOfQuestions=3&isPrivate=true&topicId=1005 - null 0
2025-02-06 12:24:24.675 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:24.676 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:24:24.676 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:24:24.676 +05:00 [INF] Вход в CreateTemplate: Program C# Test 4, count=3, topic=1005, isPrivate=true
2025-02-06 12:24:24.676 +05:00 [INF] CreateTemplateAsync(Name=Program C# Test 4, count=3, topic=1005, isPrivate=true)
2025-02-06 12:24:24.688 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:24:24.689 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:24:24.689 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 13.3601ms
2025-02-06 12:24:24.689 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:24:24.689 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%204&countOfQuestions=3&isPrivate=true&topicId=1005 - 200 null application/json; charset=utf-8 13.8737ms
2025-02-06 12:24:24.692 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:24:24.692 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:24.693 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8014 - null null
2025-02-06 12:24:24.693 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2489ms
2025-02-06 12:24:24.693 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:24.693 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8014 - 204 null null 0.1345ms
2025-02-06 12:24:24.696 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:24:24.696 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8014 - null null
2025-02-06 12:24:24.696 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:24.696 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:24.696 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:24:24.696 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:24.696 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:24.696 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:24:24.697 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:24:24.697 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:24:24.698 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:24:24.698 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:24:24.700 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:24.702 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:24:24.702 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 5.9979ms
2025-02-06 12:24:24.703 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:24.706 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8014 - 200 null application/json; charset=utf-8 9.6421ms
2025-02-06 12:24:24.706 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:24.706 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 9.3815ms
2025-02-06 12:24:24.706 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:24:24.706 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.1099ms
2025-02-06 12:24:25.939 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - null null
2025-02-06 12:24:25.939 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:25.939 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - 204 null null 0.2493ms
2025-02-06 12:24:25.940 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 12:24:25.941 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:25.941 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:25.941 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:24:25.942 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:24:25.942 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:25.943 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.7342ms
2025-02-06 12:24:25.943 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:25.943 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 2.4618ms
2025-02-06 12:24:27.517 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8014&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 12:24:27.517 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:27.518 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8014&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 204 null null 0.2573ms
2025-02-06 12:24:27.519 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8014&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - application/json 2
2025-02-06 12:24:27.519 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:27.519 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:24:27.519 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:27.520 +05:00 [INF] AddAccess(TestId=8014, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:24:27.520 +05:00 [INF] AddUserAccessAsync(TestId=8014, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:24:27.520 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:24:27.533 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:24:27.533 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:24:27.534 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.5869ms
2025-02-06 12:24:27.534 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:24:27.534 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8014&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null application/json; charset=utf-8 15.0833ms
2025-02-06 12:24:27.536 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8014 - null null
2025-02-06 12:24:27.536 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:27.537 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:27.537 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:27.538 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:24:27.540 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:24:27.540 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:27.540 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.3181ms
2025-02-06 12:24:27.540 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:27.540 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8014 - 200 null application/json; charset=utf-8 3.8182ms
2025-02-06 12:24:30.857 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:24:30.857 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:30.857 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.3586ms
2025-02-06 12:24:30.860 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:24:30.860 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:30.860 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:24:30.860 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:24:30.861 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:24:30.861 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:24:30.861 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:24:30.863 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:24:30.863 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:30.863 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.1614ms
2025-02-06 12:24:30.863 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:24:30.864 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 3.9742ms
2025-02-06 12:24:33.251 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:24:33.251 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:33.251 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3007ms
2025-02-06 12:24:33.253 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:24:33.254 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:33.254 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:33.254 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:24:33.255 +05:00 [INF] GetAll Topics
2025-02-06 12:24:33.255 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:24:33.257 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:33.257 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8057ms
2025-02-06 12:24:33.257 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:33.257 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.676ms
2025-02-06 12:24:50.967 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%203%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - null null
2025-02-06 12:24:50.967 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:50.967 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%203%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - 204 null null 0.26ms
2025-02-06 12:24:50.968 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%203%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - null 0
2025-02-06 12:24:50.969 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:50.969 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:24:50.969 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:24:50.969 +05:00 [INF] Вход в CreateTemplate: Матиматика № 3 тест, count=5, topic=1, isPrivate=true
2025-02-06 12:24:50.969 +05:00 [INF] CreateTemplateAsync(Name=Матиматика № 3 тест, count=5, topic=1, isPrivate=true)
2025-02-06 12:24:50.982 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 12:24:50.983 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:24:50.983 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 13.9935ms
2025-02-06 12:24:50.983 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 12:24:50.983 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%203%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 14.5104ms
2025-02-06 12:24:50.986 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:24:50.986 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8015 - null null
2025-02-06 12:24:50.987 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:50.987 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:50.987 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2758ms
2025-02-06 12:24:50.987 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8015 - 204 null null 0.183ms
2025-02-06 12:24:50.988 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:24:50.988 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - null null
2025-02-06 12:24:50.988 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:50.988 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:50.988 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:50.988 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:24:50.988 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:50.988 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:24:50.989 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:24:50.989 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:24:50.990 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:24:50.991 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:24:50.992 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:50.994 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 5.6588ms
2025-02-06 12:24:50.994 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:50.996 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:24:50.997 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - 200 null application/json; charset=utf-8 8.6457ms
2025-02-06 12:24:50.997 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:50.998 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.9711ms
2025-02-06 12:24:50.998 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:24:50.998 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 9.7331ms
2025-02-06 12:24:54.371 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 12:24:54.371 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:54.372 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.3011ms
2025-02-06 12:24:54.373 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 12:24:54.373 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:54.373 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:54.373 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:24:54.375 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:24:54.375 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:54.375 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.7604ms
2025-02-06 12:24:54.375 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:24:54.375 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 2.2288ms
2025-02-06 12:24:55.987 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8015&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 12:24:55.987 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:55.987 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8015&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 204 null null 0.4975ms
2025-02-06 12:24:55.989 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8015&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - application/json 2
2025-02-06 12:24:55.989 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:55.990 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:24:55.990 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:55.990 +05:00 [INF] AddAccess(TestId=8015, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:24:55.990 +05:00 [INF] AddUserAccessAsync(TestId=8015, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:24:55.991 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:24:56.003 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:24:56.004 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:24:56.004 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.1018ms
2025-02-06 12:24:56.004 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:24:56.004 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8015&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null application/json; charset=utf-8 14.8742ms
2025-02-06 12:24:56.007 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8015 - null null
2025-02-06 12:24:56.008 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:56.008 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8015 - 204 null null 0.2308ms
2025-02-06 12:24:56.009 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - null null
2025-02-06 12:24:56.009 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:56.009 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:56.009 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:56.010 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:24:56.012 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:24:56.012 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:56.013 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.3893ms
2025-02-06 12:24:56.013 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:56.013 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - 200 null application/json; charset=utf-8 3.9078ms
2025-02-06 12:24:58.288 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8015&userId=0ab40610-2629-4627-b313-6a207691ba1a - null null
2025-02-06 12:24:58.288 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:58.288 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8015&userId=0ab40610-2629-4627-b313-6a207691ba1a - 204 null null 0.2955ms
2025-02-06 12:24:58.289 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8015&userId=0ab40610-2629-4627-b313-6a207691ba1a - application/json 2
2025-02-06 12:24:58.289 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:58.289 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:24:58.289 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:58.290 +05:00 [INF] AddAccess(TestId=8015, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 12:24:58.290 +05:00 [INF] AddUserAccessAsync(TestId=8015, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 12:24:58.291 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:24:58.303 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:24:58.304 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:24:58.304 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.6048ms
2025-02-06 12:24:58.304 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:24:58.304 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8015&userId=0ab40610-2629-4627-b313-6a207691ba1a - 200 null application/json; charset=utf-8 15.163ms
2025-02-06 12:24:58.307 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - null null
2025-02-06 12:24:58.307 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:24:58.307 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:58.307 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:24:58.309 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:24:58.310 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:24:58.311 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:24:58.311 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:24:58.312 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.2323ms
2025-02-06 12:24:58.312 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:24:58.312 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - 200 null application/json; charset=utf-8 4.7861ms
2025-02-06 12:25:02.582 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:02.583 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:02.583 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2764ms
2025-02-06 12:25:02.584 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:02.584 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:02.585 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:02.585 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:25:02.585 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:25:02.585 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:25:02.586 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:25:02.588 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:25:02.588 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:02.588 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.2317ms
2025-02-06 12:25:02.588 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:02.588 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 3.8767ms
2025-02-06 12:25:04.103 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:25:04.103 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:04.103 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2501ms
2025-02-06 12:25:04.104 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:25:04.105 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:04.105 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:04.105 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:25:04.105 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:25:04.105 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:25:04.106 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:25:04.108 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:25:04.108 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:04.108 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.5235ms
2025-02-06 12:25:04.108 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:04.109 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.1174ms
2025-02-06 12:25:05.215 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:05.215 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:05.215 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:05.215 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:25:05.216 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:25:05.216 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:25:05.217 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:25:05.219 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:25:05.219 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:05.219 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.5699ms
2025-02-06 12:25:05.219 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:05.219 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.3887ms
2025-02-06 12:25:13.410 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:25:13.410 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:13.410 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.308ms
2025-02-06 12:25:13.412 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:25:13.412 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:13.412 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:25:13.412 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:25:13.413 +05:00 [INF] GetAll Topics
2025-02-06 12:25:13.413 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:25:13.415 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:13.415 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8854ms
2025-02-06 12:25:13.415 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:25:13.415 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.4702ms
2025-02-06 12:25:15.714 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8013 - null null
2025-02-06 12:25:15.714 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:15.714 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8013 - 204 null null 0.2729ms
2025-02-06 12:25:15.716 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8013 - null null
2025-02-06 12:25:15.716 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:15.716 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:25:15.716 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:25:15.717 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:25:15.719 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:25:15.719 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:15.720 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.6162ms
2025-02-06 12:25:15.720 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:25:15.720 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8013 - 200 null application/json; charset=utf-8 4.2665ms
2025-02-06 12:25:29.612 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:25:29.612 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:29.612 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2602ms
2025-02-06 12:25:29.613 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 12:25:29.613 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:29.614 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:29.614 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:25:29.614 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 12:25:29.614 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:25:29.615 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:25:29.616 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:25:29.617 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:29.617 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.074ms
2025-02-06 12:25:29.617 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:29.617 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 3.7442ms
2025-02-06 12:25:30.608 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:30.608 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:30.608 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3029ms
2025-02-06 12:25:30.610 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:30.610 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:30.611 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:30.611 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:25:30.611 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:25:30.611 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:25:30.612 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:25:30.614 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:25:30.614 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:30.614 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.3651ms
2025-02-06 12:25:30.614 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:30.614 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.2667ms
2025-02-06 12:25:35.506 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:35.506 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:35.506 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:25:35.507 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:25:35.507 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 0.7578ms
2025-02-06 12:25:39.535 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:25:39.535 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:39.535 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2378ms
2025-02-06 12:25:39.537 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 12:25:39.537 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:39.537 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:25:39.537 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:25:39.538 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 12:25:39.539 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:25:39.593 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:25:39.593 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 12:25:39.593 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:25:39.593 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 56.0397ms
2025-02-06 12:25:39.593 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:25:39.594 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 56.7225ms
2025-02-06 12:25:39.609 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:25:39.609 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:39.609 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5183ms
2025-02-06 12:25:39.613 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:25:39.613 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:39.614 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:25:39.614 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:25:39.614 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:25:39.614 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:25:39.615 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:25:39.617 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:25:39.617 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:39.618 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.8018ms
2025-02-06 12:25:39.618 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:25:39.618 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.5643ms
2025-02-06 12:25:40.991 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:40.991 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:40.991 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.509ms
2025-02-06 12:25:40.993 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:40.993 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:40.994 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:40.994 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:25:40.994 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:25:40.994 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:25:40.995 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:25:40.997 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:25:40.997 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:25:40.998 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.7721ms
2025-02-06 12:25:40.998 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:25:40.998 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.4425ms
2025-02-06 12:25:57.742 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:25:57.742 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:25:57.742 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:25:57.742 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:25:57.743 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 0.876ms
2025-02-06 12:26:08.730 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:26:08.730 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:08.730 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.246ms
2025-02-06 12:26:08.732 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 52
2025-02-06 12:26:08.732 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:08.732 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:26:08.732 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:26:08.733 +05:00 [INF] Запрос на логин пользователя: zhanarys@gmail.com
2025-02-06 12:26:08.734 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:26:08.787 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:26:08.787 +05:00 [INF] Пользователь zhanarys@gmail.com успешно залогинился
2025-02-06 12:26:08.787 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:26:08.787 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 55.5191ms
2025-02-06 12:26:08.788 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:26:08.788 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 56.0028ms
2025-02-06 12:26:08.804 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:26:08.804 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:08.805 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3751ms
2025-02-06 12:26:08.808 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:26:08.808 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:08.808 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:26:08.808 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:26:08.809 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:26:08.809 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:26:08.811 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:26:08.816 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:26:08.817 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:26:08.818 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 9.0287ms
2025-02-06 12:26:08.818 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:26:08.818 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.0346ms
2025-02-06 12:26:11.077 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:26:11.077 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:11.077 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.301ms
2025-02-06 12:26:11.083 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:26:11.083 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:11.083 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:26:11.083 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:26:11.084 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:26:11.084 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17, isAdmin=false)
2025-02-06 12:26:11.085 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:26:11.087 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:26:11.088 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:26:11.088 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8879ms
2025-02-06 12:26:11.088 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:26:11.089 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.893ms
2025-02-06 12:26:24.857 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:26:24.857 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:24.857 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4339ms
2025-02-06 12:26:24.861 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:26:24.861 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:24.861 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:26:24.861 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:26:24.862 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:26:24.862 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:26:24.864 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:26:24.865 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:26:24.866 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:26:24.866 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.4557ms
2025-02-06 12:26:24.866 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:26:24.866 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.5128ms
2025-02-06 12:26:26.018 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=zhanarys@gmail.com&page=1&pageSize=5 - null null
2025-02-06 12:26:26.018 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:26.018 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=zhanarys@gmail.com&page=1&pageSize=5 - 204 null null 0.3921ms
2025-02-06 12:26:26.022 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=zhanarys@gmail.com&page=1&pageSize=5 - null null
2025-02-06 12:26:26.022 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:26.022 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 12:26:26.022 +05:00 [INF] Route matched with {action = "GetAllByUserEmail", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllByUserEmail(System.String, Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:26:26.023 +05:00 [INF] Вход в GetAllByUserEmail: zhanarys@gmail.com, page=1, size=5
2025-02-06 12:26:26.024 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [a].[Email] = @__email_0
2025-02-06 12:26:26.025 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[DateRegistered], [s].[Email], [s].[EmailConfirmed], [s].[FullName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserTests] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
    WHERE [a].[Email] = @__email_0
    ORDER BY [u].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tests] AS [t] ON [s].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [t].[Id], [t0].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 12:26:26.026 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:26:26.026 +05:00 [INF] Executed action UserTestsController.GetAllByUserEmail (QuizMasterAPI) in 3.6448ms
2025-02-06 12:26:26.026 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 12:26:26.026 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=zhanarys@gmail.com&page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.4009ms
2025-02-06 12:26:27.543 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:26:27.543 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:27.543 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:26:27.543 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:26:27.544 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:26:27.544 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:26:27.545 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:26:27.547 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:26:27.548 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:26:27.548 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.7937ms
2025-02-06 12:26:27.548 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:26:27.548 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.583ms
2025-02-06 12:26:30.791 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:26:30.791 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:30.791 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3191ms
2025-02-06 12:26:30.795 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:26:30.795 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:30.795 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:26:30.795 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:26:30.796 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:26:30.796 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17, isAdmin=false)
2025-02-06 12:26:30.797 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:26:30.799 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:26:30.800 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:26:30.800 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3145ms
2025-02-06 12:26:30.800 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:26:30.800 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.0904ms
2025-02-06 12:26:33.097 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8009 - null null
2025-02-06 12:26:33.097 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:33.097 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8009 - 204 null null 0.5113ms
2025-02-06 12:26:33.102 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8009 - application/json 2
2025-02-06 12:26:33.102 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:33.102 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:26:33.102 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:26:33.103 +05:00 [INF] Вход в StartTest(TestId=8009)
2025-02-06 12:26:33.103 +05:00 [INF] StartTestAsync(TestId=8009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:26:33.104 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:26:33.106 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:26:33.109 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:26:33.115 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:26:33.117 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:26:33.117 +05:00 [INF] Тест успешно создан: UserTestId=10015
2025-02-06 12:26:33.117 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:26:33.118 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 15.3788ms
2025-02-06 12:26:33.118 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:26:33.118 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8009 - 200 null application/json; charset=utf-8 16.3047ms
2025-02-06 12:26:46.404 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10015/save - null null
2025-02-06 12:26:46.404 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:46.404 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10015/save - 204 null null 0.2735ms
2025-02-06 12:26:46.405 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10015/save - application/json 316
2025-02-06 12:26:46.405 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:46.406 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:26:46.406 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:26:46.407 +05:00 [INF] Вход в SaveAnswers(UserTestId=10015), Count=5
2025-02-06 12:26:46.407 +05:00 [INF] SaveAnswersAsync(UserTestId=10015, CountAnswers=5)
2025-02-06 12:26:46.408 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:26:46.424 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4),
(@p10, @p11, 5),
(@p12, @p13, 6)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:26:46.424 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:26:46.424 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 18.4657ms
2025-02-06 12:26:46.424 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:26:46.424 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10015/save - 200 null application/json; charset=utf-8 19.0858ms
2025-02-06 12:26:46.428 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10015/check - null null
2025-02-06 12:26:46.428 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:46.428 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10015/check - 204 null null 0.2199ms
2025-02-06 12:26:46.430 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10015/check - null null
2025-02-06 12:26:46.430 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:46.430 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:26:46.430 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:26:46.430 +05:00 [INF] Вход в CheckAnswers(UserTestId=10015)
2025-02-06 12:26:46.430 +05:00 [INF] CheckAnswersAsync(UserTestId=10015)
2025-02-06 12:26:46.431 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:26:46.434 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:26:46.434 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:26:46.435 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 4.8736ms
2025-02-06 12:26:46.435 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:26:46.435 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10015/check - 200 null application/json; charset=utf-8 5.3304ms
2025-02-06 12:26:47.809 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:26:47.809 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:47.809 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3211ms
2025-02-06 12:26:47.814 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:26:47.814 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:47.814 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:26:47.814 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:26:47.816 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:26:47.816 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17, isAdmin=false)
2025-02-06 12:26:47.817 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:26:47.819 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:26:47.819 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:26:47.819 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8642ms
2025-02-06 12:26:47.819 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:26:47.820 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.0011ms
2025-02-06 12:26:49.399 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8010 - null null
2025-02-06 12:26:49.399 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:49.399 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8010 - 204 null null 0.2937ms
2025-02-06 12:26:49.404 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8010 - application/json 2
2025-02-06 12:26:49.404 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:49.404 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:26:49.404 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:26:49.405 +05:00 [INF] Вход в StartTest(TestId=8010)
2025-02-06 12:26:49.405 +05:00 [INF] StartTestAsync(TestId=8010, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:26:49.407 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:26:49.408 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:26:49.420 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:26:49.423 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTestQuestions] ([QuestionId], [UserTestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:26:49.423 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:26:49.424 +05:00 [INF] Тест успешно создан: UserTestId=10016
2025-02-06 12:26:49.424 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:26:49.424 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 19.5368ms
2025-02-06 12:26:49.424 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:26:49.424 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8010 - 200 null application/json; charset=utf-8 20.5641ms
2025-02-06 12:26:50.468 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10016/save - null null
2025-02-06 12:26:50.469 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:50.469 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10016/save - 204 null null 0.4167ms
2025-02-06 12:26:50.471 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10016/save - application/json 58
2025-02-06 12:26:50.471 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:50.471 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:26:50.471 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:26:50.472 +05:00 [INF] Вход в SaveAnswers(UserTestId=10016), Count=1
2025-02-06 12:26:50.472 +05:00 [INF] SaveAnswersAsync(UserTestId=10016, CountAnswers=1)
2025-02-06 12:26:50.473 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:26:50.474 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:26:50.474 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 3.1587ms
2025-02-06 12:26:50.474 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:26:50.474 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10016/save - 200 null application/json; charset=utf-8 3.7609ms
2025-02-06 12:26:50.478 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10016/check - null null
2025-02-06 12:26:50.478 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:50.478 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10016/check - 204 null null 0.2438ms
2025-02-06 12:26:50.480 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10016/check - null null
2025-02-06 12:26:50.481 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:50.481 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:26:50.481 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:26:50.481 +05:00 [INF] Вход в CheckAnswers(UserTestId=10016)
2025-02-06 12:26:50.481 +05:00 [INF] CheckAnswersAsync(UserTestId=10016)
2025-02-06 12:26:50.482 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:26:50.484 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:26:50.484 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:26:50.484 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 3.3395ms
2025-02-06 12:26:50.484 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:26:50.484 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10016/check - 200 null application/json; charset=utf-8 3.8383ms
2025-02-06 12:26:56.241 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:26:56.241 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:56.241 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3698ms
2025-02-06 12:26:56.245 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:26:56.245 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:56.245 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:26:56.245 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:26:56.246 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:26:56.246 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17, isAdmin=false)
2025-02-06 12:26:56.247 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:26:56.249 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:26:56.249 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:26:56.250 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.0152ms
2025-02-06 12:26:56.250 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:26:56.250 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.927ms
2025-02-06 12:26:57.815 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8011 - null null
2025-02-06 12:26:57.815 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:57.815 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8011 - 204 null null 0.3921ms
2025-02-06 12:26:57.819 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8011 - application/json 2
2025-02-06 12:26:57.820 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:26:57.820 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:26:57.820 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:26:57.821 +05:00 [INF] Вход в StartTest(TestId=8011)
2025-02-06 12:26:57.821 +05:00 [INF] StartTestAsync(TestId=8011, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:26:57.822 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:26:57.824 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:26:57.836 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:26:57.838 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:26:57.839 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:26:57.839 +05:00 [INF] Тест успешно создан: UserTestId=10017
2025-02-06 12:26:57.839 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:26:57.839 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 18.7196ms
2025-02-06 12:26:57.839 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:26:57.839 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8011 - 200 null application/json; charset=utf-8 19.9597ms
2025-02-06 12:27:02.284 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10017/save - null null
2025-02-06 12:27:02.284 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:02.284 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10017/save - 204 null null 0.2482ms
2025-02-06 12:27:02.286 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10017/save - application/json 184
2025-02-06 12:27:02.286 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:02.286 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:27:02.286 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:27:02.287 +05:00 [INF] Вход в SaveAnswers(UserTestId=10017), Count=3
2025-02-06 12:27:02.287 +05:00 [INF] SaveAnswersAsync(UserTestId=10017, CountAnswers=3)
2025-02-06 12:27:02.288 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:27:02.301 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:27:02.302 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:27:02.302 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 15.6339ms
2025-02-06 12:27:02.302 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:27:02.302 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10017/save - 200 null application/json; charset=utf-8 16.269ms
2025-02-06 12:27:02.305 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10017/check - null null
2025-02-06 12:27:02.305 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:02.306 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10017/check - 204 null null 0.3229ms
2025-02-06 12:27:02.307 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10017/check - null null
2025-02-06 12:27:02.307 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:02.307 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:27:02.307 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:27:02.308 +05:00 [INF] Вход в CheckAnswers(UserTestId=10017)
2025-02-06 12:27:02.308 +05:00 [INF] CheckAnswersAsync(UserTestId=10017)
2025-02-06 12:27:02.309 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:27:02.310 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:27:02.311 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:27:02.311 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 3.5712ms
2025-02-06 12:27:02.311 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:27:02.311 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10017/check - 200 null application/json; charset=utf-8 4.0359ms
2025-02-06 12:27:03.718 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:27:03.718 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:03.718 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.357ms
2025-02-06 12:27:03.722 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:27:03.722 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:03.723 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:27:03.723 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:27:03.723 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:27:03.723 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17, isAdmin=false)
2025-02-06 12:27:03.725 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:27:03.726 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:27:03.726 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:27:03.727 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9936ms
2025-02-06 12:27:03.727 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:27:03.727 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.9782ms
2025-02-06 12:27:08.578 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8012 - null null
2025-02-06 12:27:08.578 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:08.578 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8012 - 204 null null 0.4705ms
2025-02-06 12:27:08.581 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8012 - application/json 2
2025-02-06 12:27:08.582 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:08.582 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:27:08.582 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:27:08.583 +05:00 [INF] Вход в StartTest(TestId=8012)
2025-02-06 12:27:08.583 +05:00 [INF] StartTestAsync(TestId=8012, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:27:08.583 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:27:08.585 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:27:08.598 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:27:08.600 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:27:08.601 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:27:08.601 +05:00 [INF] Тест успешно создан: UserTestId=10018
2025-02-06 12:27:08.601 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:27:08.601 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 19.1129ms
2025-02-06 12:27:08.601 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:27:08.601 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8012 - 200 null application/json; charset=utf-8 19.9962ms
2025-02-06 12:27:13.140 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10018/save - null null
2025-02-06 12:27:13.140 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:13.140 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10018/save - 204 null null 0.2419ms
2025-02-06 12:27:13.141 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10018/save - application/json 184
2025-02-06 12:27:13.142 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:13.142 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:27:13.142 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:27:13.143 +05:00 [INF] Вход в SaveAnswers(UserTestId=10018), Count=3
2025-02-06 12:27:13.143 +05:00 [INF] SaveAnswersAsync(UserTestId=10018, CountAnswers=3)
2025-02-06 12:27:13.144 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:27:13.157 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:27:13.157 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:27:13.158 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 15.8363ms
2025-02-06 12:27:13.158 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:27:13.158 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10018/save - 200 null application/json; charset=utf-8 16.4918ms
2025-02-06 12:27:13.163 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10018/check - null null
2025-02-06 12:27:13.163 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:13.163 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10018/check - 204 null null 0.258ms
2025-02-06 12:27:13.165 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10018/check - null null
2025-02-06 12:27:13.165 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:13.165 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:27:13.165 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:27:13.166 +05:00 [INF] Вход в CheckAnswers(UserTestId=10018)
2025-02-06 12:27:13.166 +05:00 [INF] CheckAnswersAsync(UserTestId=10018)
2025-02-06 12:27:13.167 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:27:13.168 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:27:13.169 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:27:13.169 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 3.7137ms
2025-02-06 12:27:13.169 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:27:13.169 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10018/check - 200 null application/json; charset=utf-8 4.285ms
2025-02-06 12:27:13.711 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10018/save - application/json 184
2025-02-06 12:27:13.712 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:13.712 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:27:13.712 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:27:13.713 +05:00 [INF] Вход в SaveAnswers(UserTestId=10018), Count=3
2025-02-06 12:27:13.713 +05:00 [INF] SaveAnswersAsync(UserTestId=10018, CountAnswers=3)
2025-02-06 12:27:13.714 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:27:13.739 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserTestAnswers]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [UserTestAnswers]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [UserTestAnswers]
OUTPUT 1
WHERE [Id] = @p2;
MERGE [UserTestAnswers] USING (
VALUES (@p3, @p4, 0),
(@p5, @p6, 1),
(@p7, @p8, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:27:13.746 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:27:13.746 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 34.2286ms
2025-02-06 12:27:13.746 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:27:13.746 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10018/save - 200 null application/json; charset=utf-8 34.8481ms
2025-02-06 12:27:13.749 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10018/check - null null
2025-02-06 12:27:13.749 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:13.749 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:27:13.749 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:27:13.750 +05:00 [INF] Вход в CheckAnswers(UserTestId=10018)
2025-02-06 12:27:13.750 +05:00 [INF] CheckAnswersAsync(UserTestId=10018)
2025-02-06 12:27:13.751 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:27:13.753 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:27:13.753 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:27:13.753 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 3.8847ms
2025-02-06 12:27:13.753 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:27:13.753 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10018/check - 200 null application/json; charset=utf-8 4.4701ms
2025-02-06 12:27:15.118 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:27:15.118 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:15.118 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2769ms
2025-02-06 12:27:15.123 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:27:15.123 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:15.123 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:27:15.123 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:27:15.124 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:27:15.124 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17, isAdmin=false)
2025-02-06 12:27:15.126 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:27:15.127 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:27:15.128 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:27:15.128 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.433ms
2025-02-06 12:27:15.128 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:27:15.128 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.4319ms
2025-02-06 12:27:16.635 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8013 - null null
2025-02-06 12:27:16.635 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:16.635 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8013 - 204 null null 0.4204ms
2025-02-06 12:27:16.639 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8013 - application/json 2
2025-02-06 12:27:16.639 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:16.639 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:27:16.639 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:27:16.640 +05:00 [INF] Вход в StartTest(TestId=8013)
2025-02-06 12:27:16.640 +05:00 [INF] StartTestAsync(TestId=8013, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 12:27:16.641 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:27:16.642 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:27:16.654 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:27:16.656 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:27:16.657 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:27:16.657 +05:00 [INF] Тест успешно создан: UserTestId=10019
2025-02-06 12:27:16.658 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:27:16.658 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 18.2496ms
2025-02-06 12:27:16.658 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:27:16.658 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8013 - 200 null application/json; charset=utf-8 19.1376ms
2025-02-06 12:27:21.325 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10019/save - null null
2025-02-06 12:27:21.325 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:21.326 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10019/save - 204 null null 0.253ms
2025-02-06 12:27:21.327 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10019/save - application/json 184
2025-02-06 12:27:21.327 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:21.327 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:27:21.327 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:27:21.328 +05:00 [INF] Вход в SaveAnswers(UserTestId=10019), Count=3
2025-02-06 12:27:21.328 +05:00 [INF] SaveAnswersAsync(UserTestId=10019, CountAnswers=3)
2025-02-06 12:27:21.329 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:27:21.343 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 12:27:21.343 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:27:21.343 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 15.9128ms
2025-02-06 12:27:21.343 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:27:21.343 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10019/save - 200 null application/json; charset=utf-8 16.4176ms
2025-02-06 12:27:21.347 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10019/check - null null
2025-02-06 12:27:21.347 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:21.347 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10019/check - 204 null null 0.2751ms
2025-02-06 12:27:21.349 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10019/check - null null
2025-02-06 12:27:21.349 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:21.349 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:27:21.349 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:27:21.350 +05:00 [INF] Вход в CheckAnswers(UserTestId=10019)
2025-02-06 12:27:21.350 +05:00 [INF] CheckAnswersAsync(UserTestId=10019)
2025-02-06 12:27:21.351 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:27:21.353 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:27:21.353 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:27:21.353 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 4.0452ms
2025-02-06 12:27:21.353 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:27:21.353 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10019/check - 200 null application/json; charset=utf-8 4.5513ms
2025-02-06 12:27:22.639 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:27:22.639 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:22.639 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.285ms
2025-02-06 12:27:22.643 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:27:22.644 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:22.644 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:27:22.644 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:27:22.645 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:27:22.645 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17, isAdmin=false)
2025-02-06 12:27:22.647 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:27:22.648 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:27:22.649 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:27:22.649 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.7856ms
2025-02-06 12:27:22.649 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:27:22.649 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.9062ms
2025-02-06 12:27:26.053 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:27:26.054 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:26.054 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4332ms
2025-02-06 12:27:26.058 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:27:26.058 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:26.059 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:27:26.059 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:27:26.059 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:27:26.059 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:27:26.060 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:27:26.062 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:27:26.062 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:27:26.063 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.594ms
2025-02-06 12:27:26.063 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:27:26.063 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.5734ms
2025-02-06 12:27:26.972 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=zhanarys@gmail.com&page=1&pageSize=5 - null null
2025-02-06 12:27:26.972 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:26.972 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/by-userEmail?email=zhanarys@gmail.com&page=1&pageSize=5 - 204 null null 0.3327ms
2025-02-06 12:27:26.976 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=zhanarys@gmail.com&page=1&pageSize=5 - null null
2025-02-06 12:27:26.977 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:26.977 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 12:27:26.977 +05:00 [INF] Route matched with {action = "GetAllByUserEmail", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllByUserEmail(System.String, Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:27:26.978 +05:00 [INF] Вход в GetAllByUserEmail: zhanarys@gmail.com, page=1, size=5
2025-02-06 12:27:26.979 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [a].[Email] = @__email_0
2025-02-06 12:27:26.981 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[DateRegistered], [s].[Email], [s].[EmailConfirmed], [s].[FullName], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserTests] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
    WHERE [a].[Email] = @__email_0
    ORDER BY [u].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tests] AS [t] ON [s].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [t].[Id], [t0].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 12:27:26.985 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:27:26.985 +05:00 [INF] Executed action UserTestsController.GetAllByUserEmail (QuizMasterAPI) in 8.1417ms
2025-02-06 12:27:26.985 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllByUserEmail (QuizMasterAPI)'
2025-02-06 12:27:26.985 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/by-userEmail?email=zhanarys@gmail.com&page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.0496ms
2025-02-06 12:27:43.903 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:27:43.903 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:43.903 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3143ms
2025-02-06 12:27:43.908 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:27:43.908 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:43.909 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:27:43.909 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:27:43.910 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:27:43.910 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:27:43.911 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:27:43.913 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:27:43.913 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:27:43.914 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.7473ms
2025-02-06 12:27:43.914 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:27:43.914 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.7479ms
2025-02-06 12:27:54.161 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:27:54.162 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:54.162 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:27:54.162 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:27:54.162 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 1.1752ms
2025-02-06 12:27:57.087 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:27:57.088 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:57.088 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2525ms
2025-02-06 12:27:57.089 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 12:27:57.089 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:57.089 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:27:57.089 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:27:57.090 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 12:27:57.091 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:27:57.144 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:27:57.144 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 12:27:57.144 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:27:57.145 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 55.1209ms
2025-02-06 12:27:57.145 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:27:57.145 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 55.5597ms
2025-02-06 12:27:57.158 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:27:57.158 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:57.158 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3106ms
2025-02-06 12:27:57.162 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:27:57.162 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:57.162 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:27:57.162 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:27:57.163 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:27:57.163 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:27:57.164 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:27:57.165 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:27:57.166 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:27:57.167 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.1727ms
2025-02-06 12:27:57.167 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:27:57.167 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.009ms
2025-02-06 12:27:59.168 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:27:59.168 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:59.168 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3009ms
2025-02-06 12:27:59.173 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:27:59.173 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:27:59.174 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:27:59.174 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:27:59.175 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:27:59.175 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:27:59.176 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:27:59.177 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:27:59.177 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:27:59.178 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.5587ms
2025-02-06 12:27:59.178 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:27:59.178 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.5797ms
2025-02-06 12:28:03.324 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:28:03.324 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:03.324 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2997ms
2025-02-06 12:28:03.327 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:28:03.327 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:03.327 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:28:03.327 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:28:03.328 +05:00 [INF] GetAll Topics
2025-02-06 12:28:03.329 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:28:03.330 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:28:03.330 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.5637ms
2025-02-06 12:28:03.330 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:28:03.330 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.243ms
2025-02-06 12:28:05.570 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8010 - null null
2025-02-06 12:28:05.570 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:05.571 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8010 - 204 null null 0.4209ms
2025-02-06 12:28:05.573 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8010 - null null
2025-02-06 12:28:05.573 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:05.573 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:28:05.573 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:28:05.574 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:28:05.575 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:28:05.575 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.2826ms
2025-02-06 12:28:05.575 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:28:05.575 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8010 - 200 null application/json; charset=utf-8 2.8623ms
2025-02-06 12:28:09.884 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 12:28:09.884 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:09.884 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.2433ms
2025-02-06 12:28:09.886 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 12:28:09.886 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:09.886 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:28:09.886 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 12:28:09.887 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 12:28:09.887 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:28:09.888 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.4054ms
2025-02-06 12:28:09.888 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 12:28:09.888 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 1.9226ms
2025-02-06 12:28:12.542 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8010&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 12:28:12.542 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:12.542 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8010&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 204 null null 0.2451ms
2025-02-06 12:28:12.544 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8010&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - application/json 2
2025-02-06 12:28:12.544 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:12.544 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:28:12.544 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:28:12.545 +05:00 [INF] AddAccess(TestId=8010, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:28:12.545 +05:00 [INF] AddUserAccessAsync(TestId=8010, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 12:28:12.545 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 12:28:12.558 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:28:12.558 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:28:12.559 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.5672ms
2025-02-06 12:28:12.559 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 12:28:12.559 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8010&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null application/json; charset=utf-8 15.0632ms
2025-02-06 12:28:12.562 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8010 - null null
2025-02-06 12:28:12.562 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:12.562 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8010 - 204 null null 0.2307ms
2025-02-06 12:28:12.563 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8010 - null null
2025-02-06 12:28:12.564 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:12.564 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:28:12.564 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 12:28:12.565 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 12:28:12.566 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 12:28:12.567 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:28:12.567 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.9372ms
2025-02-06 12:28:12.567 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 12:28:12.567 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8010 - 200 null application/json; charset=utf-8 3.5509ms
2025-02-06 12:28:14.962 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8010?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=true&topicId=1 - null null
2025-02-06 12:28:14.963 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:14.963 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8010?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=true&topicId=1 - 204 null null 0.3168ms
2025-02-06 12:28:14.964 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8010?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=true&topicId=1 - null 0
2025-02-06 12:28:14.964 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:14.965 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:28:14.965 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:28:14.965 +05:00 [INF] Вход в UpdateTest(Id=8010)
2025-02-06 12:28:14.965 +05:00 [INF] UpdateTestAsync(Id=8010, Name=Матиматика № 2 тест, Count=1)
2025-02-06 12:28:14.966 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:28:14.979 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 12:28:14.979 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 12:28:14.979 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 14.7247ms
2025-02-06 12:28:14.979 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 12:28:14.980 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8010?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%202%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=1&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 15.2918ms
2025-02-06 12:28:14.982 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:28:14.983 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:14.983 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.1872ms
2025-02-06 12:28:14.984 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:28:14.984 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:14.984 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:28:14.984 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:28:14.985 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:28:14.985 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:28:14.986 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:28:14.988 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:28:14.988 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:28:14.988 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.8268ms
2025-02-06 12:28:14.988 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:28:14.988 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.4528ms
2025-02-06 12:28:20.813 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:28:20.813 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:20.814 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:28:20.814 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:28:20.814 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 0.9223ms
2025-02-06 12:28:24.424 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:28:24.424 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:24.424 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2425ms
2025-02-06 12:28:24.425 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 12:28:24.426 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:24.426 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:28:24.426 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:28:24.426 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 12:28:24.428 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:28:24.481 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:28:24.482 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 12:28:24.482 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:28:24.485 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 59.2089ms
2025-02-06 12:28:24.485 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:28:24.485 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 59.752ms
2025-02-06 12:28:24.500 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:28:24.500 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:24.501 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5303ms
2025-02-06 12:28:24.505 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:28:24.506 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:24.506 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:28:24.506 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:28:24.506 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:28:24.507 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:28:24.507 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:28:24.509 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:28:24.510 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:28:24.510 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.1326ms
2025-02-06 12:28:24.510 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:28:24.510 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.9951ms
2025-02-06 12:28:25.848 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:28:25.848 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:25.848 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3073ms
2025-02-06 12:28:25.852 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:28:25.852 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:25.852 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:28:25.852 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:28:25.853 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:28:25.853 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:28:25.854 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:28:25.855 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:28:25.856 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:28:25.856 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.4496ms
2025-02-06 12:28:25.856 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:28:25.856 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.2514ms
2025-02-06 12:28:39.181 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8010 - null null
2025-02-06 12:28:39.181 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:39.182 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8010 - 204 null null 0.447ms
2025-02-06 12:28:39.186 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8010 - application/json 2
2025-02-06 12:28:39.186 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:39.186 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:28:39.186 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 12:28:39.187 +05:00 [INF] Вход в StartTest(TestId=8010)
2025-02-06 12:28:39.187 +05:00 [INF] StartTestAsync(TestId=8010, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 12:28:39.188 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 12:28:39.189 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 12:28:39.191 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 12:28:39.193 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTestQuestions] ([QuestionId], [UserTestId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:28:39.194 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 12:28:39.194 +05:00 [INF] Тест успешно создан: UserTestId=10020
2025-02-06 12:28:39.194 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 12:28:39.194 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 8.2953ms
2025-02-06 12:28:39.195 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 12:28:39.195 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8010 - 200 null application/json; charset=utf-8 9.2185ms
2025-02-06 12:28:42.993 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10020/save - null null
2025-02-06 12:28:42.993 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:42.993 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10020/save - 204 null null 0.3339ms
2025-02-06 12:28:42.995 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10020/save - application/json 62
2025-02-06 12:28:42.995 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:42.995 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:28:42.995 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:28:42.996 +05:00 [INF] Вход в SaveAnswers(UserTestId=10020), Count=1
2025-02-06 12:28:42.996 +05:00 [INF] SaveAnswersAsync(UserTestId=10020, CountAnswers=1)
2025-02-06 12:28:42.997 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:28:43.011 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTestAnswers] ([AnswerOptionId], [UserTestQuestionId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 12:28:43.011 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:28:43.011 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 15.7144ms
2025-02-06 12:28:43.011 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 12:28:43.011 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10020/save - 200 null application/json; charset=utf-8 16.365ms
2025-02-06 12:28:43.015 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10020/check - null null
2025-02-06 12:28:43.015 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:43.015 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10020/check - 204 null null 0.2516ms
2025-02-06 12:28:43.017 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10020/check - null null
2025-02-06 12:28:43.017 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:43.017 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:28:43.017 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 12:28:43.018 +05:00 [INF] Вход в CheckAnswers(UserTestId=10020)
2025-02-06 12:28:43.018 +05:00 [INF] CheckAnswersAsync(UserTestId=10020)
2025-02-06 12:28:43.020 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 12:28:43.021 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 12:28:43.022 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 12:28:43.022 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 4.2759ms
2025-02-06 12:28:43.022 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 12:28:43.022 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10020/check - 200 null application/json; charset=utf-8 4.9375ms
2025-02-06 12:28:44.500 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:28:44.500 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:44.500 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2876ms
2025-02-06 12:28:44.504 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:28:44.504 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:28:44.504 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:28:44.505 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:28:44.505 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:28:44.505 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 12:28:44.507 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 12:28:44.509 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 12:28:44.509 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:28:44.509 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.5041ms
2025-02-06 12:28:44.509 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:28:44.509 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.3887ms
2025-02-06 12:30:42.657 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:30:42.660 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:30:42.660 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 12:30:42.663 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 12:30:42.666 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 8.7739ms
2025-02-06 12:30:45.260 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 12:30:45.260 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:30:45.260 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.242ms
2025-02-06 12:30:45.262 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 12:30:45.262 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:30:45.262 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:30:45.262 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 12:30:45.262 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 12:30:45.296 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 12:30:45.350 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 12:30:45.351 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 12:30:45.387 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 12:30:45.389 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 126.5474ms
2025-02-06 12:30:45.389 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 12:30:45.389 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 127.0531ms
2025-02-06 12:30:45.403 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:30:45.403 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:30:45.403 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3647ms
2025-02-06 12:30:45.407 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:30:45.407 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:30:45.408 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:30:45.408 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:30:45.408 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:30:45.409 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:30:45.410 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:30:45.411 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:30:45.412 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:30:45.412 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.2616ms
2025-02-06 12:30:45.412 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:30:45.412 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.1292ms
2025-02-06 12:30:46.518 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:30:46.518 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:30:46.519 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3349ms
2025-02-06 12:30:46.523 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 12:30:46.523 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:30:46.524 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:30:46.524 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 12:30:46.525 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 12:30:46.525 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 12:30:46.526 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 12:30:46.527 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 12:30:46.528 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:30:46.528 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.0979ms
2025-02-06 12:30:46.528 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 12:30:46.528 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.1847ms
2025-02-06 12:45:30.744 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:45:30.744 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:45:30.744 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.6426ms
2025-02-06 12:45:30.748 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 12:45:30.748 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:45:30.748 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:45:30.748 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 12:45:30.749 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 12:45:30.749 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 12:45:30.763 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 12:45:30.765 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 12:45:30.765 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:45:30.765 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 17.0036ms
2025-02-06 12:45:30.765 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 12:45:30.766 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 17.8495ms
2025-02-06 12:45:32.105 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 12:45:32.105 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:45:32.105 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3009ms
2025-02-06 12:45:32.107 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 12:45:32.107 +05:00 [INF] CORS policy execution successful.
2025-02-06 12:45:32.107 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:45:32.107 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 12:45:32.108 +05:00 [INF] GetAll Topics
2025-02-06 12:45:32.110 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 12:45:32.111 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 12:45:32.113 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 5.0271ms
2025-02-06 12:45:32.113 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 12:45:32.114 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.6441ms
2025-02-06 13:18:57.395 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 13:18:57.467 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 13:18:57.573 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 13:18:57.705 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 13:18:57.782 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 13:18:57.782 +05:00 [INF] Hosting environment: Development
2025-02-06 13:18:57.782 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 13:18:57.886 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 188.6627ms
2025-02-06 13:18:57.909 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 13:18:57.917 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 3.327ms
2025-02-06 13:18:57.955 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 13:18:57.987 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.6591ms
2025-02-06 13:18:58.120 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 13:18:58.149 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.5408ms
2025-02-06 13:19:00.556 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:19:00.563 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:00.565 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 9.2184ms
2025-02-06 13:19:00.568 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:19:00.571 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:00.652 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:19:00.668 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:19:00.786 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:19:00.788 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:19:00.817 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:19:00.864 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:19:00.911 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:19:00.923 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 251.4758ms
2025-02-06 13:19:00.924 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:19:00.928 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 359.1227ms
2025-02-06 13:19:05.886 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:19:05.887 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:05.887 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 1.4411ms
2025-02-06 13:19:05.889 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:19:05.890 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:05.893 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:19:05.896 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:19:05.906 +05:00 [INF] GetAll Topics
2025-02-06 13:19:05.915 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:19:05.924 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:19:05.925 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 28.4321ms
2025-02-06 13:19:05.925 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:19:05.925 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 36.3378ms
2025-02-06 13:19:36.593 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%207&countOfQuestions=3&isPrivate=true&topicId=1005 - null null
2025-02-06 13:19:36.594 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:36.595 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%207&countOfQuestions=3&isPrivate=true&topicId=1005 - 204 null null 1.2239ms
2025-02-06 13:19:36.597 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%207&countOfQuestions=3&isPrivate=true&topicId=1005 - null 0
2025-02-06 13:19:36.597 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:36.600 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 13:19:36.604 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:19:36.615 +05:00 [INF] Вход в CreateTemplate: Program C# Test 7, count=3, topic=1005, isPrivate=true
2025-02-06 13:19:36.616 +05:00 [INF] CreateTemplateAsync(Name=Program C# Test 7, count=3, topic=1005, isPrivate=true)
2025-02-06 13:19:36.694 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 13:19:36.717 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 13:19:36.718 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 113.7031ms
2025-02-06 13:19:36.718 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 13:19:36.718 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=Program%20C%23%20Test%207&countOfQuestions=3&isPrivate=true&topicId=1005 - 200 null application/json; charset=utf-8 121.6614ms
2025-02-06 13:19:36.722 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:19:36.722 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8016 - null null
2025-02-06 13:19:36.722 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:36.723 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:36.723 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.7249ms
2025-02-06 13:19:36.723 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8016 - 204 null null 0.5921ms
2025-02-06 13:19:36.728 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:19:36.728 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8016 - null null
2025-02-06 13:19:36.728 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:36.729 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:19:36.729 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:19:36.729 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:19:36.729 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:19:36.732 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:19:36.732 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:19:36.732 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:19:36.734 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:19:36.739 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:19:36.740 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:19:36.741 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 11.6515ms
2025-02-06 13:19:36.741 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:19:36.741 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 15.1492ms
2025-02-06 13:19:36.749 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:19:36.752 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:19:36.754 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 21.4087ms
2025-02-06 13:19:36.754 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:19:36.754 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8016 - 200 null application/json; charset=utf-8 26.3271ms
2025-02-06 13:20:01.418 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%8F - null null
2025-02-06 13:20:01.418 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:01.419 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%8F - 204 null null 0.9077ms
2025-02-06 13:20:01.421 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - null null
2025-02-06 13:20:01.421 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:01.422 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:01.423 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:20:01.437 +05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-06 13:20:01.448 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:20:01.450 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:01.452 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 29.1239ms
2025-02-06 13:20:01.452 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:01.452 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - 200 null application/json; charset=utf-8 31.4649ms
2025-02-06 13:20:01.557 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%8F%D1%80 - null null
2025-02-06 13:20:01.557 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:01.557 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%8F%D1%80 - 204 null null 0.5384ms
2025-02-06 13:20:01.559 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F%D1%80 - null null
2025-02-06 13:20:01.559 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:01.560 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:01.560 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:20:01.562 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:20:01.562 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:01.563 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 3.0245ms
2025-02-06 13:20:01.563 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:01.563 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F%D1%80 - 200 null application/json; charset=utf-8 4.1153ms
2025-02-06 13:20:02.032 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - null null
2025-02-06 13:20:02.033 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:02.033 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:02.033 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:20:02.035 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:20:02.035 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:02.036 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.5384ms
2025-02-06 13:20:02.036 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:02.036 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - 200 null application/json; charset=utf-8 3.965ms
2025-02-06 13:20:05.031 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 13:20:05.031 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:05.032 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.5119ms
2025-02-06 13:20:05.033 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 13:20:05.033 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:05.034 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:05.034 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:20:05.036 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:20:05.037 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:05.038 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 3.9785ms
2025-02-06 13:20:05.038 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:05.038 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 4.9489ms
2025-02-06 13:20:05.170 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - null null
2025-02-06 13:20:05.171 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:05.171 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=zh - 204 null null 0.6604ms
2025-02-06 13:20:05.172 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=zh - null null
2025-02-06 13:20:05.173 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:05.173 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:05.173 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:20:05.175 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:20:05.175 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:05.176 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.4179ms
2025-02-06 13:20:05.176 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:05.176 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=zh - 200 null application/json; charset=utf-8 3.2905ms
2025-02-06 13:20:10.019 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8016&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 13:20:10.020 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:10.020 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8016&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.6597ms
2025-02-06 13:20:10.022 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8016&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 13:20:10.022 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:10.022 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 13:20:10.026 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:20:10.028 +05:00 [INF] AddAccess(TestId=8016, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 13:20:10.029 +05:00 [INF] AddUserAccessAsync(TestId=8016, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 13:20:10.044 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 13:20:10.065 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 13:20:10.068 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:20:10.069 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 42.8323ms
2025-02-06 13:20:10.069 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 13:20:10.069 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8016&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 47.2883ms
2025-02-06 13:20:10.072 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8016 - null null
2025-02-06 13:20:10.072 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:10.072 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8016 - 204 null null 0.319ms
2025-02-06 13:20:10.073 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8016 - null null
2025-02-06 13:20:10.073 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:10.073 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:20:10.073 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:20:10.077 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:20:10.091 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:20:10.114 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:10.115 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 41.1782ms
2025-02-06 13:20:10.115 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:20:10.115 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8016 - 200 null application/json; charset=utf-8 42.0177ms
2025-02-06 13:20:14.985 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=f - null null
2025-02-06 13:20:14.985 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:14.986 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=f - 204 null null 0.6004ms
2025-02-06 13:20:14.987 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=f - null null
2025-02-06 13:20:14.987 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:14.988 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:14.988 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:20:14.990 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:20:14.990 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:14.990 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.702ms
2025-02-06 13:20:14.990 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:14.991 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=f - 200 null application/json; charset=utf-8 3.6552ms
2025-02-06 13:20:15.500 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 13:20:15.500 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:15.501 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.5694ms
2025-02-06 13:20:15.502 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 13:20:15.502 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:15.503 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:15.503 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:20:15.504 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:20:15.505 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:15.505 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1782ms
2025-02-06 13:20:15.505 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:20:15.505 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 3.0411ms
2025-02-06 13:20:21.557 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8016&userId=0ab40610-2629-4627-b313-6a207691ba1a - null null
2025-02-06 13:20:21.557 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:21.557 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8016&userId=0ab40610-2629-4627-b313-6a207691ba1a - 204 null null 0.6746ms
2025-02-06 13:20:21.559 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8016&userId=0ab40610-2629-4627-b313-6a207691ba1a - application/json 2
2025-02-06 13:20:21.559 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:21.559 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 13:20:21.559 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:20:21.561 +05:00 [INF] AddAccess(TestId=8016, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 13:20:21.561 +05:00 [INF] AddUserAccessAsync(TestId=8016, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 13:20:21.562 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 13:20:21.576 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 13:20:21.577 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:20:21.577 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 17.9607ms
2025-02-06 13:20:21.577 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 13:20:21.578 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8016&userId=0ab40610-2629-4627-b313-6a207691ba1a - 200 null application/json; charset=utf-8 18.9349ms
2025-02-06 13:20:21.581 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8016 - null null
2025-02-06 13:20:21.581 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:21.581 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8016 - 204 null null 0.5124ms
2025-02-06 13:20:21.582 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8016 - null null
2025-02-06 13:20:21.583 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:21.583 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:20:21.583 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:20:21.585 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:20:21.587 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:20:21.588 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:20:21.588 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:21.588 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 5.3103ms
2025-02-06 13:20:21.588 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:20:21.589 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8016 - 200 null application/json; charset=utf-8 6.2204ms
2025-02-06 13:20:29.053 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:20:29.053 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:29.053 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.5819ms
2025-02-06 13:20:29.055 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:20:29.055 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:20:29.055 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:20:29.056 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:20:29.056 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 13:20:29.056 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:20:29.057 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:20:29.067 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:20:29.068 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:20:29.069 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 13.1873ms
2025-02-06 13:20:29.069 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:20:29.069 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 14.2957ms
2025-02-06 13:24:32.415 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:24:32.415 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:24:32.415 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.8383ms
2025-02-06 13:24:32.418 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:24:32.418 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:24:32.419 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:24:32.423 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:24:32.430 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:24:32.430 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:24:32.436 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:24:32.478 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:24:32.496 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:24:32.499 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 75.3523ms
2025-02-06 13:24:32.499 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:24:32.499 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 81.171ms
2025-02-06 13:27:50.100 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:27:50.102 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:27:50.104 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 3.1812ms
2025-02-06 13:27:50.110 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:27:50.111 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:27:50.111 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:27:50.111 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:27:50.113 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:27:50.113 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:27:50.118 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:27:50.157 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:27:50.158 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:27:50.159 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 47.1077ms
2025-02-06 13:27:50.159 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:27:50.159 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 48.4566ms
2025-02-06 13:27:51.733 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:27:51.733 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:27:51.733 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3834ms
2025-02-06 13:27:51.735 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:27:51.735 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:27:51.736 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:27:51.736 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:27:51.737 +05:00 [INF] GetAll Topics
2025-02-06 13:27:51.738 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:27:51.740 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:27:51.740 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.6229ms
2025-02-06 13:27:51.740 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:27:51.741 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.5926ms
2025-02-06 13:28:36.746 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:28:36.746 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:36.747 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.5643ms
2025-02-06 13:28:36.748 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:28:36.748 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:36.749 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:28:36.749 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:28:36.750 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 13:28:36.750 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:28:36.752 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:28:36.757 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:28:36.758 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:28:36.758 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.9137ms
2025-02-06 13:28:36.758 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:28:36.758 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 10.2484ms
2025-02-06 13:28:39.059 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:28:39.059 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:39.059 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4016ms
2025-02-06 13:28:39.061 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:28:39.061 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:39.061 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:28:39.062 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:28:39.062 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:28:39.062 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:28:39.064 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:28:39.066 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:28:39.066 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:28:39.067 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.0711ms
2025-02-06 13:28:39.067 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:28:39.067 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.0246ms
2025-02-06 13:28:41.230 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:28:41.230 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:41.230 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.7303ms
2025-02-06 13:28:41.234 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:28:41.235 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:41.235 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:28:41.236 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:28:41.238 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:28:41.238 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:28:41.240 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:28:41.242 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:28:41.243 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:28:41.244 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 8.2817ms
2025-02-06 13:28:41.244 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:28:41.244 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.4071ms
2025-02-06 13:28:42.233 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 13:28:42.233 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:42.234 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.9654ms
2025-02-06 13:28:42.237 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 13:28:42.238 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:42.238 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:28:42.241 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 13:28:42.244 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 13:28:42.250 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 13:28:42.265 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 13:28:42.314 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 13:28:42.348 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:28:42.354 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 112.5175ms
2025-02-06 13:28:42.354 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:28:42.354 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 117.3106ms
2025-02-06 13:28:44.240 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 13:28:44.240 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:44.240 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.3607ms
2025-02-06 13:28:44.241 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 13:28:44.242 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:44.242 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:28:44.242 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 13:28:44.243 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 13:28:44.244 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 13:28:44.253 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 13:28:44.300 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 13:28:44.306 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:28:44.306 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 63.8519ms
2025-02-06 13:28:44.306 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:28:44.306 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 64.7143ms
2025-02-06 13:28:46.345 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 13:28:46.346 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:46.346 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:28:46.346 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 13:28:46.348 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 13:28:46.349 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 13:28:46.352 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 13:28:46.356 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:28:46.356 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 10.2768ms
2025-02-06 13:28:46.357 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:28:46.357 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.3897ms
2025-02-06 13:28:49.272 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:28:49.272 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:49.272 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3809ms
2025-02-06 13:28:49.274 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:28:49.275 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:28:49.275 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:28:49.275 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:28:49.278 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:28:49.278 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:28:49.282 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:28:49.289 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:28:49.290 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:28:49.290 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 14.7943ms
2025-02-06 13:28:49.291 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:28:49.291 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 16.6556ms
2025-02-06 13:29:28.426 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:29:28.427 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:29:28.427 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3999ms
2025-02-06 13:29:28.429 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:29:28.429 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:29:28.430 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:29:28.430 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:29:28.432 +05:00 [INF] GetAll Topics
2025-02-06 13:29:28.434 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:29:28.437 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:29:28.439 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 9.0528ms
2025-02-06 13:29:28.439 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:29:28.439 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 10.1689ms
2025-02-06 13:29:50.620 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:29:50.621 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:29:50.623 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 3.1919ms
2025-02-06 13:29:50.625 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:29:50.625 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:29:50.626 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:29:50.626 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:29:50.626 +05:00 [INF] GetAll Topics
2025-02-06 13:29:50.629 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:29:50.634 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:29:50.634 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 7.9456ms
2025-02-06 13:29:50.634 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:29:50.634 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 9.1659ms
2025-02-06 13:29:53.525 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 13:29:53.525 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:29:53.526 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.5451ms
2025-02-06 13:29:53.528 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 13:29:53.528 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:29:53.529 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:29:53.529 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 13:29:53.531 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 13:29:53.534 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 13:29:53.572 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 13:29:53.576 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:29:53.576 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 47.1651ms
2025-02-06 13:29:53.576 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:29:53.576 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 48.4613ms
2025-02-06 13:29:55.100 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:29:55.100 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:29:55.100 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.7429ms
2025-02-06 13:29:55.104 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:29:55.104 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:29:55.106 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:29:55.106 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:29:55.108 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:29:55.108 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:29:55.109 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:29:55.111 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:29:55.112 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:29:55.112 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 6.4998ms
2025-02-06 13:29:55.112 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:29:55.113 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.0777ms
2025-02-06 13:30:01.476 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:30:01.476 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:30:01.476 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.6756ms
2025-02-06 13:30:01.478 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:30:01.479 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:30:01.479 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:30:01.480 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:30:01.481 +05:00 [INF] GetAll Topics
2025-02-06 13:30:01.482 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:30:01.483 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:30:01.484 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.846ms
2025-02-06 13:30:01.484 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:30:01.484 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.5806ms
2025-02-06 13:30:20.135 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:30:20.136 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:30:20.136 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.8433ms
2025-02-06 13:30:20.138 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:30:20.138 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:30:20.138 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:30:20.138 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:30:20.139 +05:00 [INF] GetAll Topics
2025-02-06 13:30:20.140 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:30:20.141 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:30:20.141 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.9598ms
2025-02-06 13:30:20.141 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:30:20.142 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.9479ms
2025-02-06 13:31:18.592 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:31:18.592 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:18.593 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.8078ms
2025-02-06 13:31:18.596 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:31:18.596 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:18.596 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:31:18.596 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:31:18.598 +05:00 [INF] GetAll Topics
2025-02-06 13:31:18.602 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:31:18.605 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:31:18.607 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 10.3136ms
2025-02-06 13:31:18.607 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:31:18.607 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 11.4685ms
2025-02-06 13:31:39.405 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-06 13:31:39.405 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:39.405 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.2773ms
2025-02-06 13:31:39.407 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 141
2025-02-06 13:31:39.407 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:39.407 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 13:31:39.410 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:31:39.433 +05:00 [INF] Вход в CreateQuestion для 1+1+1
2025-02-06 13:31:39.434 +05:00 [INF] CreateQuestion(Text=1+1+1)
2025-02-06 13:31:39.456 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 13:31:39.469 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1),
(@p8, @p9, @p10, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 13:31:39.488 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Question'.
2025-02-06 13:31:39.504 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 94.4918ms
2025-02-06 13:31:39.504 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 13:31:39.505 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 97.9855ms
2025-02-06 13:31:39.507 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:31:39.507 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:39.507 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.1793ms
2025-02-06 13:31:39.508 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:31:39.509 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:39.509 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:31:39.509 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:31:39.510 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:31:39.510 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:31:39.511 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:31:39.512 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:31:39.513 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:31:39.513 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.1566ms
2025-02-06 13:31:39.513 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:31:39.513 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.8336ms
2025-02-06 13:31:43.942 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 13:31:43.942 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:43.942 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - 204 null null 0.2502ms
2025-02-06 13:31:43.944 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 13:31:43.945 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:43.945 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:31:43.945 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:31:43.946 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=2, pageSize=5
2025-02-06 13:31:43.946 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=2, pageSize=5)
2025-02-06 13:31:43.947 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:31:43.968 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:31:43.970 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:31:43.970 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 25.1537ms
2025-02-06 13:31:43.970 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:31:43.971 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - 200 null application/json; charset=utf-8 26.2566ms
2025-02-06 13:31:44.602 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 13:31:44.602 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:44.602 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.319ms
2025-02-06 13:31:44.603 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 13:31:44.604 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:31:44.604 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:31:44.604 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:31:44.605 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 13:31:44.605 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 13:31:44.606 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:31:44.607 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:31:44.608 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:31:44.608 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.1851ms
2025-02-06 13:31:44.608 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:31:44.608 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.9489ms
2025-02-06 13:32:06.151 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions/9005 - null null
2025-02-06 13:32:06.152 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:06.152 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions/9005 - 204 null null 0.6384ms
2025-02-06 13:32:06.157 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/questions/9005 - null null
2025-02-06 13:32:06.158 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:06.158 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.DeleteQuestion (QuizMasterAPI)'
2025-02-06 13:32:06.161 +05:00 [INF] Route matched with {action = "DeleteQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteQuestion(Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:32:06.162 +05:00 [INF] Вход в DeleteQuestion(Id=9005)
2025-02-06 13:32:06.163 +05:00 [INF] DeleteQuestion(Id=9005)
2025-02-06 13:32:06.164 +05:00 [INF] GetQuestion(Id=9005)
2025-02-06 13:32:06.186 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Text], [s].[TopicId], [s].[Id0], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [s].[Name]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Text], [q].[TopicId], [t].[Id] AS [Id0], [t].[Name]
    FROM [Questions] AS [q]
    LEFT JOIN [Topics] AS [t] ON [q].[TopicId] = [t].[Id]
    WHERE [q].[Id] = @__id_0
) AS [s]
LEFT JOIN [AnswerOptions] AS [a] ON [s].[Id] = [a].[QuestionId]
ORDER BY [s].[Id], [s].[Id0]
2025-02-06 13:32:06.209 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AnswerOptions]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [AnswerOptions]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [AnswerOptions]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Questions]
OUTPUT 1
WHERE [Id] = @p3;
2025-02-06 13:32:06.225 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 13:32:06.225 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.DeleteQuestion (QuizMasterAPI) in 64.1753ms
2025-02-06 13:32:06.225 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.DeleteQuestion (QuizMasterAPI)'
2025-02-06 13:32:06.225 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/questions/9005 - 204 null null 68.1326ms
2025-02-06 13:32:06.228 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 13:32:06.228 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:06.229 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.4156ms
2025-02-06 13:32:06.231 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 13:32:06.231 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:06.231 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:32:06.231 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:32:06.232 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 13:32:06.232 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 13:32:06.233 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:32:06.234 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:32:06.235 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:32:06.235 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.924ms
2025-02-06 13:32:06.235 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:32:06.235 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.6641ms
2025-02-06 13:32:08.019 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:32:08.019 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:08.020 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.305ms
2025-02-06 13:32:08.022 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:32:08.022 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:08.023 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:32:08.023 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:32:08.024 +05:00 [INF] GetAll Topics
2025-02-06 13:32:08.025 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:32:08.026 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:32:08.027 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.8751ms
2025-02-06 13:32:08.027 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:32:08.027 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.7723ms
2025-02-06 13:32:45.164 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:32:45.164 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:45.164 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2831ms
2025-02-06 13:32:45.165 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:32:45.165 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:45.166 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:32:45.166 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:32:45.167 +05:00 [INF] GetAll Topics
2025-02-06 13:32:45.172 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:32:45.175 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:32:45.176 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 10.4507ms
2025-02-06 13:32:45.176 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:32:45.177 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 11.4007ms
2025-02-06 13:32:52.841 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 13:32:52.841 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:52.841 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.6918ms
2025-02-06 13:32:52.845 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 13:32:52.845 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:52.846 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:32:52.846 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 13:32:52.847 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 13:32:52.849 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 13:32:52.851 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 13:32:52.855 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:32:52.855 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 9.6953ms
2025-02-06 13:32:52.856 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 13:32:52.856 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.9758ms
2025-02-06 13:32:54.370 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:32:54.371 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:54.371 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4738ms
2025-02-06 13:32:54.374 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:32:54.374 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:54.375 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:32:54.375 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:32:54.377 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:32:54.377 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:32:54.378 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:32:54.381 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:32:54.382 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:32:54.383 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.6123ms
2025-02-06 13:32:54.383 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:32:54.383 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.9338ms
2025-02-06 13:32:55.089 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:32:55.089 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:55.089 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.6835ms
2025-02-06 13:32:55.093 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:32:55.094 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:55.094 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:32:55.094 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:32:55.095 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:32:55.096 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:32:55.097 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:32:55.104 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:32:55.104 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:32:55.104 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 9.8444ms
2025-02-06 13:32:55.104 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:32:55.105 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.2622ms
2025-02-06 13:32:57.273 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:32:57.273 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:57.273 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.4146ms
2025-02-06 13:32:57.275 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:32:57.275 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:32:57.276 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:32:57.276 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:32:57.276 +05:00 [INF] GetAll Topics
2025-02-06 13:32:57.277 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:32:57.278 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:32:57.278 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.6801ms
2025-02-06 13:32:57.279 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:32:57.279 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.4818ms
2025-02-06 13:33:03.263 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:03.263 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:03.263 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - 204 null null 0.2881ms
2025-02-06 13:33:03.265 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:03.265 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:03.265 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:03.265 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:33:03.267 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:33:03.268 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:03.268 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.7663ms
2025-02-06 13:33:03.268 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:03.268 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 3.5783ms
2025-02-06 13:33:08.364 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - null null
2025-02-06 13:33:08.364 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:08.364 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - 204 null null 0.261ms
2025-02-06 13:33:08.366 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - null 0
2025-02-06 13:33:08.366 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:08.366 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:33:08.369 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:33:08.371 +05:00 [INF] Вход в UpdateTest(Id=8009)
2025-02-06 13:33:08.372 +05:00 [INF] UpdateTestAsync(Id=8009, Name=Матиматика № 1 тест, Count=5)
2025-02-06 13:33:08.378 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 13:33:08.393 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 13:33:08.394 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 13:33:08.394 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 24.6691ms
2025-02-06 13:33:08.394 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:33:08.394 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - 200 null application/json; charset=utf-8 28.2526ms
2025-02-06 13:33:08.397 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:08.397 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:08.397 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.192ms
2025-02-06 13:33:08.398 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:08.398 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:08.398 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:33:08.398 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:33:08.399 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:33:08.399 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:33:08.400 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:33:08.401 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:33:08.402 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:08.402 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.4426ms
2025-02-06 13:33:08.402 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:33:08.402 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.0311ms
2025-02-06 13:33:12.093 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:33:12.093 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:12.093 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2671ms
2025-02-06 13:33:12.094 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:33:12.094 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:12.094 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:33:12.094 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:33:12.095 +05:00 [INF] GetAll Topics
2025-02-06 13:33:12.096 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:33:12.097 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:12.098 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.042ms
2025-02-06 13:33:12.098 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:33:12.098 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.8328ms
2025-02-06 13:33:22.847 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:22.847 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:22.847 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - 204 null null 0.3618ms
2025-02-06 13:33:22.849 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:22.849 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:22.849 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:22.849 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:33:22.851 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:33:22.852 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:22.852 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 2.9896ms
2025-02-06 13:33:22.852 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:22.853 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 3.928ms
2025-02-06 13:33:25.564 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - null null
2025-02-06 13:33:25.564 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:25.564 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=a - 204 null null 0.286ms
2025-02-06 13:33:25.566 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=a - null null
2025-02-06 13:33:25.566 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:25.566 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:33:25.566 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:33:25.568 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:33:25.568 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:25.568 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 1.7772ms
2025-02-06 13:33:25.568 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:33:25.568 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=a - 200 null application/json; charset=utf-8 2.4186ms
2025-02-06 13:33:27.620 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 13:33:27.620 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:27.620 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.2689ms
2025-02-06 13:33:27.622 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 13:33:27.622 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:27.622 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 13:33:27.622 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:33:27.623 +05:00 [INF] AddAccess(TestId=8009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 13:33:27.623 +05:00 [INF] AddUserAccessAsync(TestId=8009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 13:33:27.624 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 13:33:27.636 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 13:33:27.637 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:33:27.637 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 14.6561ms
2025-02-06 13:33:27.637 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 13:33:27.637 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 15.328ms
2025-02-06 13:33:27.640 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:27.640 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:27.640 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:27.640 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:33:27.642 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:33:27.645 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:33:27.645 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:27.645 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.8212ms
2025-02-06 13:33:27.645 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:27.645 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 5.6037ms
2025-02-06 13:33:29.791 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - null null
2025-02-06 13:33:29.791 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:29.791 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - 204 null null 0.2803ms
2025-02-06 13:33:29.792 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - null 0
2025-02-06 13:33:29.793 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:29.793 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:33:29.793 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:33:29.794 +05:00 [INF] Вход в UpdateTest(Id=8009)
2025-02-06 13:33:29.794 +05:00 [INF] UpdateTestAsync(Id=8009, Name=Матиматика № 1 тест, Count=5)
2025-02-06 13:33:29.795 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 13:33:29.798 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 13:33:29.798 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 13:33:29.799 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 5.5691ms
2025-02-06 13:33:29.799 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:33:29.799 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 6.3882ms
2025-02-06 13:33:29.802 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:29.802 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:29.802 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.2184ms
2025-02-06 13:33:29.803 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:29.803 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:29.804 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:33:29.804 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:33:29.804 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:33:29.804 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:33:29.805 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:33:29.807 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:33:29.807 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:29.808 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.8591ms
2025-02-06 13:33:29.808 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:33:29.808 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 4.481ms
2025-02-06 13:33:31.214 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:33:31.214 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:31.214 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3013ms
2025-02-06 13:33:31.216 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:33:31.216 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:31.217 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:33:31.217 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:33:31.217 +05:00 [INF] GetAll Topics
2025-02-06 13:33:31.218 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:33:31.219 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:31.220 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8583ms
2025-02-06 13:33:31.220 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:33:31.220 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.9323ms
2025-02-06 13:33:32.783 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:32.783 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:32.784 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - 204 null null 0.4316ms
2025-02-06 13:33:32.785 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:32.785 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:32.786 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:32.786 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:33:32.787 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:33:32.789 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:33:32.789 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:32.789 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.4147ms
2025-02-06 13:33:32.789 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:32.789 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 4.048ms
2025-02-06 13:33:38.499 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:38.499 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:38.501 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 13:33:38.505 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 13:33:38.506 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 7.4893ms
2025-02-06 13:33:42.935 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 13:33:42.935 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:42.935 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.518ms
2025-02-06 13:33:42.937 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 13:33:42.937 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:42.937 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:33:42.940 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 13:33:42.944 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 13:33:42.951 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 13:33:43.021 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 13:33:43.029 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 13:33:43.029 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:33:43.030 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 89.9432ms
2025-02-06 13:33:43.030 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:33:43.030 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 93.4497ms
2025-02-06 13:33:43.044 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:33:43.044 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:43.044 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4901ms
2025-02-06 13:33:43.047 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:33:43.047 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:43.048 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:33:43.048 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:33:43.050 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:33:43.050 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:33:43.051 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:33:43.053 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:33:43.054 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:43.054 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.9137ms
2025-02-06 13:33:43.054 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:33:43.055 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.4248ms
2025-02-06 13:33:44.550 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:44.551 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:44.551 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4132ms
2025-02-06 13:33:44.553 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:44.553 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:44.554 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:33:44.554 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:33:44.555 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:33:44.555 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 13:33:44.579 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 13:33:44.586 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 13:33:44.587 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:44.588 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 33.3423ms
2025-02-06 13:33:44.588 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:33:44.588 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 34.8377ms
2025-02-06 13:33:49.091 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:49.091 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:49.091 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 13:33:49.092 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 13:33:49.092 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.2039ms
2025-02-06 13:33:52.458 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 13:33:52.458 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:52.459 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.3045ms
2025-02-06 13:33:52.460 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 36
2025-02-06 13:33:52.460 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:52.460 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:33:52.460 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 13:33:52.463 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-06 13:33:52.465 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 13:33:52.517 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 13:33:52.518 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-06 13:33:52.518 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:33:52.518 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 57.717ms
2025-02-06 13:33:52.518 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:33:52.518 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 58.36ms
2025-02-06 13:33:52.534 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:33:52.534 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:52.535 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4693ms
2025-02-06 13:33:52.537 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:33:52.538 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:52.538 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:33:52.538 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:33:52.540 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:33:52.540 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:33:52.541 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:33:52.543 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:33:52.544 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:52.544 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.8013ms
2025-02-06 13:33:52.544 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:33:52.545 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.2849ms
2025-02-06 13:33:54.040 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:54.040 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:54.040 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4417ms
2025-02-06 13:33:54.043 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:33:54.043 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:54.044 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:33:54.044 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:33:54.045 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:33:54.045 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:33:54.048 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:33:54.049 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:33:54.050 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:54.050 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.5816ms
2025-02-06 13:33:54.050 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:33:54.051 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.932ms
2025-02-06 13:33:55.041 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:33:55.041 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:55.041 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2913ms
2025-02-06 13:33:55.042 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:33:55.043 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:55.043 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:33:55.043 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:33:55.044 +05:00 [INF] GetAll Topics
2025-02-06 13:33:55.045 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:33:55.046 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:55.046 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.0531ms
2025-02-06 13:33:55.046 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:33:55.046 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.7213ms
2025-02-06 13:33:59.247 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:59.247 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:59.247 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - 204 null null 0.3062ms
2025-02-06 13:33:59.249 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:33:59.249 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:33:59.249 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:59.249 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:33:59.251 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:33:59.253 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:33:59.253 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:33:59.253 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.9728ms
2025-02-06 13:33:59.253 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:33:59.254 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 4.7665ms
2025-02-06 13:39:54.479 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:39:54.480 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:39:54.482 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 2.6759ms
2025-02-06 13:39:54.484 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:39:54.484 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:39:54.484 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:39:54.484 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:39:54.485 +05:00 [INF] GetAll Topics
2025-02-06 13:39:54.496 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:39:54.496 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:39:54.496 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 12.1661ms
2025-02-06 13:39:54.496 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:39:54.496 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 12.835ms
2025-02-06 13:39:58.776 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:39:58.776 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:39:58.776 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2503ms
2025-02-06 13:39:58.777 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:39:58.777 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:39:58.778 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:39:58.778 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:39:58.778 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 13:39:58.778 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:39:58.780 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:39:58.785 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:39:58.786 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:39:58.786 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.0588ms
2025-02-06 13:39:58.786 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:39:58.786 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 8.7457ms
2025-02-06 13:40:02.271 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:40:02.271 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:02.271 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2684ms
2025-02-06 13:40:02.272 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:40:02.273 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:02.273 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:40:02.273 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:40:02.273 +05:00 [INF] GetAll Topics
2025-02-06 13:40:02.274 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:40:02.275 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:40:02.276 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.6929ms
2025-02-06 13:40:02.276 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:40:02.276 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.3781ms
2025-02-06 13:40:05.626 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8015 - null null
2025-02-06 13:40:05.626 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:05.626 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8015 - 204 null null 0.3649ms
2025-02-06 13:40:05.629 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - null null
2025-02-06 13:40:05.629 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:05.630 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:40:05.630 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:40:05.631 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:40:05.632 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:40:05.633 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:40:05.633 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:40:05.634 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 3.9319ms
2025-02-06 13:40:05.634 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:40:05.634 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - 200 null application/json; charset=utf-8 4.7798ms
2025-02-06 13:40:06.839 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - null null
2025-02-06 13:40:06.839 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:06.839 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:40:06.839 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:40:06.842 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:40:06.846 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:40:06.847 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:40:06.847 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:40:06.848 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 8.0497ms
2025-02-06 13:40:06.848 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:40:06.848 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8015 - 200 null application/json; charset=utf-8 8.8361ms
2025-02-06 13:40:11.729 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8015?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%203%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - null null
2025-02-06 13:40:11.729 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:11.729 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8015?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%203%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - 204 null null 0.2532ms
2025-02-06 13:40:11.731 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8015?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%203%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - null 0
2025-02-06 13:40:11.731 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:11.731 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:40:11.731 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32]) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:40:11.732 +05:00 [INF] Вход в UpdateTest(Id=8015)
2025-02-06 13:40:11.732 +05:00 [INF] UpdateTestAsync(Id=8015, Name=Матиматика № 3 тест, Count=5)
2025-02-06 13:40:11.733 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 13:40:11.746 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 13:40:11.747 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 13:40:11.747 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 15.705ms
2025-02-06 13:40:11.747 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:40:11.747 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8015?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%203%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - 200 null application/json; charset=utf-8 16.3897ms
2025-02-06 13:40:11.751 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:40:11.751 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:11.751 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.342ms
2025-02-06 13:40:11.752 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:40:11.752 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:40:11.753 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:40:11.753 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:40:11.753 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 13:40:11.753 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:40:11.754 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:40:11.755 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:40:11.755 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:40:11.756 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 2.8778ms
2025-02-06 13:40:11.756 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:40:11.756 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 3.354ms
2025-02-06 13:42:17.556 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:42:17.557 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:17.558 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.9958ms
2025-02-06 13:42:17.560 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:42:17.561 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:17.561 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:42:17.561 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:42:17.562 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:42:17.562 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:42:17.566 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:42:17.571 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:42:17.571 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:42:17.571 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 10.1896ms
2025-02-06 13:42:17.571 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:42:17.571 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.8369ms
2025-02-06 13:42:19.169 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:42:19.169 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:19.169 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2667ms
2025-02-06 13:42:19.171 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 13:42:19.171 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:19.171 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:42:19.171 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:42:19.172 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 13:42:19.172 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:42:19.173 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:42:19.175 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:42:19.175 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:42:19.175 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.0753ms
2025-02-06 13:42:19.175 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:42:19.176 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.6683ms
2025-02-06 13:42:19.822 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:42:19.822 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:19.822 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:42:19.822 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:42:19.823 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:42:19.823 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:42:19.825 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:42:19.829 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:42:19.830 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:42:19.830 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.473ms
2025-02-06 13:42:19.830 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:42:19.830 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.3958ms
2025-02-06 13:42:29.265 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:42:29.266 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:29.266 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.538ms
2025-02-06 13:42:29.269 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:42:29.269 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:29.269 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:42:29.269 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:42:29.270 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:42:29.270 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:42:29.272 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:42:29.274 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:42:29.275 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:42:29.275 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.907ms
2025-02-06 13:42:29.275 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:42:29.276 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.9273ms
2025-02-06 13:42:30.714 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:42:30.714 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:30.714 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4677ms
2025-02-06 13:42:30.717 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:42:30.717 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:30.717 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:42:30.717 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:42:30.718 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:42:30.718 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:42:30.720 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:42:30.722 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:42:30.723 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:42:30.723 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.8234ms
2025-02-06 13:42:30.723 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:42:30.724 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.8879ms
2025-02-06 13:42:31.530 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:42:31.530 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:31.530 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2772ms
2025-02-06 13:42:31.532 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:42:31.532 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:42:31.533 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:42:31.533 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:42:31.533 +05:00 [INF] GetAll Topics
2025-02-06 13:42:31.534 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:42:31.535 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:42:31.536 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8649ms
2025-02-06 13:42:31.536 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:42:31.536 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.5348ms
2025-02-06 13:49:44.398 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 13:49:44.470 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 13:49:44.570 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 13:49:44.716 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 13:49:44.799 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 13:49:44.799 +05:00 [INF] Hosting environment: Development
2025-02-06 13:49:44.799 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 13:49:44.938 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 234.1656ms
2025-02-06 13:49:44.942 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 13:49:44.954 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.8804ms
2025-02-06 13:49:45.000 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 13:49:45.037 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.3226ms
2025-02-06 13:49:45.130 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 13:49:45.163 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.7045ms
2025-02-06 13:49:50.310 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:49:50.320 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:49:50.323 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 12.4787ms
2025-02-06 13:49:50.327 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:49:50.329 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:49:50.408 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:49:50.427 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:49:50.555 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:49:50.557 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:49:50.590 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:49:50.642 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:49:50.688 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:49:50.700 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 270.1813ms
2025-02-06 13:49:50.701 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:49:50.704 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 377.6998ms
2025-02-06 13:49:54.215 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:49:54.216 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:49:54.216 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 1.5241ms
2025-02-06 13:49:54.218 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:49:54.219 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:49:54.222 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:49:54.226 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:49:54.235 +05:00 [INF] GetAll Topics
2025-02-06 13:49:54.244 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:49:54.251 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:49:54.253 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 26.5338ms
2025-02-06 13:49:54.253 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:49:54.253 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 35.06ms
2025-02-06 13:49:57.336 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:49:57.337 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:49:57.339 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:49:57.340 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:49:57.341 +05:00 [INF] GetAll Topics
2025-02-06 13:49:57.343 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:49:57.345 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:49:57.345 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 5.3725ms
2025-02-06 13:49:57.345 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:49:57.345 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 9.46ms
2025-02-06 13:50:00.891 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:50:00.892 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:00.892 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - 204 null null 1.2246ms
2025-02-06 13:50:00.894 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:50:00.895 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:00.896 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:50:00.898 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:50:00.910 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:50:00.929 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:50:00.951 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:00.952 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 53.74ms
2025-02-06 13:50:00.952 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:50:00.953 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 58.7944ms
2025-02-06 13:50:05.496 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%84 - null null
2025-02-06 13:50:05.497 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:05.497 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%84 - 204 null null 0.6982ms
2025-02-06 13:50:05.501 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D1%84 - null null
2025-02-06 13:50:05.502 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:05.502 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:50:05.503 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:50:05.516 +05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-06 13:50:05.527 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:50:05.529 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:05.531 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 27.9946ms
2025-02-06 13:50:05.532 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:50:05.532 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D1%84 - 200 null application/json; charset=utf-8 30.6429ms
2025-02-06 13:50:08.226 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 13:50:08.226 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:08.227 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/remove-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.7652ms
2025-02-06 13:50:08.228 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 13:50:08.229 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:08.229 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 13:50:08.232 +05:00 [INF] Route matched with {action = "RemoveAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:50:08.237 +05:00 [INF] RemoveAccess(TestId=8009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 13:50:08.238 +05:00 [INF] RemoveUserAccessAsync(TestId=8009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 13:50:08.245 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1
2025-02-06 13:50:08.307 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [TestAccesses]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 13:50:08.316 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:50:08.317 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI) in 85.0281ms
2025-02-06 13:50:08.317 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.RemoveAccess (QuizMasterAPI)'
2025-02-06 13:50:08.317 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/testaccess/remove-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 88.7647ms
2025-02-06 13:50:08.320 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:50:08.320 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:08.320 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - 204 null null 0.3339ms
2025-02-06 13:50:08.321 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:50:08.321 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:08.322 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:50:08.322 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:50:08.325 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:50:08.326 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:08.326 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.3319ms
2025-02-06 13:50:08.326 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:50:08.326 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 5.2159ms
2025-02-06 13:50:10.624 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%8F - null null
2025-02-06 13:50:10.624 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:10.625 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D1%8F - 204 null null 0.5947ms
2025-02-06 13:50:10.626 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - null null
2025-02-06 13:50:10.626 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:10.627 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:50:10.627 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:50:10.629 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:50:10.630 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:10.630 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 3.5133ms
2025-02-06 13:50:10.630 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:50:10.631 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - 200 null application/json; charset=utf-8 4.6235ms
2025-02-06 13:50:13.462 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - null null
2025-02-06 13:50:13.463 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:13.463 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:50:13.463 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:50:13.465 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:50:13.466 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:13.466 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.738ms
2025-02-06 13:50:13.466 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:50:13.466 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D1%8F - 200 null application/json; charset=utf-8 4.2222ms
2025-02-06 13:50:15.852 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - null null
2025-02-06 13:50:15.852 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:15.852 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=z - 204 null null 0.4941ms
2025-02-06 13:50:15.854 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=z - null null
2025-02-06 13:50:15.854 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:15.854 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:50:15.854 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 13:50:15.856 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 13:50:15.857 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:15.858 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 3.4155ms
2025-02-06 13:50:15.858 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 13:50:15.858 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=z - 200 null application/json; charset=utf-8 4.3061ms
2025-02-06 13:50:17.854 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - null null
2025-02-06 13:50:17.854 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:17.854 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 204 null null 0.7796ms
2025-02-06 13:50:17.856 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - application/json 2
2025-02-06 13:50:17.856 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:17.857 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 13:50:17.859 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:50:17.862 +05:00 [INF] AddAccess(TestId=8009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 13:50:17.862 +05:00 [INF] AddUserAccessAsync(TestId=8009, UserId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17)
2025-02-06 13:50:17.878 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 13:50:17.906 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 13:50:17.916 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:50:17.916 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 56.598ms
2025-02-06 13:50:17.916 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 13:50:17.916 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8009&userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17 - 200 null application/json; charset=utf-8 60.4802ms
2025-02-06 13:50:17.919 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:50:17.919 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:17.919 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - 204 null null 0.3126ms
2025-02-06 13:50:17.920 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:50:17.920 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:17.921 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:50:17.921 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:50:17.923 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:50:17.925 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:50:17.925 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:17.926 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.7593ms
2025-02-06 13:50:17.926 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:50:17.926 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 5.5649ms
2025-02-06 13:50:21.237 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - null null
2025-02-06 13:50:21.237 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:21.237 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - 204 null null 0.5675ms
2025-02-06 13:50:21.239 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - null 0
2025-02-06 13:50:21.239 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:21.239 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:50:21.242 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:50:21.245 +05:00 [INF] Вход в UpdateTest(Id=8009)
2025-02-06 13:50:21.246 +05:00 [INF] UpdateTestAsync(Id=8009, Name=Матиматика № 1 тест, Count=5, isPrivate=true)
2025-02-06 13:50:21.253 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 13:50:21.265 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 13:50:21.266 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 13:50:21.267 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 24.1075ms
2025-02-06 13:50:21.267 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:50:21.267 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=true&topicId=1 - 200 null application/json; charset=utf-8 28.0611ms
2025-02-06 13:50:21.270 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:50:21.270 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:21.270 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3618ms
2025-02-06 13:50:21.272 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:50:21.272 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:21.272 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:50:21.272 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:50:21.274 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:50:21.274 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 13:50:21.275 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:50:21.277 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:50:21.278 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:21.278 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.9201ms
2025-02-06 13:50:21.278 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:50:21.278 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.7138ms
2025-02-06 13:50:34.064 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:50:34.065 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:34.066 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 13:50:34.072 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 13:50:34.074 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 9.4715ms
2025-02-06 13:50:36.998 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 13:50:36.999 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:36.999 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.7316ms
2025-02-06 13:50:37.000 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 13:50:37.001 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:37.001 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:50:37.004 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 13:50:37.022 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 13:50:37.030 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 13:50:37.102 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 13:50:37.109 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 13:50:37.110 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:50:37.111 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 106.5126ms
2025-02-06 13:50:37.111 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:50:37.111 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 110.3995ms
2025-02-06 13:50:37.125 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:50:37.125 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:37.126 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.833ms
2025-02-06 13:50:37.130 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:50:37.130 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:37.131 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:50:37.136 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:50:37.139 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:50:37.141 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:50:37.146 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:50:37.187 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:50:37.206 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:37.208 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 72.3903ms
2025-02-06 13:50:37.209 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:50:37.209 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 79.2888ms
2025-02-06 13:50:38.434 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:50:38.436 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:38.436 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 2.1918ms
2025-02-06 13:50:38.440 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:50:38.441 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:38.442 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:50:38.442 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:50:38.443 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:50:38.443 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 13:50:38.466 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 13:50:38.473 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 13:50:38.474 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:38.475 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 33.0144ms
2025-02-06 13:50:38.475 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:50:38.475 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 34.7379ms
2025-02-06 13:50:48.230 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:50:48.231 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:48.231 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.8998ms
2025-02-06 13:50:48.236 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:50:48.237 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:48.238 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:50:48.238 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:50:48.240 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:50:48.241 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:50:48.242 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:50:48.244 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:50:48.245 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:48.245 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.369ms
2025-02-06 13:50:48.245 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:50:48.245 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.6802ms
2025-02-06 13:50:50.429 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:50:50.429 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:50.430 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.6759ms
2025-02-06 13:50:50.433 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:50:50.433 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:50.434 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:50:50.434 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:50:50.436 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:50:50.436 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 13:50:50.438 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 13:50:50.442 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 13:50:50.443 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:50:50.444 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.7324ms
2025-02-06 13:50:50.444 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:50:50.444 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.2575ms
2025-02-06 13:50:51.292 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:50:51.292 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:50:51.293 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 13:50:51.293 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 13:50:51.293 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.3184ms
2025-02-06 13:51:04.399 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 13:51:04.399 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:04.399 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.5289ms
2025-02-06 13:51:04.401 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 52
2025-02-06 13:51:04.402 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:04.402 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:51:04.402 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 13:51:04.405 +05:00 [INF] Запрос на логин пользователя: zhanarys@gmail.com
2025-02-06 13:51:04.407 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 13:51:04.459 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 13:51:04.460 +05:00 [INF] Пользователь zhanarys@gmail.com успешно залогинился
2025-02-06 13:51:04.460 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:51:04.460 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 58.3159ms
2025-02-06 13:51:04.460 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:51:04.460 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 59.0597ms
2025-02-06 13:51:04.475 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:51:04.476 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:04.476 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.592ms
2025-02-06 13:51:04.479 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:51:04.479 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:04.480 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:51:04.480 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:51:04.484 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:51:04.484 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:51:04.486 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:51:04.487 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:51:04.491 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:51:04.492 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 11.6975ms
2025-02-06 13:51:04.492 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:51:04.492 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 13.1657ms
2025-02-06 13:51:06.001 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:51:06.002 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:06.002 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.7081ms
2025-02-06 13:51:06.006 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:51:06.006 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:06.007 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:51:06.007 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:51:06.009 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:51:06.009 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=cf4d66c2-dcb2-40b6-a09d-4a38e037cd17, isAdmin=false)
2025-02-06 13:51:06.011 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 13:51:06.014 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 13:51:06.015 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:51:06.015 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.2837ms
2025-02-06 13:51:06.015 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:51:06.016 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.1168ms
2025-02-06 13:51:13.177 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:51:13.178 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:13.178 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 13:51:13.178 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 13:51:13.178 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 1.2805ms
2025-02-06 13:51:18.553 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 13:51:18.554 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:18.554 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.3009ms
2025-02-06 13:51:18.555 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 13:51:18.556 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:18.556 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:51:18.556 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 13:51:18.557 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 13:51:18.558 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 13:51:18.612 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 13:51:18.612 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 13:51:18.612 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:51:18.612 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 56.521ms
2025-02-06 13:51:18.612 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:51:18.613 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 57.2131ms
2025-02-06 13:51:18.625 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:51:18.626 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:18.626 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.8208ms
2025-02-06 13:51:18.629 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:51:18.630 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:18.630 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:51:18.630 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:51:18.633 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:51:18.633 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:51:18.634 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:51:18.637 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:51:18.639 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:51:18.639 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 8.4826ms
2025-02-06 13:51:18.639 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:51:18.640 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.4609ms
2025-02-06 13:51:36.306 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:51:36.306 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:36.306 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.5509ms
2025-02-06 13:51:36.308 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:51:36.309 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:36.309 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:51:36.309 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:51:36.311 +05:00 [INF] GetAll Topics
2025-02-06 13:51:36.312 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:51:36.313 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:51:36.314 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.0672ms
2025-02-06 13:51:36.314 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:51:36.314 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.5029ms
2025-02-06 13:51:40.605 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:51:40.606 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:40.606 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.509ms
2025-02-06 13:51:40.611 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:51:40.611 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:40.612 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:51:40.612 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:51:40.614 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:51:40.614 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:51:40.615 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:51:40.617 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:51:40.618 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:51:40.618 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.2227ms
2025-02-06 13:51:40.618 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:51:40.619 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.8692ms
2025-02-06 13:51:44.540 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:51:44.540 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:44.540 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3353ms
2025-02-06 13:51:44.542 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:51:44.542 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:44.542 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:51:44.542 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:51:44.543 +05:00 [INF] GetAll Topics
2025-02-06 13:51:44.544 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:51:44.546 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:51:44.546 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.5646ms
2025-02-06 13:51:44.546 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:51:44.546 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.4971ms
2025-02-06 13:51:48.422 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:51:48.422 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:48.422 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8009 - 204 null null 0.3505ms
2025-02-06 13:51:48.424 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - null null
2025-02-06 13:51:48.424 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:51:48.425 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:51:48.425 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 13:51:48.426 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 13:51:48.428 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 13:51:48.429 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:51:48.429 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 4.2311ms
2025-02-06 13:51:48.429 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 13:51:48.429 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8009 - 200 null application/json; charset=utf-8 5.1645ms
2025-02-06 13:52:12.667 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 13:52:12.667 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:12.667 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3595ms
2025-02-06 13:52:12.670 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 13:52:12.670 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:12.671 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:52:12.671 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 13:52:12.672 +05:00 [INF] GetAll Topics
2025-02-06 13:52:12.674 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 13:52:12.679 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:52:12.679 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 7.9644ms
2025-02-06 13:52:12.679 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 13:52:12.679 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 9.2627ms
2025-02-06 13:52:15.053 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - null null
2025-02-06 13:52:15.053 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:15.053 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - 204 null null 0.3387ms
2025-02-06 13:52:15.055 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - null 0
2025-02-06 13:52:15.056 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:15.056 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:52:15.056 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:52:15.058 +05:00 [INF] Вход в UpdateTest(Id=8009)
2025-02-06 13:52:15.058 +05:00 [INF] UpdateTestAsync(Id=8009, Name=Матиматика № 1 тест, Count=5, isPrivate=false)
2025-02-06 13:52:15.060 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 13:52:15.062 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [Name] = @p3, [TopicId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-02-06 13:52:15.062 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 13:52:15.063 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 6.2391ms
2025-02-06 13:52:15.063 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 13:52:15.063 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8009?newName=%D0%9C%D0%B0%D1%82%D0%B8%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0%20%E2%84%96%201%20%D1%82%D0%B5%D1%81%D1%82&countOfQuestions=5&isPrivate=false&topicId=1 - 200 null application/json; charset=utf-8 7.6608ms
2025-02-06 13:52:15.067 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:52:15.067 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:15.067 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5991ms
2025-02-06 13:52:15.069 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:52:15.069 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:15.069 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:52:15.069 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:52:15.070 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:52:15.070 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 13:52:15.071 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 13:52:15.072 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 13:52:15.073 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:52:15.073 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 3.9444ms
2025-02-06 13:52:15.073 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:52:15.074 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.0053ms
2025-02-06 13:52:17.717 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:52:17.717 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:17.719 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 13:52:17.719 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 13:52:17.719 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 2.2448ms
2025-02-06 13:52:21.964 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 13:52:21.964 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:21.964 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.2828ms
2025-02-06 13:52:21.965 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 35
2025-02-06 13:52:21.965 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:21.966 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:52:21.966 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 13:52:21.966 +05:00 [INF] Запрос на логин пользователя: d
2025-02-06 13:52:21.968 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 13:52:22.020 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 13:52:22.021 +05:00 [INF] Пользователь d успешно залогинился
2025-02-06 13:52:22.021 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:52:22.021 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 55.2876ms
2025-02-06 13:52:22.021 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:52:22.021 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 55.9736ms
2025-02-06 13:52:22.037 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:52:22.037 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:22.037 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3923ms
2025-02-06 13:52:22.040 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:52:22.041 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:22.041 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:52:22.041 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:52:22.042 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:52:22.042 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:52:22.044 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:52:22.047 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:52:22.048 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:52:22.049 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.2978ms
2025-02-06 13:52:22.049 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:52:22.049 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.8011ms
2025-02-06 13:52:23.434 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:52:23.434 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:23.434 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3991ms
2025-02-06 13:52:23.437 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:52:23.438 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:23.438 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:52:23.438 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 13:52:23.440 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 13:52:23.440 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960, isAdmin=false)
2025-02-06 13:52:23.442 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
    SELECT [t0].[TestId]
    FROM [TestAccesses] AS [t0]
    WHERE [t0].[UserId] = @__currentUserId_0
)
2025-02-06 13:52:23.445 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t2].[Id], [t2].[CountOfQuestions], [t2].[CreatedAt], [t2].[IsPrivate], [t2].[Name], [t2].[TopicId], [t1].[Id], [t1].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    WHERE [t].[IsPrivate] = CAST(0 AS bit) OR [t].[Id] IN (
        SELECT [t0].[TestId]
        FROM [TestAccesses] AS [t0]
        WHERE [t0].[UserId] = @__currentUserId_0
    )
    ORDER BY [t].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2]
LEFT JOIN [Topics] AS [t1] ON [t2].[TopicId] = [t1].[Id]
ORDER BY [t2].[Id]
2025-02-06 13:52:23.445 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:52:23.446 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.4492ms
2025-02-06 13:52:23.446 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 13:52:23.446 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.0379ms
2025-02-06 13:52:29.750 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 13:52:29.751 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:29.751 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 13:52:29.752 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 13:52:29.752 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 401 null null 2.1881ms
2025-02-06 13:52:33.938 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 13:52:33.938 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:33.938 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.5614ms
2025-02-06 13:52:33.941 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 13:52:33.941 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:33.941 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:52:33.941 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 13:52:33.943 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 13:52:33.944 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 13:52:33.998 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 13:52:33.998 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 13:52:33.998 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 13:52:33.999 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 56.9361ms
2025-02-06 13:52:33.999 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 13:52:33.999 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 57.7697ms
2025-02-06 13:52:34.011 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:52:34.012 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:34.012 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5409ms
2025-02-06 13:52:34.016 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 13:52:34.016 +05:00 [INF] CORS policy execution successful.
2025-02-06 13:52:34.017 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:52:34.017 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 13:52:34.019 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 13:52:34.019 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 13:52:34.021 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 13:52:34.024 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 13:52:34.026 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 13:52:34.026 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 8.8ms
2025-02-06 13:52:34.026 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 13:52:34.026 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.6632ms
2025-02-06 14:00:25.869 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 14:00:25.870 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:00:25.870 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.6484ms
2025-02-06 14:00:25.872 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 14:00:25.872 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:00:25.873 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 14:00:25.873 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 14:00:25.877 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 14:00:25.878 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 14:00:25.887 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 14:00:25.889 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 14:00:25.889 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:00:25.889 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 16.5109ms
2025-02-06 14:00:25.889 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 14:00:25.889 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 17.4757ms
2025-02-06 14:00:26.462 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 14:00:26.462 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:00:26.462 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2823ms
2025-02-06 14:00:26.464 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 14:00:26.464 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:00:26.465 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:00:26.465 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 14:00:26.465 +05:00 [INF] GetAll Topics
2025-02-06 14:00:26.468 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 14:00:26.471 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:00:26.472 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 7.4015ms
2025-02-06 14:00:26.472 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:00:26.472 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 8.1961ms
2025-02-06 14:05:38.856 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 14:05:38.856 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:05:38.858 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 2.243ms
2025-02-06 14:05:38.860 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 14:05:38.860 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:05:38.860 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:05:38.860 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 14:05:38.861 +05:00 [INF] GetAll Topics
2025-02-06 14:05:38.866 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 14:05:38.869 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:05:38.870 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 10.2442ms
2025-02-06 14:05:38.870 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:05:38.871 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 11.1197ms
2025-02-06 14:05:40.760 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 14:05:40.760 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:05:40.760 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:05:40.760 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 14:05:40.761 +05:00 [INF] GetAll Topics
2025-02-06 14:05:40.762 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 14:05:40.763 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:05:40.763 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.9788ms
2025-02-06 14:05:40.763 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:05:40.763 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.8495ms
2025-02-06 14:56:15.536 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 14:56:15.536 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:56:15.536 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3836ms
2025-02-06 14:56:15.546 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 14:56:15.546 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:56:15.547 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 14:56:15.547 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 14:56:15.549 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 14:56:15.549 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 14:56:15.564 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 14:56:15.569 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 14:56:15.570 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:56:15.571 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 23.3449ms
2025-02-06 14:56:15.571 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 14:56:15.571 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 25.3762ms
2025-02-06 14:56:41.294 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 14:56:41.294 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:56:41.295 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.3134ms
2025-02-06 14:56:41.298 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 14:56:41.298 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:56:41.299 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 14:56:41.299 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 14:56:41.300 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 14:56:41.300 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 14:56:41.301 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 14:56:41.303 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 14:56:41.304 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:56:41.304 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.311ms
2025-02-06 14:56:41.304 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 14:56:41.305 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.691ms
2025-02-06 14:56:58.039 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 14:56:58.050 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 10.3564ms
2025-02-06 14:56:58.080 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 14:56:58.082 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.1456ms
2025-02-06 14:56:58.089 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 14:56:58.105 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.0381ms
2025-02-06 14:56:58.216 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 14:56:58.233 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.1247ms
2025-02-06 14:57:13.006 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 14:57:13.006 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:57:13.007 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.7417ms
2025-02-06 14:57:13.010 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 14:57:13.010 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:57:13.011 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 14:57:13.011 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 14:57:13.012 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 14:57:13.012 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 14:57:13.013 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 14:57:13.016 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 14:57:13.017 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:57:13.018 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.7914ms
2025-02-06 14:57:13.018 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 14:57:13.018 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.9763ms
2025-02-06 14:57:14.331 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 14:57:14.331 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:57:14.331 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.302ms
2025-02-06 14:57:14.333 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 14:57:14.333 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:57:14.334 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:57:14.334 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 14:57:14.334 +05:00 [INF] GetAll Topics
2025-02-06 14:57:14.335 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 14:57:14.336 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:57:14.337 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.7344ms
2025-02-06 14:57:14.337 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:57:14.337 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.6619ms
2025-02-06 14:59:27.698 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 14:59:27.698 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:59:27.698 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.9136ms
2025-02-06 14:59:27.705 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 14:59:27.705 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:59:27.706 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 14:59:27.706 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 14:59:27.707 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 14:59:27.707 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 14:59:27.713 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 14:59:27.752 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 14:59:27.753 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:59:27.753 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 47.5182ms
2025-02-06 14:59:27.753 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 14:59:27.754 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 48.9491ms
2025-02-06 14:59:37.558 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 14:59:37.558 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:59:37.559 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3099ms
2025-02-06 14:59:37.561 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 14:59:37.561 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:59:37.561 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:59:37.561 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 14:59:37.562 +05:00 [INF] GetAll Topics
2025-02-06 14:59:37.564 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 14:59:37.564 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:59:37.565 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.3541ms
2025-02-06 14:59:37.565 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:59:37.565 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.1351ms
2025-02-06 14:59:54.608 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 14:59:54.608 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:59:54.608 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2583ms
2025-02-06 14:59:54.610 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 14:59:54.610 +05:00 [INF] CORS policy execution successful.
2025-02-06 14:59:54.610 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:59:54.610 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 14:59:54.611 +05:00 [INF] GetAll Topics
2025-02-06 14:59:54.612 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 14:59:54.613 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 14:59:54.613 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.754ms
2025-02-06 14:59:54.613 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 14:59:54.613 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.503ms
2025-02-06 15:00:02.384 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:00:02.384 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:02.384 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.259ms
2025-02-06 15:00:02.386 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/topic - application/json 47
2025-02-06 15:00:02.386 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:02.386 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI)'
2025-02-06 15:00:02.389 +05:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Create(QuizMasterAPI.Models.DTOs.CreateTopicDto) on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:00:02.399 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-02-06 15:00:02.403 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'QuizMasterAPI.Models.DTOs.TopicDto'.
2025-02-06 15:00:02.418 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI) in 28.8901ms
2025-02-06 15:00:02.418 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI)'
2025-02-06 15:00:02.418 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/topic - 201 null application/json; charset=utf-8 32.3554ms
2025-02-06 15:00:02.421 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:00:02.421 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:02.422 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:00:02.422 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:00:02.422 +05:00 [INF] GetAll Topics
2025-02-06 15:00:02.423 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:00:02.424 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:00:02.424 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.5692ms
2025-02-06 15:00:02.424 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:00:02.425 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.4205ms
2025-02-06 15:00:04.819 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:00:04.819 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:04.819 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:00:04.819 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:00:04.820 +05:00 [INF] GetAll Topics
2025-02-06 15:00:04.822 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:00:04.823 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:00:04.824 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.2507ms
2025-02-06 15:00:04.824 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:00:04.824 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.2077ms
2025-02-06 15:00:26.372 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-06 15:00:26.372 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:26.372 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.3447ms
2025-02-06 15:00:26.374 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 373
2025-02-06 15:00:26.374 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:26.374 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:00:26.377 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:00:26.386 +05:00 [INF] Вход в CreateQuestion для Как вы предпочитаете проводить свободное время?
2025-02-06 15:00:26.387 +05:00 [INF] CreateQuestion(Text=Как вы предпочитаете проводить свободное время?)
2025-02-06 15:00:26.410 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 15:00:26.423 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1),
(@p8, @p9, @p10, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:00:26.431 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Question'.
2025-02-06 15:00:26.433 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 56.3213ms
2025-02-06 15:00:26.433 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:00:26.433 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 59.5307ms
2025-02-06 15:00:26.437 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:00:26.437 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:26.437 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.2028ms
2025-02-06 15:00:26.438 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:00:26.438 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:26.439 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:00:26.439 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:00:26.439 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:00:26.439 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:00:26.441 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:00:26.443 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:00:26.444 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:00:26.444 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.8824ms
2025-02-06 15:00:26.444 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:00:26.444 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 5.6938ms
2025-02-06 15:00:28.201 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:00:28.201 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:28.201 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3291ms
2025-02-06 15:00:28.203 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:00:28.204 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:28.204 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:00:28.204 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:00:28.204 +05:00 [INF] GetAll Topics
2025-02-06 15:00:28.205 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:00:28.206 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:00:28.207 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.6717ms
2025-02-06 15:00:28.207 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:00:28.207 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.4314ms
2025-02-06 15:00:48.607 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-06 15:00:48.607 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:48.607 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.3661ms
2025-02-06 15:00:48.609 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 389
2025-02-06 15:00:48.609 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:48.610 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:00:48.610 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:00:48.611 +05:00 [INF] Вход в CreateQuestion для Какой тип активного отдыха вам больше нравится?
2025-02-06 15:00:48.611 +05:00 [INF] CreateQuestion(Text=Какой тип активного отдыха вам больше нравится?)
2025-02-06 15:00:48.614 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 15:00:48.652 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1),
(@p8, @p9, @p10, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:00:48.658 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Question'.
2025-02-06 15:00:48.659 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 49.021ms
2025-02-06 15:00:48.659 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:00:48.659 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 49.9232ms
2025-02-06 15:00:48.662 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:00:48.662 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:48.662 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.2221ms
2025-02-06 15:00:48.663 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:00:48.664 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:48.664 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:00:48.664 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:00:48.664 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:00:48.664 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:00:48.667 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:00:48.671 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:00:48.671 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:00:48.672 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.7582ms
2025-02-06 15:00:48.672 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:00:48.672 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 8.3379ms
2025-02-06 15:00:50.507 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 15:00:50.508 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:50.508 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=2&pageSize=5 - 204 null null 0.3096ms
2025-02-06 15:00:50.509 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - null null
2025-02-06 15:00:50.509 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:50.510 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:00:50.510 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:00:50.510 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=2, pageSize=5
2025-02-06 15:00:50.510 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=2, pageSize=5)
2025-02-06 15:00:50.511 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:00:50.537 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:00:50.539 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:00:50.539 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 29.216ms
2025-02-06 15:00:50.539 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:00:50.539 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=2&pageSize=5 - 200 null application/json; charset=utf-8 30.0311ms
2025-02-06 15:00:50.846 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 15:00:50.846 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:50.846 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.2862ms
2025-02-06 15:00:50.847 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 15:00:50.847 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:50.848 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:00:50.848 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:00:50.848 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 15:00:50.848 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 15:00:50.849 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:00:50.851 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:00:50.851 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:00:50.851 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.7109ms
2025-02-06 15:00:50.851 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:00:50.852 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.3228ms
2025-02-06 15:00:53.930 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:00:53.930 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:53.930 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.4252ms
2025-02-06 15:00:53.933 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:00:53.933 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:00:53.934 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:00:53.934 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:00:53.935 +05:00 [INF] GetAll Topics
2025-02-06 15:00:53.937 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:00:53.938 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:00:53.938 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.6579ms
2025-02-06 15:00:53.938 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:00:53.938 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.1429ms
2025-02-06 15:01:14.520 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-06 15:01:14.520 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:14.521 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.2521ms
2025-02-06 15:01:14.522 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 376
2025-02-06 15:01:14.522 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:14.522 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:01:14.522 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:01:14.523 +05:00 [INF] Вход в CreateQuestion для Какой тип развлечений вам ближе?
2025-02-06 15:01:14.523 +05:00 [INF] CreateQuestion(Text=Какой тип развлечений вам ближе?)
2025-02-06 15:01:14.525 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 15:01:14.530 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1),
(@p8, @p9, @p10, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:01:14.544 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Question'.
2025-02-06 15:01:14.545 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 22.3941ms
2025-02-06 15:01:14.545 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:01:14.545 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 23.3071ms
2025-02-06 15:01:14.548 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 15:01:14.548 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:14.548 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.2129ms
2025-02-06 15:01:14.549 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 15:01:14.549 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:14.549 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:01:14.549 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:01:14.550 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 15:01:14.550 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 15:01:14.551 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:01:14.552 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:01:14.553 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:01:14.554 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.0086ms
2025-02-06 15:01:14.554 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:01:14.554 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.7346ms
2025-02-06 15:01:19.526 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:01:19.526 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:19.527 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.5318ms
2025-02-06 15:01:19.529 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:01:19.529 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:19.530 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:01:19.530 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:01:19.530 +05:00 [INF] GetAll Topics
2025-02-06 15:01:19.531 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:01:19.532 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:01:19.533 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.8676ms
2025-02-06 15:01:19.533 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:01:19.533 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.78ms
2025-02-06 15:01:38.267 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-06 15:01:38.267 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:38.268 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.3067ms
2025-02-06 15:01:38.270 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 358
2025-02-06 15:01:38.270 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:38.271 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:01:38.271 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:01:38.272 +05:00 [INF] Вход в CreateQuestion для Какой жанр музыки вы чаще слушаете?
2025-02-06 15:01:38.272 +05:00 [INF] CreateQuestion(Text=Какой жанр музыки вы чаще слушаете?)
2025-02-06 15:01:38.274 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 15:01:38.276 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1),
(@p8, @p9, @p10, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:01:38.288 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Question'.
2025-02-06 15:01:38.288 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 17.2369ms
2025-02-06 15:01:38.288 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:01:38.288 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 18.4207ms
2025-02-06 15:01:38.291 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 15:01:38.291 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:38.291 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.1976ms
2025-02-06 15:01:38.292 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 15:01:38.292 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:38.292 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:01:38.292 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:01:38.293 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 15:01:38.293 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 15:01:38.294 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:01:38.296 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:01:38.296 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:01:38.296 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 3.9988ms
2025-02-06 15:01:38.296 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:01:38.297 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 4.4827ms
2025-02-06 15:01:42.764 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:01:42.764 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:42.764 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2537ms
2025-02-06 15:01:42.766 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:01:42.766 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:01:42.766 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:01:42.766 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:01:42.767 +05:00 [INF] GetAll Topics
2025-02-06 15:01:42.768 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:01:42.769 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:01:42.769 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.0009ms
2025-02-06 15:01:42.769 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:01:42.770 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.799ms
2025-02-06 15:02:00.897 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions - null null
2025-02-06 15:02:00.897 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:00.897 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions - 204 null null 0.2472ms
2025-02-06 15:02:00.898 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/questions - application/json 420
2025-02-06 15:02:00.898 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:00.898 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:02:00.898 +05:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(QuizMasterAPI.Models.DTOs.CreateQuestionDto) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:02:00.899 +05:00 [INF] Вход в CreateQuestion для Какой тип путешествий вы предпочитаете?
2025-02-06 15:02:00.899 +05:00 [INF] CreateQuestion(Text=Какой тип путешествий вы предпочитаете?)
2025-02-06 15:02:00.902 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([Text], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 15:02:00.906 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AnswerOptions] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1),
(@p8, @p9, @p10, 2)) AS i ([IsCorrect], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([IsCorrect], [QuestionId], [Text])
VALUES (i.[IsCorrect], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:02:00.907 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'Question'.
2025-02-06 15:02:00.907 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI) in 8.9803ms
2025-02-06 15:02:00.907 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.CreateQuestion (QuizMasterAPI)'
2025-02-06 15:02:00.908 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/questions - 201 null application/json; charset=utf-8 9.6764ms
2025-02-06 15:02:00.911 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 15:02:00.911 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:00.911 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=3&pageSize=5 - 204 null null 0.2637ms
2025-02-06 15:02:00.913 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - null null
2025-02-06 15:02:00.913 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:00.914 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:02:00.914 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:02:00.914 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=3, pageSize=5
2025-02-06 15:02:00.914 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=3, pageSize=5)
2025-02-06 15:02:00.915 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:02:00.918 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:02:00.919 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:02:00.919 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.3444ms
2025-02-06 15:02:00.919 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:02:00.919 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=3&pageSize=5 - 200 null application/json; charset=utf-8 5.9947ms
2025-02-06 15:02:03.293 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=4&pageSize=5 - null null
2025-02-06 15:02:03.294 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:03.294 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=4&pageSize=5 - 204 null null 0.3434ms
2025-02-06 15:02:03.295 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=4&pageSize=5 - null null
2025-02-06 15:02:03.296 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:03.296 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:02:03.296 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:02:03.296 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=4, pageSize=5
2025-02-06 15:02:03.296 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=4, pageSize=5)
2025-02-06 15:02:03.297 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:02:03.299 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:02:03.300 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:02:03.301 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 4.6314ms
2025-02-06 15:02:03.301 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:02:03.301 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=4&pageSize=5 - 200 null application/json; charset=utf-8 5.3644ms
2025-02-06 15:02:22.350 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:02:22.351 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:22.351 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4264ms
2025-02-06 15:02:22.353 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:02:22.353 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:22.354 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:02:22.354 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:02:22.354 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:02:22.354 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:02:22.356 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:02:22.358 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:02:22.359 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:02:22.360 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.9398ms
2025-02-06 15:02:22.360 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:02:22.360 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.8098ms
2025-02-06 15:02:23.061 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:02:23.061 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:23.061 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2431ms
2025-02-06 15:02:23.063 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:02:23.063 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:02:23.063 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:02:23.063 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:02:23.063 +05:00 [INF] GetAll Topics
2025-02-06 15:02:23.065 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:02:23.065 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:02:23.066 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.7335ms
2025-02-06 15:02:23.066 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:02:23.066 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.2311ms
2025-02-06 15:03:18.182 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9B%D1%8E%D0%B1%D0%B8%D0%BC%D1%8B%D0%B5%20%D0%B2%D0%B8%D0%B4%D1%8B%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%B0%D1%81?&countOfQuestions=5&isPrivate=false&isSurvey=true&topicId=2006 - null null
2025-02-06 15:03:18.182 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:03:18.182 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9B%D1%8E%D0%B1%D0%B8%D0%BC%D1%8B%D0%B5%20%D0%B2%D0%B8%D0%B4%D1%8B%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%B0%D1%81?&countOfQuestions=5&isPrivate=false&isSurvey=true&topicId=2006 - 204 null null 0.8442ms
2025-02-06 15:03:18.184 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9B%D1%8E%D0%B1%D0%B8%D0%BC%D1%8B%D0%B5%20%D0%B2%D0%B8%D0%B4%D1%8B%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%B0%D1%81?&countOfQuestions=5&isPrivate=false&isSurvey=true&topicId=2006 - null 0
2025-02-06 15:03:18.184 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:03:18.185 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 15:03:18.187 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:03:18.193 +05:00 [INF] Вход в CreateTemplate: Любимые виды досуга для вас?, count=5, topic=2006, isPrivate=false
2025-02-06 15:03:18.193 +05:00 [INF] CreateTemplateAsync(Name=Любимые виды досуга для вас?, count=5, topic=2006, isPrivate=false)
2025-02-06 15:03:18.208 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-06 15:03:18.210 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 15:03:18.210 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 22.5305ms
2025-02-06 15:03:18.210 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 15:03:18.210 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9B%D1%8E%D0%B1%D0%B8%D0%BC%D1%8B%D0%B5%20%D0%B2%D0%B8%D0%B4%D1%8B%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%B0%D1%81?&countOfQuestions=5&isPrivate=false&isSurvey=true&topicId=2006 - 200 null application/json; charset=utf-8 25.7588ms
2025-02-06 15:03:18.213 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:03:18.213 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:03:18.213 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.1885ms
2025-02-06 15:03:18.215 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:03:18.215 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:03:18.215 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:03:18.215 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:03:18.215 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:03:18.215 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:03:18.217 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:03:18.224 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:03:18.224 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:03:18.224 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 9.5094ms
2025-02-06 15:03:18.224 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:03:18.225 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.0327ms
2025-02-06 15:03:21.005 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:03:21.005 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:03:21.006 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.287ms
2025-02-06 15:03:21.007 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:03:21.007 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:03:21.007 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:03:21.007 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:03:21.008 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 15:03:21.008 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:03:21.009 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:03:21.018 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:03:21.018 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:03:21.018 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 10.8722ms
2025-02-06 15:03:21.018 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:03:21.019 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 11.3832ms
2025-02-06 15:03:23.302 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8017 - null null
2025-02-06 15:03:23.303 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:03:23.303 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8017 - 204 null null 0.8011ms
2025-02-06 15:03:23.306 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8017 - application/json 2
2025-02-06 15:03:23.307 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:03:23.307 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 15:03:23.311 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:03:23.314 +05:00 [INF] Вход в StartTest(TestId=8017)
2025-02-06 15:03:23.315 +05:00 [INF] StartTestAsync(TestId=8017, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 15:03:23.318 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 15:03:23.335 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 15:03:23.355 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 15:03:23.372 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:03:23.380 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:03:23.405 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 15:03:23.412 +05:00 [INF] Тест успешно создан: UserTestId=10021
2025-02-06 15:03:23.412 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 15:03:23.414 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 103.2357ms
2025-02-06 15:03:23.414 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 15:03:23.414 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8017 - 200 null application/json; charset=utf-8 108.8562ms
2025-02-06 15:04:09.894 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10021/save - null null
2025-02-06 15:04:09.894 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:09.895 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10021/save - 204 null null 0.4915ms
2025-02-06 15:04:09.897 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10021/save - application/json 311
2025-02-06 15:04:09.898 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:09.899 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 15:04:09.901 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 15:04:09.908 +05:00 [INF] Вход в SaveAnswers(UserTestId=10021), Count=5
2025-02-06 15:04:09.909 +05:00 [INF] SaveAnswersAsync(UserTestId=10021, CountAnswers=5)
2025-02-06 15:04:09.916 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:04:09.951 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:04:09.978 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:04:09.979 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 15:04:09.979 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 78.1536ms
2025-02-06 15:04:09.979 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 15:04:09.980 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10021/save - 200 null application/json; charset=utf-8 82.8118ms
2025-02-06 15:04:09.983 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10021/check - null null
2025-02-06 15:04:09.983 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:09.983 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10021/check - 204 null null 0.2438ms
2025-02-06 15:04:09.985 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10021/check - null null
2025-02-06 15:04:09.985 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:09.986 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 15:04:09.988 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 15:04:09.989 +05:00 [INF] Вход в CheckAnswers(UserTestId=10021)
2025-02-06 15:04:09.990 +05:00 [INF] CheckAnswersAsync(UserTestId=10021)
2025-02-06 15:04:09.992 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:04:10.028 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 15:04:10.032 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 15:04:10.034 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 46.2717ms
2025-02-06 15:04:10.034 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 15:04:10.034 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10021/check - 200 null application/json; charset=utf-8 48.8911ms
2025-02-06 15:04:18.358 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:04:18.359 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:18.359 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.7282ms
2025-02-06 15:04:18.362 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:04:18.362 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:18.362 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:04:18.362 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:04:18.363 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:04:18.363 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:04:18.365 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:04:18.370 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:04:18.370 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:04:18.371 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.3759ms
2025-02-06 15:04:18.371 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:04:18.371 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.5758ms
2025-02-06 15:04:26.070 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:04:26.071 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:26.071 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.5857ms
2025-02-06 15:04:26.074 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:04:26.074 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:26.074 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:04:26.075 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:04:26.075 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:04:26.075 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:04:26.077 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:04:26.081 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:04:26.082 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:04:26.083 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 7.9605ms
2025-02-06 15:04:26.083 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:04:26.083 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.0635ms
2025-02-06 15:04:27.192 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:04:27.192 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:27.192 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.3765ms
2025-02-06 15:04:27.195 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:04:27.196 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:27.196 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:04:27.200 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:04:27.202 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 15:04:27.209 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:04:27.218 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:04:27.274 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:04:27.289 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:04:27.293 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 93.4ms
2025-02-06 15:04:27.293 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:04:27.293 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 98.1736ms
2025-02-06 15:04:36.414 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:04:36.414 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:36.414 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.3293ms
2025-02-06 15:04:36.416 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:04:36.416 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:04:36.416 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:04:36.416 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:04:36.418 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 15:04:36.419 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:04:36.426 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:04:36.482 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:04:36.490 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:04:36.490 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 73.3524ms
2025-02-06 15:04:36.490 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:04:36.490 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 74.0808ms
2025-02-06 15:05:10.216 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:05:10.216 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:05:10.216 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.4697ms
2025-02-06 15:05:10.219 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:05:10.219 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:05:10.219 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:05:10.219 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:05:10.220 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:05:10.220 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:05:10.223 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:05:10.234 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:05:10.235 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:05:10.235 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 15.2612ms
2025-02-06 15:05:10.235 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:05:10.235 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 16.2678ms
2025-02-06 15:05:11.943 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:05:11.944 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:05:11.944 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.4592ms
2025-02-06 15:05:11.947 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:05:11.947 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:05:11.947 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:05:11.948 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:05:11.948 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:05:11.949 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:05:11.951 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:05:11.954 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:05:11.955 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:05:11.956 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.9568ms
2025-02-06 15:05:11.956 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:05:11.956 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.2193ms
2025-02-06 15:05:14.901 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:05:14.901 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:05:14.901 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.2667ms
2025-02-06 15:05:14.903 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:05:14.903 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:05:14.903 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:05:14.903 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:05:14.904 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 15:05:14.904 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:05:14.905 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:05:14.907 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:05:14.908 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:05:14.908 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.3634ms
2025-02-06 15:05:14.908 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:05:14.908 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 4.8374ms
2025-02-06 15:05:27.682 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:05:27.683 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:05:27.683 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2272ms
2025-02-06 15:05:27.684 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:05:27.684 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:05:27.684 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:05:27.684 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:05:27.685 +05:00 [INF] GetAll Topics
2025-02-06 15:05:27.686 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:05:27.687 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:05:27.687 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 2.5471ms
2025-02-06 15:05:27.687 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:05:27.687 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.0456ms
2025-02-06 15:08:55.898 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-06 15:08:55.927 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-06 15:08:55.946 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-06 15:08:55.995 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-06 15:08:56.010 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-06 15:08:56.016 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-06 15:08:56.025 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-06 15:08:56.035 +05:00 [INF] Applying migration '20250206100837_AddIsSurvey'.
2025-02-06 15:08:56.066 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Tests] ADD [IsSurvey] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-02-06 15:08:56.072 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250206100837_AddIsSurvey', N'9.0.1');
2025-02-06 15:08:56.081 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-06 15:09:07.243 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 15:09:07.315 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 15:09:07.830 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 15:09:07.948 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 15:09:08.021 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 15:09:08.021 +05:00 [INF] Hosting environment: Development
2025-02-06 15:09:08.021 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 15:09:08.115 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 15:09:08.114 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 175.1412ms
2025-02-06 15:09:08.140 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.7426ms
2025-02-06 15:09:08.174 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 15:09:08.200 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.8695ms
2025-02-06 15:09:08.241 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 15:09:08.270 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.3929ms
2025-02-06 15:09:41.307 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:09:41.314 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:41.317 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 10.3965ms
2025-02-06 15:09:41.322 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:09:41.329 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:41.457 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:09:41.473 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:09:41.593 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:09:41.595 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:09:41.628 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:09:41.729 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:09:41.790 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:09:41.802 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 325.4007ms
2025-02-06 15:09:41.803 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:09:41.810 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 487.686ms
2025-02-06 15:09:44.827 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:09:44.828 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:44.829 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 2.2468ms
2025-02-06 15:09:44.833 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:09:44.835 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:44.837 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:09:44.841 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:09:44.851 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:09:44.853 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:09:44.860 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:09:44.872 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:09:44.887 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:09:44.892 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 50.7797ms
2025-02-06 15:09:44.892 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:09:44.893 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 59.2767ms
2025-02-06 15:09:48.380 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:09:48.380 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:48.380 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.8314ms
2025-02-06 15:09:48.383 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:09:48.383 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:48.385 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:09:48.386 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:09:48.387 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 15:09:48.387 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:09:48.388 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:09:48.399 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:09:48.400 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:09:48.400 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 14.2581ms
2025-02-06 15:09:48.400 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:09:48.400 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 17.6748ms
2025-02-06 15:09:49.844 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:09:49.844 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:49.844 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.6032ms
2025-02-06 15:09:49.847 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:09:49.847 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:49.848 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:09:49.850 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:09:49.852 +05:00 [INF] GetAll Topics
2025-02-06 15:09:49.860 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:09:49.865 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:09:49.867 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 16.4829ms
2025-02-06 15:09:49.867 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:09:49.867 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 20.0807ms
2025-02-06 15:09:55.356 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8017 - null null
2025-02-06 15:09:55.357 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:55.357 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8017 - 204 null null 1.0108ms
2025-02-06 15:09:55.359 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8017 - null null
2025-02-06 15:09:55.359 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:55.361 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:09:55.363 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 15:09:55.375 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 15:09:55.376 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:09:55.377 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 13.6063ms
2025-02-06 15:09:55.377 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:09:55.377 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8017 - 200 null application/json; charset=utf-8 18.7627ms
2025-02-06 15:09:59.110 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - null null
2025-02-06 15:09:59.110 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:59.111 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - 204 null null 0.487ms
2025-02-06 15:09:59.112 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 15:09:59.113 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:09:59.113 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 15:09:59.114 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 15:09:59.127 +05:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-06 15:09:59.140 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 15:09:59.142 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:09:59.145 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 30.4832ms
2025-02-06 15:09:59.145 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 15:09:59.145 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 32.6762ms
2025-02-06 15:10:02.186 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8017&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 15:10:02.186 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:02.187 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8017&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 204 null null 0.7919ms
2025-02-06 15:10:02.188 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8017&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - application/json 2
2025-02-06 15:10:02.188 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:02.189 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 15:10:02.191 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 15:10:02.197 +05:00 [INF] AddAccess(TestId=8017, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 15:10:02.198 +05:00 [INF] AddUserAccessAsync(TestId=8017, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 15:10:02.212 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 15:10:02.302 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 15:10:02.321 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 15:10:02.322 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 130.4606ms
2025-02-06 15:10:02.322 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 15:10:02.322 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8017&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null application/json; charset=utf-8 133.9026ms
2025-02-06 15:10:02.325 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8017 - null null
2025-02-06 15:10:02.325 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:02.325 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8017 - 204 null null 0.44ms
2025-02-06 15:10:02.327 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8017 - null null
2025-02-06 15:10:02.327 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:02.327 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:10:02.327 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 15:10:02.330 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 15:10:02.345 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 15:10:02.367 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:02.368 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 40.8916ms
2025-02-06 15:10:02.368 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:10:02.368 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8017 - 200 null application/json; charset=utf-8 41.7761ms
2025-02-06 15:10:07.693 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8017?newName=%D0%9B%D1%8E%D0%B1%D0%B8%D0%BC%D1%8B%D0%B5%20%D0%B2%D0%B8%D0%B4%D1%8B%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%B0%D1%81?&countOfQuestions=5&isPrivate=true&isSurvey=true&topicId=2006 - null null
2025-02-06 15:10:07.693 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:07.693 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8017?newName=%D0%9B%D1%8E%D0%B1%D0%B8%D0%BC%D1%8B%D0%B5%20%D0%B2%D0%B8%D0%B4%D1%8B%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%B0%D1%81?&countOfQuestions=5&isPrivate=true&isSurvey=true&topicId=2006 - 204 null null 0.6455ms
2025-02-06 15:10:07.695 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/tests/8017?newName=%D0%9B%D1%8E%D0%B1%D0%B8%D0%BC%D1%8B%D0%B5%20%D0%B2%D0%B8%D0%B4%D1%8B%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%B0%D1%81?&countOfQuestions=5&isPrivate=true&isSurvey=true&topicId=2006 - null 0
2025-02-06 15:10:07.695 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:07.696 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 15:10:07.698 +05:00 [INF] Route matched with {action = "UpdateTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] UpdateTest(Int32, System.String, Int32, System.Nullable`1[System.Int32], Boolean, Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:10:07.702 +05:00 [INF] UpdateTest(Id=8017), isPrivate=true, isSurvey=true
2025-02-06 15:10:07.703 +05:00 [INF] UpdateTestAsync(Id=8017, isPrivate=true, isSurvey=true)
2025-02-06 15:10:07.710 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 15:10:07.726 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tests] SET [CountOfQuestions] = @p0, [CreatedAt] = @p1, [IsPrivate] = @p2, [IsSurvey] = @p3, [Name] = @p4, [TopicId] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-02-06 15:10:07.728 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 15:10:07.729 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI) in 31.0345ms
2025-02-06 15:10:07.729 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.UpdateTest (QuizMasterAPI)'
2025-02-06 15:10:07.731 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/tests/8017?newName=%D0%9B%D1%8E%D0%B1%D0%B8%D0%BC%D1%8B%D0%B5%20%D0%B2%D0%B8%D0%B4%D1%8B%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B2%D0%B0%D1%81?&countOfQuestions=5&isPrivate=true&isSurvey=true&topicId=2006 - 200 null application/json; charset=utf-8 35.8987ms
2025-02-06 15:10:07.735 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:10:07.735 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:07.735 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4071ms
2025-02-06 15:10:07.737 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:10:07.737 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:07.737 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:10:07.737 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:10:07.738 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 15:10:07.738 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:10:07.740 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:10:07.742 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:10:07.743 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:07.743 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.0381ms
2025-02-06 15:10:07.743 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:10:07.744 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 7.0427ms
2025-02-06 15:10:11.831 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:10:11.832 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:11.832 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.8123ms
2025-02-06 15:10:11.834 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:10:11.835 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:11.835 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:10:11.835 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:10:11.837 +05:00 [INF] GetAll Topics
2025-02-06 15:10:11.838 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:10:11.839 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:11.840 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.4152ms
2025-02-06 15:10:11.840 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:10:11.840 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.8128ms
2025-02-06 15:10:18.403 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:10:18.404 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:18.404 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.8888ms
2025-02-06 15:10:18.406 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:10:18.406 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:18.406 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:10:18.406 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:10:18.408 +05:00 [INF] GetAll Topics
2025-02-06 15:10:18.409 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:10:18.410 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:18.411 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.2679ms
2025-02-06 15:10:18.411 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:10:18.411 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.4112ms
2025-02-06 15:10:50.523 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9E%D0%BF%D1%80%D0%BE%D1%81%D0%BD%D0%B8%D0%BA%20%D0%BF%D1%80%D0%BE%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3&countOfQuestions=5&isPrivate=true&isSurvey=true&topicId=2006 - null null
2025-02-06 15:10:50.523 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:50.523 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9E%D0%BF%D1%80%D0%BE%D1%81%D0%BD%D0%B8%D0%BA%20%D0%BF%D1%80%D0%BE%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3&countOfQuestions=5&isPrivate=true&isSurvey=true&topicId=2006 - 204 null null 0.84ms
2025-02-06 15:10:50.525 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9E%D0%BF%D1%80%D0%BE%D1%81%D0%BD%D0%B8%D0%BA%20%D0%BF%D1%80%D0%BE%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3&countOfQuestions=5&isPrivate=true&isSurvey=true&topicId=2006 - null 0
2025-02-06 15:10:50.525 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:50.525 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 15:10:50.528 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean, Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:10:50.531 +05:00 [INF] CreateTemplate: Опросник про досуг, count=5, topic=2006, isPrivate=true, isSurvey=true
2025-02-06 15:10:50.531 +05:00 [INF] CreateTemplateAsync(Name=Опросник про досуг, isPrivate=true, isSurvey=true)
2025-02-06 15:10:50.549 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsSurvey], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 15:10:50.554 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 15:10:50.555 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 26.3607ms
2025-02-06 15:10:50.555 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 15:10:50.555 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9E%D0%BF%D1%80%D0%BE%D1%81%D0%BD%D0%B8%D0%BA%20%D0%BF%D1%80%D0%BE%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3&countOfQuestions=5&isPrivate=true&isSurvey=true&topicId=2006 - 200 null application/json; charset=utf-8 30.0049ms
2025-02-06 15:10:50.558 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:10:50.558 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:50.558 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8018 - null null
2025-02-06 15:10:50.559 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4019ms
2025-02-06 15:10:50.559 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:50.559 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8018 - 204 null null 0.2095ms
2025-02-06 15:10:50.560 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:10:50.560 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:50.560 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8018 - null null
2025-02-06 15:10:50.560 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:50.561 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:10:50.561 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:10:50.561 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:10:50.561 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 15:10:50.561 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 15:10:50.561 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:10:50.568 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 15:10:50.571 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:50.571 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 10.4231ms
2025-02-06 15:10:50.571 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:10:50.572 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8018 - 200 null application/json; charset=utf-8 11.163ms
2025-02-06 15:10:50.575 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:10:50.577 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:10:50.578 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:50.578 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 17.4159ms
2025-02-06 15:10:50.578 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:10:50.578 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 18.227ms
2025-02-06 15:10:52.389 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D0%B2 - null null
2025-02-06 15:10:52.390 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:52.390 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=%D0%B2 - 204 null null 0.5599ms
2025-02-06 15:10:52.391 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=%D0%B2 - null null
2025-02-06 15:10:52.392 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:52.392 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 15:10:52.392 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 15:10:52.396 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 15:10:52.396 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:52.397 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 4.5124ms
2025-02-06 15:10:52.397 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 15:10:52.397 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=%D0%B2 - 200 null application/json; charset=utf-8 5.6438ms
2025-02-06 15:10:54.283 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - null null
2025-02-06 15:10:54.283 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:54.283 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/users?search=d - 204 null null 0.4106ms
2025-02-06 15:10:54.285 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/users?search=d - null null
2025-02-06 15:10:54.285 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:54.285 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 15:10:54.285 +05:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll(System.String) on controller QuizMasterAPI.Controllers.UsersController (QuizMasterAPI).
2025-02-06 15:10:54.287 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__search_0_contains='?' (Size = 256), @__search_0_contains_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [a].[Id] AS [id], [a].[Email] AS [email], [a].[FullName] AS [fullName]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Email] IS NOT NULL AND LOWER([a].[Email]) LIKE @__search_0_contains ESCAPE N'\') OR LOWER([a].[FullName]) LIKE @__search_0_contains_1 ESCAPE N'\'
2025-02-06 15:10:54.287 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:54.287 +05:00 [INF] Executed action QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI) in 2.1793ms
2025-02-06 15:10:54.287 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.UsersController.GetAll (QuizMasterAPI)'
2025-02-06 15:10:54.288 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/users?search=d - 200 null application/json; charset=utf-8 3.0039ms
2025-02-06 15:10:56.139 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8018&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - null null
2025-02-06 15:10:56.139 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:56.139 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8018&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 204 null null 0.3762ms
2025-02-06 15:10:56.141 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8018&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - application/json 2
2025-02-06 15:10:56.141 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:56.141 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 15:10:56.141 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 15:10:56.142 +05:00 [INF] AddAccess(TestId=8018, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 15:10:56.142 +05:00 [INF] AddUserAccessAsync(TestId=8018, UserId=d2cdf368-04aa-4a54-a3d7-69a5a4441960)
2025-02-06 15:10:56.145 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 15:10:56.159 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 15:10:56.159 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 15:10:56.160 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 18.2976ms
2025-02-06 15:10:56.160 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 15:10:56.160 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8018&userId=d2cdf368-04aa-4a54-a3d7-69a5a4441960 - 200 null application/json; charset=utf-8 19.1593ms
2025-02-06 15:10:56.165 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8018 - null null
2025-02-06 15:10:56.166 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:56.166 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/get-users?testId=8018 - 204 null null 0.4525ms
2025-02-06 15:10:56.167 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8018 - null null
2025-02-06 15:10:56.167 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:56.168 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:10:56.168 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 15:10:56.170 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 15:10:56.173 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 15:10:56.174 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:56.174 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 6.3433ms
2025-02-06 15:10:56.174 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:10:56.174 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8018 - 200 null application/json; charset=utf-8 7.2117ms
2025-02-06 15:10:57.139 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8018&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - null null
2025-02-06 15:10:57.139 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:57.139 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/testaccess/add-access?testId=8018&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 204 null null 0.3417ms
2025-02-06 15:10:57.140 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8018&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - application/json 2
2025-02-06 15:10:57.140 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:57.141 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 15:10:57.141 +05:00 [INF] Route matched with {action = "AddAccess", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAccess(Int32, System.String) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 15:10:57.142 +05:00 [INF] AddAccess(TestId=8018, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 15:10:57.143 +05:00 [INF] AddUserAccessAsync(TestId=8018, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 15:10:57.144 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [TestAccesses] AS [t]
        WHERE [t].[TestId] = @__testId_0 AND [t].[UserId] = @__userId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-06 15:10:57.156 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TestAccesses] ([TestId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 15:10:57.157 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 15:10:57.157 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI) in 15.8216ms
2025-02-06 15:10:57.157 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.AddAccess (QuizMasterAPI)'
2025-02-06 15:10:57.157 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/testaccess/add-access?testId=8018&userId=0b2c8b40-ca96-446f-999f-1281c3589515 - 200 null application/json; charset=utf-8 17.0734ms
2025-02-06 15:10:57.163 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8018 - null null
2025-02-06 15:10:57.163 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:10:57.163 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:10:57.163 +05:00 [INF] Route matched with {action = "GetUsers", controller = "TestAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[QuizMasterAPI.Controllers.AccessUserDto]]] GetUsers(Int32) on controller QuizMasterAPI.Controllers.TestAccessController (QuizMasterAPI).
2025-02-06 15:10:57.165 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__testId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[TestId], [t].[UserId]
FROM [TestAccesses] AS [t]
WHERE [t].[TestId] = @__testId_0
2025-02-06 15:10:57.167 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 15:10:57.168 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-02-06 15:10:57.169 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Controllers.AccessUserDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:10:57.169 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI) in 5.5559ms
2025-02-06 15:10:57.169 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestAccessController.GetUsers (QuizMasterAPI)'
2025-02-06 15:10:57.169 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/testaccess/get-users?testId=8018 - 200 null application/json; charset=utf-8 6.7561ms
2025-02-06 15:11:02.115 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8018 - null null
2025-02-06 15:11:02.115 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:02.115 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8018 - 204 null null 0.9834ms
2025-02-06 15:11:02.119 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8018 - application/json 2
2025-02-06 15:11:02.120 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:02.120 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 15:11:02.124 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:11:02.128 +05:00 [INF] Вход в StartTest(TestId=8018)
2025-02-06 15:11:02.129 +05:00 [INF] StartTestAsync(TestId=8018, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 15:11:02.132 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 15:11:02.150 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 15:11:02.174 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 15:11:02.192 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:11:02.201 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:11:02.228 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 15:11:02.235 +05:00 [INF] Тест успешно создан: UserTestId=10022
2025-02-06 15:11:02.235 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 15:11:02.237 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 112.6628ms
2025-02-06 15:11:02.237 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 15:11:02.237 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8018 - 200 null application/json; charset=utf-8 118.1274ms
2025-02-06 15:11:08.483 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10022/save - null null
2025-02-06 15:11:08.483 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:08.484 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10022/save - 204 null null 0.7237ms
2025-02-06 15:11:08.485 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10022/save - application/json 311
2025-02-06 15:11:08.486 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:08.486 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 15:11:08.489 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 15:11:08.510 +05:00 [INF] Вход в SaveAnswers(UserTestId=10022), Count=5
2025-02-06 15:11:08.511 +05:00 [INF] SaveAnswersAsync(UserTestId=10022, CountAnswers=5)
2025-02-06 15:11:08.528 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:11:08.564 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:11:08.580 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:11:08.581 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 15:11:08.582 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 92.6221ms
2025-02-06 15:11:08.582 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 15:11:08.582 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10022/save - 200 null application/json; charset=utf-8 96.5144ms
2025-02-06 15:11:08.585 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10022/check - null null
2025-02-06 15:11:08.585 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:08.585 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10022/check - 204 null null 0.2551ms
2025-02-06 15:11:08.587 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10022/check - null null
2025-02-06 15:11:08.587 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:08.587 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 15:11:08.589 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 15:11:08.591 +05:00 [INF] Вход в CheckAnswers(UserTestId=10022)
2025-02-06 15:11:08.592 +05:00 [INF] CheckAnswersAsync(UserTestId=10022)
2025-02-06 15:11:08.594 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u2].[Id], [u2].[CorrectAnswers], [u2].[DateCreated], [u2].[IsPassed], [u2].[TestId], [u2].[TotalQuestions], [u2].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTestId_0
) AS [u2]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u2].[Id] = [s].[UserTestId]
ORDER BY [u2].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:11:08.640 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__questionIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Text], [q].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM [Questions] AS [q]
LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
WHERE [q].[Id] IN (
    SELECT [q0].[value]
    FROM OPENJSON(@__questionIds_0) WITH ([value] int '$') AS [q0]
)
ORDER BY [q].[Id]
2025-02-06 15:11:08.645 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 15:11:08.647 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 57.5473ms
2025-02-06 15:11:08.647 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 15:11:08.647 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10022/check - 200 null application/json; charset=utf-8 60.5329ms
2025-02-06 15:11:14.805 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:11:14.805 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:14.806 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.8025ms
2025-02-06 15:11:14.808 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:11:14.808 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:14.809 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:11:14.809 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:11:14.811 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:11:14.811 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:11:14.813 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:11:14.817 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:11:14.818 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:11:14.819 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 9.7372ms
2025-02-06 15:11:14.819 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:11:14.819 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 11.4662ms
2025-02-06 15:11:17.081 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:11:17.081 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:17.082 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.9293ms
2025-02-06 15:11:17.088 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:11:17.089 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:17.089 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:11:17.090 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:11:17.093 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:11:17.093 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:11:17.096 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:11:17.100 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:11:17.101 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:11:17.101 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 11.2536ms
2025-02-06 15:11:17.101 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:11:17.101 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 12.8647ms
2025-02-06 15:11:18.000 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:11:18.000 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:18.000 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.6518ms
2025-02-06 15:11:18.003 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:11:18.004 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:18.005 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:11:18.008 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:11:18.010 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 15:11:18.016 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:11:18.025 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:11:18.082 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:11:18.096 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:11:18.100 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 92.2281ms
2025-02-06 15:11:18.100 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:11:18.100 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 96.955ms
2025-02-06 15:11:21.085 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:11:21.085 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:21.086 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.393ms
2025-02-06 15:11:21.088 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:11:21.088 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:11:21.088 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:11:21.088 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:11:21.090 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 15:11:21.092 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:11:21.099 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:11:21.170 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:11:21.180 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:11:21.181 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 92.3832ms
2025-02-06 15:11:21.181 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:11:21.181 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 93.3011ms
2025-02-06 15:25:41.854 +05:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 15:25:41.944 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 15:25:42.046 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 15:25:42.170 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 15:25:42.268 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 15:25:42.268 +05:00 [INF] Hosting environment: Development
2025-02-06 15:25:42.268 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 15:25:42.377 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 217.0164ms
2025-02-06 15:25:42.430 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 15:25:42.430 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 15:25:42.436 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 2.6649ms
2025-02-06 15:25:42.462 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.0984ms
2025-02-06 15:25:42.515 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 15:25:42.534 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.1494ms
2025-02-06 15:25:55.090 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:25:55.097 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:25:55.099 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 10.166ms
2025-02-06 15:25:55.108 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:25:55.110 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:25:55.187 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:25:55.204 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:25:55.322 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:25:55.323 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:25:55.360 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:25:55.459 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:25:55.523 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:25:55.535 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 327.0478ms
2025-02-06 15:25:55.535 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:25:55.540 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 431.8082ms
2025-02-06 15:25:56.531 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:25:56.532 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:25:56.533 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 2.4896ms
2025-02-06 15:25:56.539 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:25:56.540 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:25:56.543 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:25:56.548 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:25:56.558 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:25:56.560 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:25:56.576 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:25:56.589 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:25:56.604 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:25:56.609 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 61.016ms
2025-02-06 15:25:56.609 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:25:56.610 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 70.8435ms
2025-02-06 15:25:58.864 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:25:58.865 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:25:58.865 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.7636ms
2025-02-06 15:25:58.867 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:25:58.868 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:25:58.870 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:25:58.870 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:25:58.872 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 15:25:58.872 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:25:58.874 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:25:58.885 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:25:58.886 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:25:58.886 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 15.6584ms
2025-02-06 15:25:58.886 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:25:58.887 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 19.4927ms
2025-02-06 15:26:00.468 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8018 - null null
2025-02-06 15:26:00.469 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:00.470 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8018 - 204 null null 2.2898ms
2025-02-06 15:26:00.473 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8018 - application/json 2
2025-02-06 15:26:00.474 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:00.475 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 15:26:00.478 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:26:00.482 +05:00 [INF] Вход в StartTest(TestId=8018)
2025-02-06 15:26:00.483 +05:00 [INF] StartTestAsync(TestId=8018, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 15:26:00.491 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 15:26:00.508 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 15:26:00.620 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 15:26:00.656 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:26:00.666 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:26:00.693 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 15:26:00.700 +05:00 [INF] Тест успешно создан: UserTestId=10023
2025-02-06 15:26:00.700 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 15:26:00.703 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 224.4864ms
2025-02-06 15:26:00.703 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 15:26:00.703 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8018 - 200 null application/json; charset=utf-8 230.7515ms
2025-02-06 15:26:07.238 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10023/save - null null
2025-02-06 15:26:07.238 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:07.239 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10023/save - 204 null null 0.9745ms
2025-02-06 15:26:07.240 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10023/save - application/json 311
2025-02-06 15:26:07.241 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:07.241 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 15:26:07.244 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 15:26:07.269 +05:00 [INF] SaveAnswers(UserTestId=10023), Count=5
2025-02-06 15:26:07.270 +05:00 [INF] SaveAnswersAsync(UserTestId=10023, CountAnswers=5)
2025-02-06 15:26:07.278 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:26:07.322 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsSurvey], [s].[Name], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 15:26:07.350 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:26:07.352 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 15:26:07.355 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 111.0799ms
2025-02-06 15:26:07.355 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 15:26:07.355 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10023/save - 200 null application/json; charset=utf-8 115.2494ms
2025-02-06 15:26:07.359 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10023/check - null null
2025-02-06 15:26:07.360 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:07.360 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10023/check - 204 null null 0.5599ms
2025-02-06 15:26:07.362 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10023/check - null null
2025-02-06 15:26:07.362 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:07.363 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 15:26:07.365 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 15:26:07.367 +05:00 [INF] CheckAnswers(UserTestId=10023)
2025-02-06 15:26:07.369 +05:00 [INF] CheckAnswersAsync(UserTestId=10023)
2025-02-06 15:26:07.370 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsSurvey], [s].[Name], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 15:26:07.374 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 15:26:07.377 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 11.6891ms
2025-02-06 15:26:07.377 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 15:26:07.377 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10023/check - 200 null application/json; charset=utf-8 15.3802ms
2025-02-06 15:26:12.676 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:26:12.677 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:12.677 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.8249ms
2025-02-06 15:26:12.687 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:26:12.687 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:12.688 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:26:12.688 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:26:12.691 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:26:12.691 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:26:12.692 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:26:12.695 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:26:12.695 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:26:12.696 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 7.5181ms
2025-02-06 15:26:12.696 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:26:12.696 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 9.0997ms
2025-02-06 15:26:18.743 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:26:18.744 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:18.745 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.5683ms
2025-02-06 15:26:18.748 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:26:18.749 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:18.750 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:26:18.750 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:26:18.752 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:26:18.753 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:26:18.755 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:26:18.760 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:26:18.761 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:26:18.761 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 11.4667ms
2025-02-06 15:26:18.762 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:26:18.762 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 13.7106ms
2025-02-06 15:26:39.458 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:26:39.458 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:39.459 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.9621ms
2025-02-06 15:26:39.462 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:26:39.463 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:39.465 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:26:39.468 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:26:39.475 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 15:26:39.482 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:26:39.495 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:26:39.551 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:26:39.590 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:26:39.594 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 125.8365ms
2025-02-06 15:26:39.594 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:26:39.595 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 132.4455ms
2025-02-06 15:26:41.366 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:26:41.367 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:41.367 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.499ms
2025-02-06 15:26:41.369 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:26:41.369 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:26:41.369 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:26:41.369 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:26:41.372 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 15:26:41.373 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:26:41.381 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:26:41.444 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:26:41.455 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:26:41.455 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 85.9114ms
2025-02-06 15:26:41.455 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:26:41.456 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 87.2626ms
2025-02-06 15:31:28.754 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:31:28.754 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:28.755 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.3581ms
2025-02-06 15:31:28.760 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:31:28.760 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:28.761 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:31:28.761 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:31:28.764 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:31:28.765 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:31:28.769 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:31:28.776 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:31:28.777 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:31:28.777 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 16.2868ms
2025-02-06 15:31:28.777 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:31:28.778 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 18.0431ms
2025-02-06 15:31:29.922 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:31:29.922 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:29.923 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.7711ms
2025-02-06 15:31:29.925 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:31:29.926 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:29.926 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:31:29.926 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:31:29.928 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:31:29.928 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:31:29.931 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:31:29.934 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:31:29.935 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:31:29.935 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 8.5469ms
2025-02-06 15:31:29.935 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:31:29.935 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.0765ms
2025-02-06 15:31:34.013 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:31:34.013 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:34.014 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4706ms
2025-02-06 15:31:34.015 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 15:31:34.015 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:34.016 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:31:34.016 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:31:34.017 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 15:31:34.017 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:31:34.018 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:31:34.021 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:31:34.022 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:31:34.022 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.2381ms
2025-02-06 15:31:34.022 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:31:34.022 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 7.1411ms
2025-02-06 15:31:36.230 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8017 - null null
2025-02-06 15:31:36.231 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:36.231 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8017 - 204 null null 0.8226ms
2025-02-06 15:31:36.234 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8017 - application/json 2
2025-02-06 15:31:36.234 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:36.235 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 15:31:36.235 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:31:36.236 +05:00 [INF] Вход в StartTest(TestId=8017)
2025-02-06 15:31:36.236 +05:00 [INF] StartTestAsync(TestId=8017, UserId=0b2c8b40-ca96-446f-999f-1281c3589515)
2025-02-06 15:31:36.239 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 15:31:36.242 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 15:31:36.256 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 15:31:36.262 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:31:36.266 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 15:31:36.267 +05:00 [INF] Тест успешно создан: UserTestId=10024
2025-02-06 15:31:36.267 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 15:31:36.267 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 32.3713ms
2025-02-06 15:31:36.267 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 15:31:36.268 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8017 - 200 null application/json; charset=utf-8 33.6332ms
2025-02-06 15:31:43.299 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10024/save - null null
2025-02-06 15:31:43.300 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:43.300 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10024/save - 204 null null 0.4444ms
2025-02-06 15:31:43.302 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10024/save - application/json 311
2025-02-06 15:31:43.302 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:43.302 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 15:31:43.302 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 15:31:43.305 +05:00 [INF] SaveAnswers(UserTestId=10024), Count=5
2025-02-06 15:31:43.305 +05:00 [INF] SaveAnswersAsync(UserTestId=10024, CountAnswers=5)
2025-02-06 15:31:43.312 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsSurvey], [s].[Name], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 15:31:43.317 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 15:31:43.318 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 15:31:43.318 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 15.5777ms
2025-02-06 15:31:43.318 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 15:31:43.318 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10024/save - 200 null application/json; charset=utf-8 16.6612ms
2025-02-06 15:31:43.324 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10024/check - null null
2025-02-06 15:31:43.324 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:43.324 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10024/check - 204 null null 0.365ms
2025-02-06 15:31:43.325 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10024/check - null null
2025-02-06 15:31:43.326 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:43.326 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 15:31:43.326 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 15:31:43.327 +05:00 [INF] CheckAnswers(UserTestId=10024)
2025-02-06 15:31:43.327 +05:00 [INF] CheckAnswersAsync(UserTestId=10024)
2025-02-06 15:31:43.328 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsSurvey], [s].[Name], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 15:31:43.330 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 15:31:43.330 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 3.7923ms
2025-02-06 15:31:43.330 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 15:31:43.330 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10024/check - 200 null application/json; charset=utf-8 4.5727ms
2025-02-06 15:31:54.572 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:31:54.573 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:54.573 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 1.393ms
2025-02-06 15:31:54.576 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 15:31:54.577 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:54.577 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:31:54.577 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 15:31:54.578 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 15:31:54.579 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 15:31:54.580 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 15:31:54.581 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 15:31:54.582 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:31:54.582 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 4.8535ms
2025-02-06 15:31:54.582 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 15:31:54.583 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 6.828ms
2025-02-06 15:31:57.197 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:31:57.198 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:57.198 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.6072ms
2025-02-06 15:31:57.200 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:31:57.200 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:57.200 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:31:57.200 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:31:57.202 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:31:57.202 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:31:57.203 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:31:57.205 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:31:57.206 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:31:57.206 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 5.9693ms
2025-02-06 15:31:57.206 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:31:57.207 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 7.1323ms
2025-02-06 15:31:58.195 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:31:58.196 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:58.196 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.4782ms
2025-02-06 15:31:58.198 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:31:58.198 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:31:58.199 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:31:58.199 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:31:58.200 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 15:31:58.202 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:31:58.211 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:31:58.215 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:31:58.216 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 17.1089ms
2025-02-06 15:31:58.216 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:31:58.216 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 18.4248ms
2025-02-06 15:32:00.219 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:32:00.219 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:32:00.219 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.3839ms
2025-02-06 15:32:00.221 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:32:00.221 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:32:00.221 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:32:00.221 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:32:00.222 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 15:32:00.223 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:32:00.234 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:32:00.238 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:32:00.238 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 16.6669ms
2025-02-06 15:32:00.238 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:32:00.238 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 17.546ms
2025-02-06 15:32:26.570 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 15:32:26.640 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 15:32:26.733 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 15:32:26.869 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 15:32:26.946 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 15:32:26.946 +05:00 [INF] Hosting environment: Development
2025-02-06 15:32:26.946 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 15:32:27.052 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 191.0584ms
2025-02-06 15:32:27.058 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 15:32:27.068 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 5.8937ms
2025-02-06 15:32:27.109 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 15:32:27.143 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.3708ms
2025-02-06 15:32:27.182 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 15:32:27.207 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.6094ms
2025-02-06 15:32:32.798 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:32:32.807 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:32:32.809 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 11.6888ms
2025-02-06 15:32:32.829 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:32:32.835 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:32:32.945 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:32:32.970 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:32:33.119 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 15:32:33.155 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:32:33.228 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:32:33.324 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:32:33.449 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:32:33.463 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 488.2487ms
2025-02-06 15:32:33.464 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:32:33.469 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 639.8548ms
2025-02-06 15:32:36.136 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:32:36.137 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:32:36.138 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 1.4735ms
2025-02-06 15:32:36.141 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:32:36.142 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:32:36.145 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:32:36.145 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:32:36.156 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 15:32:36.160 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:32:36.175 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 15:32:36.237 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:32:36.254 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:32:36.255 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 108.6789ms
2025-02-06 15:32:36.255 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:32:36.255 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 113.4527ms
2025-02-06 15:32:49.620 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:32:49.621 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:32:49.621 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.4603ms
2025-02-06 15:32:49.625 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 15:32:49.625 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:32:49.630 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:32:49.634 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 15:32:49.636 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 15:32:49.637 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 15:32:49.642 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 15:32:49.665 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 15:32:49.675 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:32:49.680 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 46.0761ms
2025-02-06 15:32:49.680 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 15:32:49.680 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 55.6815ms
2025-02-06 15:33:14.260 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 15:33:14.261 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:33:14.261 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.7166ms
2025-02-06 15:33:14.265 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 15:33:14.266 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:33:14.266 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:33:14.269 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 15:33:14.271 +05:00 [INF] GetAll Topics
2025-02-06 15:33:14.279 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 15:33:14.287 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:33:14.288 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 19.188ms
2025-02-06 15:33:14.289 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 15:33:14.289 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 23.5797ms
2025-02-06 15:38:11.301 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:38:11.301 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:38:11.302 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.9433ms
2025-02-06 15:38:11.314 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 15:38:11.314 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:38:11.315 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:38:11.315 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:38:11.323 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 15:38:11.325 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:38:11.366 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:38:11.370 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:38:11.371 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 55.5295ms
2025-02-06 15:38:11.371 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:38:11.371 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 57.0866ms
2025-02-06 15:38:30.300 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:38:30.300 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:38:30.300 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.6482ms
2025-02-06 15:38:30.308 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 15:38:30.309 +05:00 [INF] CORS policy execution successful.
2025-02-06 15:38:30.309 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:38:30.310 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 15:38:30.311 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 15:38:30.312 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 15:38:30.323 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 15:38:30.327 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 15:38:30.327 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 17.6405ms
2025-02-06 15:38:30.327 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 15:38:30.328 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 19.3859ms
2025-02-06 16:11:32.965 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:11:32.980 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 15.7894ms
2025-02-06 16:11:33.011 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:11:33.012 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.12ms
2025-02-06 16:11:33.015 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:11:33.029 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.5977ms
2025-02-06 16:11:33.126 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:11:33.145 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.7506ms
2025-02-06 16:12:52.374 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:12:52.374 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:12:52.374 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.5979ms
2025-02-06 16:12:52.377 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:12:52.377 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:12:52.381 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.02.2025 10:52:33', Current time (UTC): '06.02.2025 11:12:52'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-06 16:12:52.397 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.02.2025 10:52:33', Current time (UTC): '06.02.2025 11:12:52'.
2025-02-06 16:12:52.398 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-06 16:12:52.404 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 16:12:52.406 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 401 null null 29.0724ms
2025-02-06 16:16:54.209 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:16:54.217 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 8.138ms
2025-02-06 16:16:54.233 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:16:54.233 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:16:54.234 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.8505ms
2025-02-06 16:16:54.247 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.7057ms
2025-02-06 16:16:54.361 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:16:54.380 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.3851ms
2025-02-06 16:22:11.583 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:22:11.587 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 4.5527ms
2025-02-06 16:22:11.602 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:22:11.602 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:22:11.603 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.7721ms
2025-02-06 16:22:11.614 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.9499ms
2025-02-06 16:22:11.696 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:22:11.707 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.2273ms
2025-02-06 16:31:05.851 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:31:05.855 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 4.1061ms
2025-02-06 16:31:05.872 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:31:05.875 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:31:05.884 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 9.2321ms
2025-02-06 16:31:05.887 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.2723ms
2025-02-06 16:31:05.968 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:31:05.977 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.4799ms
2025-02-06 16:32:29.807 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 16:32:29.879 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 16:32:29.978 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 16:32:30.112 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:32:30.190 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 16:32:30.191 +05:00 [INF] Hosting environment: Development
2025-02-06 16:32:30.191 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 16:32:30.284 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 181.3185ms
2025-02-06 16:32:30.286 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:32:30.306 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 15.3574ms
2025-02-06 16:32:30.341 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:32:30.372 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.6635ms
2025-02-06 16:32:30.411 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:32:30.437 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.4059ms
2025-02-06 16:46:47.709 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:46:47.720 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 12.0244ms
2025-02-06 16:46:47.735 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:46:47.735 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:46:47.737 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.4415ms
2025-02-06 16:46:47.750 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.9325ms
2025-02-06 16:46:47.806 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:46:47.824 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.9219ms
2025-02-06 16:47:47.627 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:47:47.635 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 7.5483ms
2025-02-06 16:47:47.651 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:47:47.652 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:47:47.652 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 0.6989ms
2025-02-06 16:47:47.660 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.4611ms
2025-02-06 16:47:47.734 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:47:47.749 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.2233ms
2025-02-06 16:48:10.080 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:48:10.087 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 6.9715ms
2025-02-06 16:48:10.103 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:48:10.106 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:48:10.108 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 1.7333ms
2025-02-06 16:48:10.121 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.5331ms
2025-02-06 16:48:10.195 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:48:10.209 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1628ms
2025-02-06 16:48:32.143 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:48:32.160 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:32.163 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 20.0509ms
2025-02-06 16:48:32.169 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:48:32.173 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:32.247 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.02.2025 10:52:33', Current time (UTC): '06.02.2025 11:48:32'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-06 16:48:32.260 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.02.2025 10:52:33', Current time (UTC): '06.02.2025 11:48:32'.
2025-02-06 16:48:32.264 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-06 16:48:32.268 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 16:48:32.268 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 401 null null 99.0528ms
2025-02-06 16:48:35.377 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 16:48:35.378 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:35.378 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 1.3361ms
2025-02-06 16:48:35.380 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 49
2025-02-06 16:48:35.381 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:35.383 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 16:48:35.400 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 16:48:35.427 +05:00 [INF] Запрос на логин пользователя: admin@gmail.com
2025-02-06 16:48:35.480 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 16:48:35.602 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 16:48:35.610 +05:00 [INF] Пользователь admin@gmail.com успешно залогинился
2025-02-06 16:48:35.614 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 16:48:35.620 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 216.841ms
2025-02-06 16:48:35.620 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 16:48:35.623 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 243.3589ms
2025-02-06 16:48:35.634 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:48:35.635 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:35.635 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.1617ms
2025-02-06 16:48:35.638 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:48:35.639 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:35.651 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:48:35.655 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:48:35.742 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:48:35.743 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:48:35.774 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:48:35.839 +05:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:48:35.845 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:35.914 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:35.945 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 289.3924ms
2025-02-06 16:48:35.945 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:48:35.989 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method201(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:35.996 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 357.7391ms
2025-02-06 16:48:40.575 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:48:40.576 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:40.576 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 1.0966ms
2025-02-06 16:48:40.579 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:48:40.579 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:40.581 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:48:40.584 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:48:40.586 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 16:48:40.588 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 16:48:40.594 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:48:40.606 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:48:40.607 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:40.642 +05:00 [ERR] Ошибка в GetAllTests
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.TestService.GetAllTestsPaginatedAsync(Int32 page, Int32 pageSize, String currentUserId, Boolean isAdmin) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 169
   at QuizMasterAPI.Controllers.TestsController.GetAllTests(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 88
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:40.660 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 76.0314ms
2025-02-06 16:48:40.660 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:48:40.689 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.TestService.GetAllTestsPaginatedAsync(Int32 page, Int32 pageSize, String currentUserId, Boolean isAdmin) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 169
   at QuizMasterAPI.Controllers.TestsController.GetAllTests(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 88
   at lambda_method268(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:40.693 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 500 null application/json 114.6306ms
2025-02-06 16:48:45.094 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:48:45.095 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:45.096 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.9259ms
2025-02-06 16:48:45.098 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:48:45.099 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:45.099 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:48:45.100 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:48:45.102 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:48:45.102 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:48:45.104 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:48:45.108 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:48:45.108 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:45.149 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:45.167 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 67.655ms
2025-02-06 16:48:45.168 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:48:45.197 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method201(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:45.203 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 104.8314ms
2025-02-06 16:48:48.512 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:48:48.512 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:48.512 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.6295ms
2025-02-06 16:48:48.515 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:48:48.515 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:48.516 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:48:48.519 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:48:48.521 +05:00 [INF] GetAll Topics
2025-02-06 16:48:48.540 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:48:48.541 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:48.588 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 69.3297ms
2025-02-06 16:48:48.588 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:48:48.618 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TopicRepository.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TopicRepository.cs:line 20
   at QuizMasterAPI.Services.TopicService.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 25
   at QuizMasterAPI.Controllers.TopicController.GetAll() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 28
   at lambda_method298(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:48.621 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 500 null application/json 106.8022ms
2025-02-06 16:48:50.806 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:48:50.806 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:48:50.807 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:48:50.807 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:48:50.808 +05:00 [INF] GetAll Topics
2025-02-06 16:48:50.811 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:48:50.812 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:50.861 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 53.6585ms
2025-02-06 16:48:50.861 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:48:50.888 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TopicRepository.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TopicRepository.cs:line 20
   at QuizMasterAPI.Services.TopicService.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 25
   at QuizMasterAPI.Controllers.TopicController.GetAll() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 28
   at lambda_method298(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:48:50.892 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 500 null application/json 85.8043ms
2025-02-06 16:49:01.730 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:49:01.731 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:01.731 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.7024ms
2025-02-06 16:49:01.734 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:49:01.734 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:01.735 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:49:01.735 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:49:01.737 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 16:49:01.737 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0b2c8b40-ca96-446f-999f-1281c3589515, isAdmin=true)
2025-02-06 16:49:01.740 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:49:01.744 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:49:01.745 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:01.775 +05:00 [ERR] Ошибка в GetAllTests
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.TestService.GetAllTestsPaginatedAsync(Int32 page, Int32 pageSize, String currentUserId, Boolean isAdmin) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 169
   at QuizMasterAPI.Controllers.TestsController.GetAllTests(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 88
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:01.792 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 56.8672ms
2025-02-06 16:49:01.792 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:49:01.819 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.TestService.GetAllTestsPaginatedAsync(Int32 page, Int32 pageSize, String currentUserId, Boolean isAdmin) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 169
   at QuizMasterAPI.Controllers.TestsController.GetAllTests(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 88
   at lambda_method268(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:01.823 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 500 null application/json 89.2756ms
2025-02-06 16:49:04.932 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:04.932 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:04.933 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.0729ms
2025-02-06 16:49:04.936 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:04.937 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:04.937 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:04.937 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:49:04.942 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:49:04.942 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:49:04.945 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:49:04.948 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:49:04.949 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:04.984 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:05.002 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 64.1333ms
2025-02-06 16:49:05.002 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:05.029 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method201(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:05.032 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 95.7755ms
2025-02-06 16:49:05.697 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:49:05.697 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:05.698 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 1.1241ms
2025-02-06 16:49:05.700 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:49:05.701 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:05.702 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:49:05.705 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:49:05.708 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:49:05.716 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:49:05.734 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 16:49:05.785 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:49:05.786 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:05.824 +05:00 [ERR] Ошибка в GetAllFull()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.UserTestService.GetAllFullPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 367
   at UserTestsController.GetAllFull(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 139
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:05.841 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 135.8949ms
2025-02-06 16:49:05.841 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:49:05.870 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.UserTestService.GetAllFullPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 367
   at UserTestsController.GetAllFull(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 139
   at lambda_method316(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:d8acff3d-1ae1-462e-9d80-ec8f4c8965ad
Error Number:207,State:1,Class:16
2025-02-06 16:49:05.873 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 500 null application/json 172.6347ms
2025-02-06 16:49:18.775 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 16:49:18.845 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 16:49:18.940 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 16:49:19.075 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:49:19.149 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 16:49:19.149 +05:00 [INF] Hosting environment: Development
2025-02-06 16:49:19.149 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 16:49:19.251 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 182.4744ms
2025-02-06 16:49:19.263 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:49:19.271 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 18.765ms
2025-02-06 16:49:19.314 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:49:19.345 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.0012ms
2025-02-06 16:49:19.389 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:49:19.417 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.6894ms
2025-02-06 16:49:24.088 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:24.097 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:24.099 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 10.7503ms
2025-02-06 16:49:24.104 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:24.107 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:24.198 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:24.221 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:49:24.354 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:49:24.355 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:49:24.390 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:49:24.494 +05:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:49:24.514 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:24.573 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:24.605 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 379.7082ms
2025-02-06 16:49:24.606 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:24.666 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method66(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:24.687 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 583.3136ms
2025-02-06 16:49:25.642 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:25.643 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:25.649 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:25.650 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:49:25.668 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:49:25.668 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:49:25.675 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:49:25.680 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:49:25.682 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:25.719 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:25.738 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 87.7834ms
2025-02-06 16:49:25.738 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:25.769 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method66(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:25.774 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 132.7761ms
2025-02-06 16:49:26.233 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:26.234 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:26.238 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 16:49:26.242 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 16:49:26.242 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 9.2179ms
2025-02-06 16:49:31.071 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 16:49:31.072 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:31.072 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 1.2361ms
2025-02-06 16:49:31.076 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 36
2025-02-06 16:49:31.077 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:31.077 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 16:49:31.081 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 16:49:31.101 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-06 16:49:31.113 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 16:49:31.216 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 16:49:31.222 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-06 16:49:31.226 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 16:49:31.228 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 146.7985ms
2025-02-06 16:49:31.228 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 16:49:31.229 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 152.4929ms
2025-02-06 16:49:31.243 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:31.244 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:31.244 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.0413ms
2025-02-06 16:49:31.247 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:31.248 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:31.248 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:31.248 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:49:31.252 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:49:31.252 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:49:31.254 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:49:31.257 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:49:31.258 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:31.298 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:31.315 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 66.715ms
2025-02-06 16:49:31.316 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:31.345 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method66(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:31.349 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 101.9957ms
2025-02-06 16:49:40.040 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:49:40.041 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:40.041 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 1.0597ms
2025-02-06 16:49:40.044 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:49:40.044 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:40.046 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:49:40.050 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:49:40.053 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 16:49:40.055 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 16:49:40.061 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:49:40.072 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:49:40.073 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:40.109 +05:00 [ERR] Ошибка в GetAllTests
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.TestService.GetAllTestsPaginatedAsync(Int32 page, Int32 pageSize, String currentUserId, Boolean isAdmin) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 169
   at QuizMasterAPI.Controllers.TestsController.GetAllTests(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 88
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:40.125 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 74.9474ms
2025-02-06 16:49:40.125 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:49:40.155 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.TestService.GetAllTestsPaginatedAsync(Int32 page, Int32 pageSize, String currentUserId, Boolean isAdmin) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 169
   at QuizMasterAPI.Controllers.TestsController.GetAllTests(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 88
   at lambda_method268(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:40.158 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 500 null application/json 114.8836ms
2025-02-06 16:49:41.995 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:41.995 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:41.996 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.9882ms
2025-02-06 16:49:41.998 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:41.999 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:41.999 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:41.999 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:49:42.001 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:49:42.001 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:49:42.004 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:49:42.007 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:49:42.008 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:42.043 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:42.060 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 60.4211ms
2025-02-06 16:49:42.060 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:42.087 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method66(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:42.090 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 92.0198ms
2025-02-06 16:49:42.930 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:49:42.930 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:42.931 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 1.3128ms
2025-02-06 16:49:42.934 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:49:42.935 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:42.937 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:49:42.939 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:49:42.942 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:49:42.949 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:49:42.963 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 16:49:43.014 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:49:43.015 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:43.049 +05:00 [ERR] Ошибка в GetAllFull()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.UserTestService.GetAllFullPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 367
   at UserTestsController.GetAllFull(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 139
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:43.067 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 128.0192ms
2025-02-06 16:49:43.068 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:49:43.097 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.UserTestService.GetAllFullPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 367
   at UserTestsController.GetAllFull(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 139
   at lambda_method298(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:43.100 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 500 null application/json 166.6173ms
2025-02-06 16:49:45.460 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:49:45.460 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:45.461 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:45.461 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:49:45.463 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:49:45.463 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:49:45.465 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:49:45.469 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:49:45.470 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:45.502 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:45.520 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 58.4716ms
2025-02-06 16:49:45.520 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:49:45.547 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method66(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:45.550 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 90.6238ms
2025-02-06 16:49:49.054 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:49:49.054 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:49.054 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.5945ms
2025-02-06 16:49:49.057 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:49:49.057 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:49.058 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:49:49.060 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:49:49.062 +05:00 [INF] GetAll Topics
2025-02-06 16:49:49.071 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:49:49.072 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:49.125 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 64.9484ms
2025-02-06 16:49:49.125 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:49:49.157 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TopicRepository.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TopicRepository.cs:line 20
   at QuizMasterAPI.Services.TopicService.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 25
   at QuizMasterAPI.Controllers.TopicController.GetAll() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 28
   at lambda_method466(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:49.160 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 500 null application/json 103.3072ms
2025-02-06 16:49:57.391 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:49:57.392 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:57.392 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.8573ms
2025-02-06 16:49:57.394 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:49:57.395 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:49:57.395 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:49:57.395 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:49:57.396 +05:00 [INF] GetAll Topics
2025-02-06 16:49:57.399 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:49:57.400 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:57.446 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 50.7919ms
2025-02-06 16:49:57.446 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:49:57.474 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TopicRepository.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TopicRepository.cs:line 20
   at QuizMasterAPI.Services.TopicService.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 25
   at QuizMasterAPI.Controllers.TopicController.GetAll() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 28
   at lambda_method466(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:49:57.477 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 500 null application/json 82.7613ms
2025-02-06 16:50:13.807 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:50:13.807 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:50:13.808 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.7916ms
2025-02-06 16:50:13.810 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:50:13.810 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:50:13.810 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:50:13.811 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:50:13.813 +05:00 [INF] GetAll Topics
2025-02-06 16:50:13.815 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:50:13.816 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:50:13.863 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 52.4308ms
2025-02-06 16:50:13.863 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:50:13.890 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TopicRepository.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TopicRepository.cs:line 20
   at QuizMasterAPI.Services.TopicService.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 25
   at QuizMasterAPI.Controllers.TopicController.GetAll() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 28
   at lambda_method466(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:50:13.893 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 500 null application/json 83.7099ms
2025-02-06 16:50:37.853 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:50:37.853 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:50:37.853 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.7469ms
2025-02-06 16:50:37.855 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/topic - application/json 40
2025-02-06 16:50:37.855 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:50:37.855 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI)'
2025-02-06 16:50:37.858 +05:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Create(QuizMasterAPI.Models.DTOs.CreateTopicDto) on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:50:37.948 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([IsSurveyTopic], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 16:50:37.956 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'QuizDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-06 16:50:38.021 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI) in 163.1556ms
2025-02-06 16:50:38.021 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI)'
2025-02-06 16:50:38.053 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.GenericRepository`1.SaveChangesAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\GenericRepository.cs:line 55
   at QuizMasterAPI.Services.TopicService.CreateTopicAsync(CreateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 45
   at QuizMasterAPI.Controllers.TopicController.Create(CreateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 52
   at lambda_method484(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-06 16:50:38.056 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/topic - 500 null application/json 201.0865ms
2025-02-06 16:50:39.060 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/topic - application/json 40
2025-02-06 16:50:39.060 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:50:39.061 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI)'
2025-02-06 16:50:39.061 +05:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Create(QuizMasterAPI.Models.DTOs.CreateTopicDto) on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:50:39.067 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([IsSurveyTopic], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-02-06 16:50:39.068 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'QuizDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-06 16:50:39.125 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI) in 64.2352ms
2025-02-06 16:50:39.125 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.Create (QuizMasterAPI)'
2025-02-06 16:50:39.158 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.GenericRepository`1.SaveChangesAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\GenericRepository.cs:line 55
   at QuizMasterAPI.Services.TopicService.CreateTopicAsync(CreateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 45
   at QuizMasterAPI.Controllers.TopicController.Create(CreateTopicDto dto) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 52
   at lambda_method484(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
2025-02-06 16:50:39.161 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/topic - 500 null application/json 100.859ms
2025-02-06 16:50:41.069 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:50:41.069 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:50:41.069 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:50:41.069 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:50:41.071 +05:00 [INF] GetAll Topics
2025-02-06 16:50:41.074 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:50:41.075 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:50:41.126 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 56.9016ms
2025-02-06 16:50:41.127 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:50:41.157 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Repositories.TopicRepository.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Repositories\TopicRepository.cs:line 20
   at QuizMasterAPI.Services.TopicService.GetAllTopicsAsync() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TopicService.cs:line 25
   at QuizMasterAPI.Controllers.TopicController.GetAll() in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TopicController.cs:line 28
   at lambda_method466(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:50:41.161 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 500 null application/json 92.4682ms
2025-02-06 16:51:24.072 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Auth/login - application/json 45
2025-02-06 16:51:24.073 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:51:24.073 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 16:51:24.073 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 16:51:24.079 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-06 16:51:24.084 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 16:51:24.175 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 16:51:24.175 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-06 16:51:24.176 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 16:51:24.176 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 102.9361ms
2025-02-06 16:51:24.176 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 16:51:24.176 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Auth/login - 200 null application/json; charset=utf-8 104.0688ms
2025-02-06 16:51:38.940 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - null null
2025-02-06 16:51:38.941 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:51:38.941 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:51:38.942 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=10
2025-02-06 16:51:38.942 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=10)
2025-02-06 16:51:38.949 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:51:38.954 +05:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:51:38.956 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:51:38.988 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:51:39.005 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 63.7496ms
2025-02-06 16:51:39.005 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:51:39.034 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method66(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:51:39.038 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Questions?page=1&pageSize=10 - 500 null application/json 98.1745ms
2025-02-06 16:51:54.259 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:51:54.260 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:51:54.261 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-06 16:51:54.261 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-06 16:51:54.262 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 401 null null 2.6049ms
2025-02-06 16:51:57.264 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/auth/login - null null
2025-02-06 16:51:57.264 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:51:57.264 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/auth/login - 204 null null 0.4908ms
2025-02-06 16:51:57.266 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/auth/login - application/json 36
2025-02-06 16:51:57.266 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:51:57.267 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 16:51:57.267 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(QuizMasterAPI.Models.DTOs.LoginDto) on controller QuizMasterAPI.Controllers.AuthController (QuizMasterAPI).
2025-02-06 16:51:57.267 +05:00 [INF] Запрос на логин пользователя: AA
2025-02-06 16:51:57.271 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-06 16:51:57.324 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-06 16:51:57.324 +05:00 [INF] Пользователь AA успешно залогинился
2025-02-06 16:51:57.324 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 16:51:57.325 +05:00 [INF] Executed action QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI) in 57.556ms
2025-02-06 16:51:57.325 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.AuthController.Login (QuizMasterAPI)'
2025-02-06 16:51:57.325 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/auth/login - 200 null application/json; charset=utf-8 59.1041ms
2025-02-06 16:51:57.340 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:51:57.341 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:51:57.341 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.9337ms
2025-02-06 16:51:57.344 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:51:57.346 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:51:57.346 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:51:57.346 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:51:57.348 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:51:57.348 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:51:57.351 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:51:57.381 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:51:57.381 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:51:57.412 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:51:57.429 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 82.7544ms
2025-02-06 16:51:57.429 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:51:57.465 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method66(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:51:57.468 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 123.4869ms
2025-02-06 16:52:09.039 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:52:09.040 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:52:09.040 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 1.2127ms
2025-02-06 16:52:09.049 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:52:09.050 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:52:09.050 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:52:09.050 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:52:09.052 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 16:52:09.052 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 16:52:09.055 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:52:09.058 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:52:09.059 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:09.095 +05:00 [ERR] Ошибка в GetAllTests
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.TestService.GetAllTestsPaginatedAsync(Int32 page, Int32 pageSize, String currentUserId, Boolean isAdmin) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 169
   at QuizMasterAPI.Controllers.TestsController.GetAllTests(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 88
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:09.111 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 61.0473ms
2025-02-06 16:52:09.112 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:52:09.140 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.TestService.GetAllTestsPaginatedAsync(Int32 page, Int32 pageSize, String currentUserId, Boolean isAdmin) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\TestService.cs:line 169
   at QuizMasterAPI.Controllers.TestsController.GetAllTests(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\TestsController.cs:line 88
   at lambda_method268(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:09.146 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 500 null application/json 97.2598ms
2025-02-06 16:52:18.801 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:52:18.801 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:52:18.801 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.7335ms
2025-02-06 16:52:18.804 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:52:18.809 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:52:18.810 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:52:18.810 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:52:18.812 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:52:18.812 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:52:18.816 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:52:18.820 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:52:18.821 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:18.854 +05:00 [ERR] Ошибка в GetAllQuestions()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:18.871 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 60.6345ms
2025-02-06 16:52:18.871 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:52:18.897 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.QuestionService.GetAllQuestionsPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\QuestionService.cs:line 267
   at QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\QuestionsController.cs:line 34
   at lambda_method66(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:18.901 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 500 null application/json 97.3874ms
2025-02-06 16:52:21.082 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:52:21.082 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:52:21.082 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.6486ms
2025-02-06 16:52:21.096 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:52:21.096 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:52:21.097 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:52:21.097 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:52:21.098 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:52:21.100 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:52:21.103 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:52:21.104 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'QuizDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:21.135 +05:00 [ERR] Ошибка в GetAllFull()
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.UserTestService.GetAllFullPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 367
   at UserTestsController.GetAllFull(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 139
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:21.150 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 53.5077ms
2025-02-06 16:52:21.151 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:52:21.179 +05:00 [ERR] Необработанное исключение поймано в Middleware.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsSurveyTopic'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at QuizMasterAPI.Services.UserTestService.GetAllFullPaginatedAsync(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Services\UserTestService.cs:line 367
   at UserTestsController.GetAllFull(Int32 page, Int32 pageSize) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Controllers\UserTestsController.cs:line 139
   at lambda_method298(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at QuizMasterAPI.Middleware.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI\Middleware\ExceptionMiddleware.cs:line 23
ClientConnectionId:923a33da-4066-4615-b7da-0c628bbfbc42
Error Number:207,State:1,Class:16
2025-02-06 16:52:21.183 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 500 null application/json 86.8846ms
2025-02-06 16:55:52.687 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-06 16:55:52.709 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-02-06 16:55:52.720 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-02-06 16:55:52.759 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-02-06 16:55:52.764 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-06 16:55:52.765 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-06 16:55:52.767 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-06 16:55:52.927 +05:00 [INF] Applying migration '20250206115542_AddIsSurveyTopicToTopic'.
2025-02-06 16:55:52.958 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Topics] ADD [IsSurveyTopic] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-02-06 16:55:52.959 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250206115542_AddIsSurveyTopicToTopic', N'9.0.1');
2025-02-06 16:55:52.961 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-02-06 16:56:16.227 +05:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 16:56:16.303 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-06 16:56:16.411 +05:00 [INF] User profile is available. Using 'C:\Users\zhanarys\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-06 16:56:16.551 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - null null
2025-02-06 16:56:16.636 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-06 16:56:16.636 +05:00 [INF] Hosting environment: Development
2025-02-06 16:56:16.636 +05:00 [INF] Content root path: C:\Users\zhanarys\source\repos\QuizMasterAPI\QuizMasterAPI
2025-02-06 16:56:16.777 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - 200 null text/html;charset=utf-8 235.514ms
2025-02-06 16:56:16.781 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - null null
2025-02-06 16:56:16.795 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_framework/aspnetcore-browser-refresh.js - 200 13778 application/javascript; charset=utf-8 7.3625ms
2025-02-06 16:56:16.841 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/_vs/browserLink - null null
2025-02-06 16:56:16.872 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.4857ms
2025-02-06 16:56:16.921 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - null null
2025-02-06 16:56:16.952 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.5878ms
2025-02-06 16:56:21.594 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:56:21.610 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:21.613 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 19.9608ms
2025-02-06 16:56:21.620 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:56:21.626 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:21.805 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:56:21.825 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:56:21.955 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:56:21.997 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:56:22.080 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 16:56:22.158 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:56:22.300 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:56:22.318 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 488.2327ms
2025-02-06 16:56:22.318 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:56:22.326 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 706.3436ms
2025-02-06 16:56:24.374 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:56:24.375 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:24.376 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 2.2173ms
2025-02-06 16:56:24.388 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:56:24.389 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:24.392 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:56:24.396 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:56:24.408 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:56:24.409 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:56:24.417 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:56:24.442 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:56:24.453 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:56:24.458 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 61.2128ms
2025-02-06 16:56:24.458 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:56:24.458 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 70.9576ms
2025-02-06 16:56:27.584 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:56:27.585 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:27.585 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.8105ms
2025-02-06 16:56:27.587 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:56:27.587 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:27.590 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:56:27.592 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:56:27.594 +05:00 [INF] GetAll Topics
2025-02-06 16:56:27.601 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:56:27.608 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:56:27.610 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 16.9712ms
2025-02-06 16:56:27.610 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:56:27.610 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 23.311ms
2025-02-06 16:56:34.339 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic/2006 - null null
2025-02-06 16:56:34.339 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:34.340 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic/2006 - 204 null null 0.9338ms
2025-02-06 16:56:34.342 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/topic/2006 - application/json 68
2025-02-06 16:56:34.342 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:34.343 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.Update (QuizMasterAPI)'
2025-02-06 16:56:34.346 +05:00 [INF] Route matched with {action = "Update", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Update(Int32, QuizMasterAPI.Models.DTOs.UpdateTopicDto) on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:56:34.379 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-06 16:56:34.434 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Topics] SET [IsSurveyTopic] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-06 16:56:34.443 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TopicDto'.
2025-02-06 16:56:34.443 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.Update (QuizMasterAPI) in 97.6962ms
2025-02-06 16:56:34.444 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.Update (QuizMasterAPI)'
2025-02-06 16:56:34.444 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/topic/2006 - 200 null application/json; charset=utf-8 101.9925ms
2025-02-06 16:56:34.449 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:56:34.449 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:34.449 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.5348ms
2025-02-06 16:56:34.450 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:56:34.451 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:34.451 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:56:34.451 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:56:34.454 +05:00 [INF] GetAll Topics
2025-02-06 16:56:34.455 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:56:34.456 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:56:34.456 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.9017ms
2025-02-06 16:56:34.456 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:56:34.457 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 6.322ms
2025-02-06 16:56:36.339 +05:00 [INF] Request starting HTTP/2 PUT https://localhost:44336/api/topic/2006 - application/json 68
2025-02-06 16:56:36.339 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:36.340 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.Update (QuizMasterAPI)'
2025-02-06 16:56:36.340 +05:00 [INF] Route matched with {action = "Update", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TopicDto]] Update(Int32, QuizMasterAPI.Models.DTOs.UpdateTopicDto) on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:56:36.343 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
WHERE [t].[Id] = @__p_0
2025-02-06 16:56:36.356 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Topics] SET [IsSurveyTopic] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-06 16:56:36.357 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TopicDto'.
2025-02-06 16:56:36.357 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.Update (QuizMasterAPI) in 17.1607ms
2025-02-06 16:56:36.357 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.Update (QuizMasterAPI)'
2025-02-06 16:56:36.357 +05:00 [INF] Request finished HTTP/2 PUT https://localhost:44336/api/topic/2006 - 200 null application/json; charset=utf-8 18.8507ms
2025-02-06 16:56:36.362 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:56:36.363 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:36.363 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:56:36.363 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:56:36.364 +05:00 [INF] GetAll Topics
2025-02-06 16:56:36.365 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:56:36.366 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:56:36.367 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.3738ms
2025-02-06 16:56:36.367 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:56:36.367 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.4614ms
2025-02-06 16:56:46.390 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:56:46.390 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:46.391 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 1.6062ms
2025-02-06 16:56:46.395 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:56:46.396 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:46.397 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:56:46.397 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:56:46.400 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:56:46.403 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:56:46.414 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:56:46.419 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:56:46.419 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 21.4383ms
2025-02-06 16:56:46.419 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:56:46.419 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 23.893ms
2025-02-06 16:56:58.897 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 16:56:58.897 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:58.897 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.77ms
2025-02-06 16:56:58.900 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 16:56:58.900 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:56:58.901 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:56:58.901 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:56:58.904 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 16:56:58.905 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:56:58.914 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 16:56:58.969 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:56:58.978 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:56:58.979 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 77.6859ms
2025-02-06 16:56:58.979 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:56:58.979 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 78.9863ms
2025-02-06 16:57:21.161 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/10021 - null null
2025-02-06 16:57:21.161 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:21.161 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/10021 - 204 null null 0.6829ms
2025-02-06 16:57:21.172 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/UserTests/10021 - null null
2025-02-06 16:57:21.173 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:21.173 +05:00 [INF] Executing endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-06 16:57:21.176 +05:00 [INF] Route matched with {action = "DeleteUserTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:57:21.180 +05:00 [INF] Вход в DeleteUserTest(Id=10021)
2025-02-06 16:57:21.181 +05:00 [INF] DeleteAsync(UserTestId=10021)
2025-02-06 16:57:21.188 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
FROM [UserTests] AS [u]
WHERE [u].[Id] = @__userTestId_0
2025-02-06 16:57:21.221 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserTests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 16:57:21.225 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 16:57:21.225 +05:00 [INF] Executed action UserTestsController.DeleteUserTest (QuizMasterAPI) in 48.5888ms
2025-02-06 16:57:21.225 +05:00 [INF] Executed endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-06 16:57:21.225 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/UserTests/10021 - 204 null null 53.3269ms
2025-02-06 16:57:26.509 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/10022 - null null
2025-02-06 16:57:26.509 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:26.510 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/10022 - 204 null null 1.118ms
2025-02-06 16:57:26.513 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/UserTests/10022 - null null
2025-02-06 16:57:26.513 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:26.514 +05:00 [INF] Executing endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-06 16:57:26.514 +05:00 [INF] Route matched with {action = "DeleteUserTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:57:26.515 +05:00 [INF] Вход в DeleteUserTest(Id=10022)
2025-02-06 16:57:26.515 +05:00 [INF] DeleteAsync(UserTestId=10022)
2025-02-06 16:57:26.517 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
FROM [UserTests] AS [u]
WHERE [u].[Id] = @__userTestId_0
2025-02-06 16:57:26.523 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserTests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 16:57:26.523 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 16:57:26.523 +05:00 [INF] Executed action UserTestsController.DeleteUserTest (QuizMasterAPI) in 9.4877ms
2025-02-06 16:57:26.523 +05:00 [INF] Executed endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-06 16:57:26.524 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/UserTests/10022 - 204 null null 10.9047ms
2025-02-06 16:57:28.254 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/10023 - null null
2025-02-06 16:57:28.255 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:28.256 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/10023 - 204 null null 1.0945ms
2025-02-06 16:57:28.261 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/UserTests/10023 - null null
2025-02-06 16:57:28.261 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:28.262 +05:00 [INF] Executing endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-06 16:57:28.262 +05:00 [INF] Route matched with {action = "DeleteUserTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:57:28.263 +05:00 [INF] Вход в DeleteUserTest(Id=10023)
2025-02-06 16:57:28.263 +05:00 [INF] DeleteAsync(UserTestId=10023)
2025-02-06 16:57:28.265 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
FROM [UserTests] AS [u]
WHERE [u].[Id] = @__userTestId_0
2025-02-06 16:57:28.278 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserTests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 16:57:28.279 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 16:57:28.279 +05:00 [INF] Executed action UserTestsController.DeleteUserTest (QuizMasterAPI) in 16.8197ms
2025-02-06 16:57:28.279 +05:00 [INF] Executed endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-06 16:57:28.279 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/UserTests/10023 - 204 null null 18.4483ms
2025-02-06 16:57:29.891 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/10024 - null null
2025-02-06 16:57:29.892 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:29.892 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/10024 - 204 null null 0.9244ms
2025-02-06 16:57:29.898 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/UserTests/10024 - null null
2025-02-06 16:57:29.898 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:29.899 +05:00 [INF] Executing endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-06 16:57:29.899 +05:00 [INF] Route matched with {action = "DeleteUserTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:57:29.900 +05:00 [INF] Вход в DeleteUserTest(Id=10024)
2025-02-06 16:57:29.900 +05:00 [INF] DeleteAsync(UserTestId=10024)
2025-02-06 16:57:29.902 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
FROM [UserTests] AS [u]
WHERE [u].[Id] = @__userTestId_0
2025-02-06 16:57:29.916 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserTests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 16:57:29.916 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 16:57:29.916 +05:00 [INF] Executed action UserTestsController.DeleteUserTest (QuizMasterAPI) in 17.357ms
2025-02-06 16:57:29.916 +05:00 [INF] Executed endpoint 'UserTestsController.DeleteUserTest (QuizMasterAPI)'
2025-02-06 16:57:29.916 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/UserTests/10024 - 204 null null 18.6693ms
2025-02-06 16:57:31.106 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:57:31.106 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:31.106 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.468ms
2025-02-06 16:57:31.108 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:57:31.108 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:31.109 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:57:31.109 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:57:31.110 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:57:31.112 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:57:31.122 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:57:31.126 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:57:31.127 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 17.9619ms
2025-02-06 16:57:31.127 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:57:31.127 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 19.2597ms
2025-02-06 16:57:34.150 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:57:34.150 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:34.150 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 1.0355ms
2025-02-06 16:57:34.154 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:57:34.154 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:34.155 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:57:34.155 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:57:34.156 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:57:34.156 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:57:34.159 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:57:34.162 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:57:34.163 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:57:34.164 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 8.9708ms
2025-02-06 16:57:34.164 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:57:34.164 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.4524ms
2025-02-06 16:57:36.006 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:57:36.007 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:36.007 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.7598ms
2025-02-06 16:57:36.013 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:57:36.013 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:36.013 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:57:36.016 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:57:36.018 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 16:57:36.020 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 16:57:36.024 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:57:36.035 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:57:36.038 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:57:36.040 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 24.0867ms
2025-02-06 16:57:36.040 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:57:36.040 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 27.6524ms
2025-02-06 16:57:38.223 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 16:57:38.223 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:38.223 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.8184ms
2025-02-06 16:57:38.225 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 16:57:38.226 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:38.226 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:57:38.226 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:57:38.227 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 16:57:38.228 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 16:57:38.229 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:57:38.238 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:57:38.239 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:57:38.239 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 12.5461ms
2025-02-06 16:57:38.239 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:57:38.239 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 14.0697ms
2025-02-06 16:57:46.070 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:57:46.070 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:46.071 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.78ms
2025-02-06 16:57:46.073 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:57:46.073 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:46.074 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:57:46.074 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:57:46.075 +05:00 [INF] GetAll Topics
2025-02-06 16:57:46.076 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:57:46.078 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:57:46.078 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 4.1489ms
2025-02-06 16:57:46.078 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:57:46.078 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 5.3554ms
2025-02-06 16:57:50.017 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8018 - null null
2025-02-06 16:57:50.018 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:50.018 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8018 - 204 null null 0.9141ms
2025-02-06 16:57:50.024 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8018 - null null
2025-02-06 16:57:50.024 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:50.024 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 16:57:50.028 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:57:50.031 +05:00 [INF] Вход в DeleteTest(Id=8018)
2025-02-06 16:57:50.032 +05:00 [INF] DeleteTestAsync(Id=8018)
2025-02-06 16:57:50.039 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 16:57:50.061 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 16:57:50.061 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 16:57:50.061 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 33.2735ms
2025-02-06 16:57:50.061 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 16:57:50.062 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8018 - 204 null null 38.2028ms
2025-02-06 16:57:50.068 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 16:57:50.068 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:50.069 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.9139ms
2025-02-06 16:57:50.070 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 16:57:50.070 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:50.071 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:57:50.071 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:57:50.071 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 16:57:50.072 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 16:57:50.073 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:57:50.075 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:57:50.076 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:57:50.077 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 5.9231ms
2025-02-06 16:57:50.077 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:57:50.077 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 6.7616ms
2025-02-06 16:57:55.183 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/8017 - null null
2025-02-06 16:57:55.184 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:55.184 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/8017 - 204 null null 1.0566ms
2025-02-06 16:57:55.190 +05:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/tests/8017 - null null
2025-02-06 16:57:55.191 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:55.192 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 16:57:55.192 +05:00 [INF] Route matched with {action = "DeleteTest", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTest(Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:57:55.194 +05:00 [INF] Вход в DeleteTest(Id=8017)
2025-02-06 16:57:55.194 +05:00 [INF] DeleteTestAsync(Id=8017)
2025-02-06 16:57:55.197 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 16:57:55.212 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Tests]
OUTPUT 1
WHERE [Id] = @p0;
2025-02-06 16:57:55.213 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-06 16:57:55.213 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI) in 20.5271ms
2025-02-06 16:57:55.213 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.DeleteTest (QuizMasterAPI)'
2025-02-06 16:57:55.213 +05:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/tests/8017 - 204 null null 22.7941ms
2025-02-06 16:57:55.219 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 16:57:55.220 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:55.220 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.6035ms
2025-02-06 16:57:55.221 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 16:57:55.221 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:55.222 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:57:55.222 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:57:55.223 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 16:57:55.223 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 16:57:55.224 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:57:55.227 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:57:55.228 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:57:55.228 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.1031ms
2025-02-06 16:57:55.228 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:57:55.228 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 6.9827ms
2025-02-06 16:57:57.084 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:57:57.085 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:57.085 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.3826ms
2025-02-06 16:57:57.086 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:57:57.087 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:57:57.087 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:57:57.087 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:57:57.088 +05:00 [INF] GetAll Topics
2025-02-06 16:57:57.090 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:57:57.091 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:57:57.091 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.7897ms
2025-02-06 16:57:57.091 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:57:57.091 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 4.7857ms
2025-02-06 16:58:12.738 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9E%D0%BF%D1%80%D0%BE%D1%81%D0%BD%D0%B8%D0%BA%20%D0%BF%D1%80%D0%BE%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3&countOfQuestions=5&isPrivate=false&isSurvey=true&topicId=2006 - null null
2025-02-06 16:58:12.739 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:12.739 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests/create-template?name=%D0%9E%D0%BF%D1%80%D0%BE%D1%81%D0%BD%D0%B8%D0%BA%20%D0%BF%D1%80%D0%BE%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3&countOfQuestions=5&isPrivate=false&isSurvey=true&topicId=2006 - 204 null null 1.0017ms
2025-02-06 16:58:12.741 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9E%D0%BF%D1%80%D0%BE%D1%81%D0%BD%D0%B8%D0%BA%20%D0%BF%D1%80%D0%BE%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3&countOfQuestions=5&isPrivate=false&isSurvey=true&topicId=2006 - null 0
2025-02-06 16:58:12.741 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:12.741 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 16:58:12.744 +05:00 [INF] Route matched with {action = "CreateTemplate", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.Entities.Test]] CreateTemplate(System.String, Int32, System.Nullable`1[System.Int32], Boolean, Boolean) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:58:12.747 +05:00 [INF] CreateTemplate: Опросник про досуг, count=5, topic=2006, isPrivate=false, isSurvey=true
2025-02-06 16:58:12.747 +05:00 [INF] CreateTemplateAsync(Name=Опросник про досуг, isPrivate=false, isSurvey=true)
2025-02-06 16:58:12.787 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tests] ([CountOfQuestions], [CreatedAt], [IsPrivate], [IsSurvey], [Name], [TopicId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 16:58:12.797 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestDto'.
2025-02-06 16:58:12.797 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI) in 53.2208ms
2025-02-06 16:58:12.797 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.CreateTemplate (QuizMasterAPI)'
2025-02-06 16:58:12.797 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/tests/create-template?name=%D0%9E%D0%BF%D1%80%D0%BE%D1%81%D0%BD%D0%B8%D0%BA%20%D0%BF%D1%80%D0%BE%20%D0%B4%D0%BE%D1%81%D1%83%D0%B3&countOfQuestions=5&isPrivate=false&isSurvey=true&topicId=2006 - 200 null application/json; charset=utf-8 56.74ms
2025-02-06 16:58:12.803 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 16:58:12.803 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:12.803 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=2&pageSize=5 - 204 null null 0.4017ms
2025-02-06 16:58:12.805 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - null null
2025-02-06 16:58:12.805 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:12.806 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:58:12.806 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:58:12.807 +05:00 [INF] Вход в GetAllTests c пагинацией: page=2, pageSize=5
2025-02-06 16:58:12.807 +05:00 [INF] GetAllTestsPaginatedAsync(page=2, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 16:58:12.808 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:58:12.811 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:58:12.812 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:58:12.812 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 6.1521ms
2025-02-06 16:58:12.812 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:58:12.812 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=2&pageSize=5 - 200 null application/json; charset=utf-8 7.1556ms
2025-02-06 16:58:17.031 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8019 - null null
2025-02-06 16:58:17.031 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:17.032 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/start/8019 - 204 null null 0.8261ms
2025-02-06 16:58:17.037 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTests/start/8019 - application/json 2
2025-02-06 16:58:17.038 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:17.038 +05:00 [INF] Executing endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 16:58:17.042 +05:00 [INF] Route matched with {action = "StartTest", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.UserTestDto]] StartTest(Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:58:17.044 +05:00 [INF] Вход в StartTest(TestId=8019)
2025-02-06 16:58:17.046 +05:00 [INF] StartTestAsync(TestId=8019, UserId=0ab40610-2629-4627-b313-6a207691ba1a)
2025-02-06 16:58:17.048 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
FROM [Tests] AS [t]
WHERE [t].[Id] = @__id_0
2025-02-06 16:58:17.066 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__topicId_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text]
FROM (
    SELECT TOP(@__p_1) [q].[Id], [q].[Text], [q].[TopicId], NEWID() AS [c]
    FROM [Questions] AS [q]
    WHERE [q].[TopicId] = @__topicId_Value_0
    ORDER BY NEWID()
) AS [q0]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[c], [q0].[Id]
2025-02-06 16:58:17.078 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserTests] ([CorrectAnswers], [DateCreated], [IsPassed], [TestId], [TotalQuestions], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-06 16:58:17.094 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestQuestions] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([QuestionId], [UserTestId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([QuestionId], [UserTestId])
VALUES (i.[QuestionId], i.[UserTestId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 16:58:17.099 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 16:58:17.128 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTest_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u1].[Id], [u1].[CorrectAnswers], [u1].[DateCreated], [u1].[IsPassed], [u1].[TestId], [u1].[TotalQuestions], [u1].[UserId], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Text], [s].[TopicId], [s].[Id1], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    WHERE [u].[Id] = @__userTest_Id_0
) AS [u1]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [q].[Text], [q].[TopicId], [a].[Id] AS [Id1], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s] ON [u1].[Id] = [s].[UserTestId]
ORDER BY [u1].[Id], [s].[Id], [s].[Id0]
2025-02-06 16:58:17.134 +05:00 [INF] Тест успешно создан: UserTestId=10025
2025-02-06 16:58:17.134 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.UserTestDto'.
2025-02-06 16:58:17.136 +05:00 [INF] Executed action UserTestsController.StartTest (QuizMasterAPI) in 94.1373ms
2025-02-06 16:58:17.136 +05:00 [INF] Executed endpoint 'UserTestsController.StartTest (QuizMasterAPI)'
2025-02-06 16:58:17.136 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTests/start/8019 - 200 null application/json; charset=utf-8 99.7771ms
2025-02-06 16:58:24.011 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10025/save - null null
2025-02-06 16:58:24.011 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:24.012 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10025/save - 204 null null 0.6075ms
2025-02-06 16:58:24.013 +05:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10025/save - application/json 311
2025-02-06 16:58:24.014 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:24.014 +05:00 [INF] Executing endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 16:58:24.017 +05:00 [INF] Route matched with {action = "SaveAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAnswers(Int32, System.Collections.Generic.List`1[QuizMasterAPI.Models.DTOs.UserAnswerSubmitDto]) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 16:58:24.027 +05:00 [INF] SaveAnswers(UserTestId=10025), Count=5
2025-02-06 16:58:24.027 +05:00 [INF] SaveAnswersAsync(UserTestId=10025, CountAnswers=5)
2025-02-06 16:58:24.044 +05:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-02-06 16:58:24.086 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsSurvey], [s].[Name], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 16:58:24.099 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserTestAnswers] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2),
(@p6, @p7, 3),
(@p8, @p9, 4)) AS i ([AnswerOptionId], [UserTestQuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnswerOptionId], [UserTestQuestionId])
VALUES (i.[AnswerOptionId], i.[UserTestQuestionId])
OUTPUT INSERTED.[Id], i._Position;
2025-02-06 16:58:24.101 +05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-06 16:58:24.104 +05:00 [INF] Executed action UserTestAnswersController.SaveAnswers (QuizMasterAPI) in 86.9972ms
2025-02-06 16:58:24.104 +05:00 [INF] Executed endpoint 'UserTestAnswersController.SaveAnswers (QuizMasterAPI)'
2025-02-06 16:58:24.104 +05:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/UserTestAnswers/10025/save - 200 null application/json; charset=utf-8 90.9764ms
2025-02-06 16:58:24.110 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10025/check - null null
2025-02-06 16:58:24.110 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:24.110 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTestAnswers/10025/check - 204 null null 0.3525ms
2025-02-06 16:58:24.113 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10025/check - null null
2025-02-06 16:58:24.113 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:24.113 +05:00 [INF] Executing endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 16:58:24.116 +05:00 [INF] Route matched with {action = "CheckAnswers", controller = "UserTestAnswers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.TestCheckResultDto]] CheckAnswers(Int32) on controller UserTestAnswersController (QuizMasterAPI).
2025-02-06 16:58:24.118 +05:00 [INF] CheckAnswers(UserTestId=10025)
2025-02-06 16:58:24.120 +05:00 [INF] CheckAnswersAsync(UserTestId=10025)
2025-02-06 16:58:24.121 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userTestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectAnswers], [s].[DateCreated], [s].[IsPassed], [s].[TestId], [s].[TotalQuestions], [s].[UserId], [s].[Id0], [s].[CountOfQuestions], [s].[CreatedAt], [s].[IsPrivate], [s].[IsSurvey], [s].[Name], [s].[TopicId], [s0].[Id], [s0].[QuestionId], [s0].[UserTestId], [s0].[Id0], [s0].[Id1], [s0].[AnswerOptionId], [s0].[UserTestQuestionId], [s0].[Text], [s0].[TopicId], [s0].[Id2], [s0].[IsCorrect], [s0].[QuestionId0], [s0].[Text0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId], [t].[Id] AS [Id0], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [UserTests] AS [u]
    INNER JOIN [Tests] AS [t] ON [u].[TestId] = [t].[Id]
    WHERE [u].[Id] = @__userTestId_0
) AS [s]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[QuestionId], [u0].[UserTestId], [q].[Id] AS [Id0], [u1].[Id] AS [Id1], [u1].[AnswerOptionId], [u1].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a].[Id] AS [Id2], [a].[IsCorrect], [a].[QuestionId] AS [QuestionId0], [a].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u0]
    INNER JOIN [Questions] AS [q] ON [u0].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u1] ON [u0].[Id] = [u1].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a] ON [q].[Id] = [a].[QuestionId]
) AS [s0] ON [s].[Id] = [s0].[UserTestId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id], [s0].[Id0], [s0].[Id1]
2025-02-06 16:58:24.124 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.TestCheckResultDto'.
2025-02-06 16:58:24.126 +05:00 [INF] Executed action UserTestAnswersController.CheckAnswers (QuizMasterAPI) in 10.1063ms
2025-02-06 16:58:24.126 +05:00 [INF] Executed endpoint 'UserTestAnswersController.CheckAnswers (QuizMasterAPI)'
2025-02-06 16:58:24.126 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTestAnswers/10025/check - 200 null application/json; charset=utf-8 13.8179ms
2025-02-06 16:58:59.040 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:58:59.041 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:59.041 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 0.5429ms
2025-02-06 16:58:59.043 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 16:58:59.044 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:58:59.045 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:58:59.045 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 16:58:59.046 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 16:58:59.047 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 16:58:59.049 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 16:58:59.057 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 16:58:59.058 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:58:59.058 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 12.9858ms
2025-02-06 16:58:59.058 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 16:58:59.058 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 15.2489ms
2025-02-06 16:59:02.683 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:59:02.683 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:02.683 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.589ms
2025-02-06 16:59:02.686 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:59:02.687 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:02.688 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:59:02.688 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:59:02.691 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:59:02.691 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:59:02.698 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:59:02.702 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:59:02.703 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:59:02.703 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 15.1237ms
2025-02-06 16:59:02.703 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:59:02.703 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 17.3461ms
2025-02-06 16:59:04.924 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:59:04.924 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:04.924 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.8159ms
2025-02-06 16:59:04.928 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:59:04.929 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:04.930 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:04.930 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:59:04.932 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:59:04.935 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:59:04.950 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:59:04.955 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:59:04.956 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 25.8196ms
2025-02-06 16:59:04.956 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:04.956 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 27.8579ms
2025-02-06 16:59:07.002 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 16:59:07.002 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:07.002 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.349ms
2025-02-06 16:59:07.003 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 16:59:07.004 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:07.004 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:07.004 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:59:07.006 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 16:59:07.007 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:59:07.019 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:59:07.021 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:59:07.021 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 16.5482ms
2025-02-06 16:59:07.021 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:07.021 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 17.8717ms
2025-02-06 16:59:18.766 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:59:18.766 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:18.766 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 204 null null 0.4373ms
2025-02-06 16:59:18.769 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:59:18.769 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:18.770 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:18.770 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:59:18.771 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:59:18.773 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:59:18.783 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:59:18.786 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:59:18.787 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 16.9707ms
2025-02-06 16:59:18.787 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:18.787 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 18.0024ms
2025-02-06 16:59:19.477 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 16:59:19.477 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:19.477 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 204 null null 0.435ms
2025-02-06 16:59:19.479 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - null null
2025-02-06 16:59:19.480 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:19.480 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:19.480 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:59:19.481 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=2, size=5
2025-02-06 16:59:19.483 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:59:19.494 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:59:19.496 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:59:19.496 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 16.1663ms
2025-02-06 16:59:19.496 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:19.497 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=2&pageSize=5 - 200 null application/json; charset=utf-8 17.3948ms
2025-02-06 16:59:20.888 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - null null
2025-02-06 16:59:20.889 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:20.889 +05:00 [INF] Executing endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:20.889 +05:00 [INF] Route matched with {action = "GetAllFull", controller = "UserTests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.UserTestHistoryDto]]] GetAllFull(Int32, Int32) on controller UserTestsController (QuizMasterAPI).
2025-02-06 16:59:20.890 +05:00 [INF] Вход в GetAllFull (UserTests) c пагинацией: page=1, size=5
2025-02-06 16:59:20.892 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserTests] AS [u]
2025-02-06 16:59:20.902 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[CorrectAnswers], [u0].[DateCreated], [u0].[IsPassed], [u0].[TestId], [u0].[TotalQuestions], [u0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateRegistered], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name], [s].[Id], [s].[QuestionId], [s].[UserTestId], [s].[Id0], [s].[Id1], [s].[AnswerOptionId], [s].[UserTestQuestionId], [s].[Text], [s].[TopicId], [s].[Id2], [s].[IsCorrect], [s].[QuestionId0], [s].[Text0]
FROM (
    SELECT [u].[Id], [u].[CorrectAnswers], [u].[DateCreated], [u].[IsPassed], [u].[TestId], [u].[TotalQuestions], [u].[UserId]
    FROM [UserTests] AS [u]
    ORDER BY [u].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [u0]
INNER JOIN [AspNetUsers] AS [a] ON [u0].[UserId] = [a].[Id]
INNER JOIN [Tests] AS [t] ON [u0].[TestId] = [t].[Id]
LEFT JOIN [Topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
LEFT JOIN (
    SELECT [u1].[Id], [u1].[QuestionId], [u1].[UserTestId], [q].[Id] AS [Id0], [u2].[Id] AS [Id1], [u2].[AnswerOptionId], [u2].[UserTestQuestionId], [q].[Text], [q].[TopicId], [a0].[Id] AS [Id2], [a0].[IsCorrect], [a0].[QuestionId] AS [QuestionId0], [a0].[Text] AS [Text0]
    FROM [UserTestQuestions] AS [u1]
    INNER JOIN [Questions] AS [q] ON [u1].[QuestionId] = [q].[Id]
    LEFT JOIN [UserTestAnswers] AS [u2] ON [u1].[Id] = [u2].[UserTestQuestionId]
    LEFT JOIN [AnswerOptions] AS [a0] ON [q].[Id] = [a0].[QuestionId]
) AS [s] ON [u0].[Id] = [s].[UserTestId]
ORDER BY [u0].[Id], [a].[Id], [t].[Id], [t0].[Id], [s].[Id], [s].[Id0], [s].[Id1]
2025-02-06 16:59:20.906 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.UserTestHistoryDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:59:20.907 +05:00 [INF] Executed action UserTestsController.GetAllFull (QuizMasterAPI) in 17.3991ms
2025-02-06 16:59:20.907 +05:00 [INF] Executed endpoint 'UserTestsController.GetAllFull (QuizMasterAPI)'
2025-02-06 16:59:20.907 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/UserTests/all-full?page=1&pageSize=5 - 200 null application/json; charset=utf-8 18.8996ms
2025-02-06 16:59:25.491 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:59:25.492 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:25.492 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/questions?page=1&pageSize=5 - 204 null null 0.3873ms
2025-02-06 16:59:25.494 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - null null
2025-02-06 16:59:25.494 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:25.495 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:59:25.495 +05:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.QuestionDto]]] GetAllQuestions(Int32, Int32) on controller QuizMasterAPI.Controllers.QuestionsController (QuizMasterAPI).
2025-02-06 16:59:25.497 +05:00 [INF] Вход в GetAllQuestions() c пагинацией: page=1, pageSize=5
2025-02-06 16:59:25.497 +05:00 [INF] GetAllQuestionsPaginatedAsync(page=1, pageSize=5)
2025-02-06 16:59:25.500 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Questions] AS [q]
2025-02-06 16:59:25.503 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Text], [q0].[TopicId], [t].[Id], [a].[Id], [a].[IsCorrect], [a].[QuestionId], [a].[Text], [t].[IsSurveyTopic], [t].[Name]
FROM (
    SELECT [q].[Id], [q].[Text], [q].[TopicId]
    FROM [Questions] AS [q]
    ORDER BY [q].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [q0]
LEFT JOIN [Topics] AS [t] ON [q0].[TopicId] = [t].[Id]
LEFT JOIN [AnswerOptions] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id], [t].[Id]
2025-02-06 16:59:25.504 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.QuestionDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:59:25.504 +05:00 [INF] Executed action QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI) in 8.9269ms
2025-02-06 16:59:25.504 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.QuestionsController.GetAllQuestions (QuizMasterAPI)'
2025-02-06 16:59:25.504 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/questions?page=1&pageSize=5 - 200 null application/json; charset=utf-8 10.2332ms
2025-02-06 16:59:30.069 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/topic - null null
2025-02-06 16:59:30.069 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:30.069 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/topic - 204 null null 0.2923ms
2025-02-06 16:59:30.071 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/topic - null null
2025-02-06 16:59:30.071 +05:00 [INF] CORS policy execution successful.
2025-02-06 16:59:30.071 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:59:30.071 +05:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[QuizMasterAPI.Models.DTOs.TopicDto]]] GetAll() on controller QuizMasterAPI.Controllers.TopicController (QuizMasterAPI).
2025-02-06 16:59:30.072 +05:00 [INF] GetAll Topics
2025-02-06 16:59:30.074 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsSurveyTopic], [t].[Name]
FROM [Topics] AS [t]
2025-02-06 16:59:30.074 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizMasterAPI.Models.DTOs.TopicDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 16:59:30.075 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI) in 3.1292ms
2025-02-06 16:59:30.075 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TopicController.GetAll (QuizMasterAPI)'
2025-02-06 16:59:30.075 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/topic - 200 null application/json; charset=utf-8 3.8972ms
2025-02-06 17:00:20.340 +05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 17:00:20.341 +05:00 [INF] CORS policy execution successful.
2025-02-06 17:00:20.341 +05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44336/api/tests?page=1&pageSize=5 - 204 null null 1.2035ms
2025-02-06 17:00:20.347 +05:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - null null
2025-02-06 17:00:20.348 +05:00 [INF] CORS policy execution successful.
2025-02-06 17:00:20.348 +05:00 [INF] Executing endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 17:00:20.349 +05:00 [INF] Route matched with {action = "GetAllTests", controller = "Tests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[QuizMasterAPI.Models.DTOs.PaginatedResponse`1[QuizMasterAPI.Models.DTOs.TestDto]]] GetAllTests(Int32, Int32) on controller QuizMasterAPI.Controllers.TestsController (QuizMasterAPI).
2025-02-06 17:00:20.350 +05:00 [INF] Вход в GetAllTests c пагинацией: page=1, pageSize=5
2025-02-06 17:00:20.350 +05:00 [INF] GetAllTestsPaginatedAsync(page=1, pageSize=5, userId=0ab40610-2629-4627-b313-6a207691ba1a, isAdmin=true)
2025-02-06 17:00:20.352 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tests] AS [t]
2025-02-06 17:00:20.358 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CountOfQuestions], [t1].[CreatedAt], [t1].[IsPrivate], [t1].[IsSurvey], [t1].[Name], [t1].[TopicId], [t0].[Id], [t0].[IsSurveyTopic], [t0].[Name]
FROM (
    SELECT [t].[Id], [t].[CountOfQuestions], [t].[CreatedAt], [t].[IsPrivate], [t].[IsSurvey], [t].[Name], [t].[TopicId]
    FROM [Tests] AS [t]
    ORDER BY [t].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [Topics] AS [t0] ON [t1].[TopicId] = [t0].[Id]
ORDER BY [t1].[Id]
2025-02-06 17:00:20.359 +05:00 [INF] Executing OkObjectResult, writing value of type 'QuizMasterAPI.Models.DTOs.PaginatedResponse`1[[QuizMasterAPI.Models.DTOs.TestDto, QuizMasterAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-06 17:00:20.359 +05:00 [INF] Executed action QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI) in 10.7365ms
2025-02-06 17:00:20.359 +05:00 [INF] Executed endpoint 'QuizMasterAPI.Controllers.TestsController.GetAllTests (QuizMasterAPI)'
2025-02-06 17:00:20.360 +05:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/tests?page=1&pageSize=5 - 200 null application/json; charset=utf-8 12.1914ms
